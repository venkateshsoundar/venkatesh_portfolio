[{"page":1,"sentence":"VENKATESH SOUNDARARAJAN  \n +1-(825 ) 962 -9211  ● Calgary, AB ● venkatesh"},{"page":1,"sentence":"balusoundar@gmail"},{"page":1,"sentence":"com  ● ca"},{"page":1,"sentence":"linkedin"},{"page":1,"sentence":"com\/in\/venkateshbalus   \nPortfolio: https:\/\/venkateshbalu"},{"page":1,"sentence":"streamlit"},{"page":1,"sentence":"app\/   \nPROFILE  \nBusiness Analyst and Data Quality Engineer with over eight years of experience in the insurance industry, specializing in \nGuidewire Insurance Suite implementations and functional analysis across PolicyCenter, BillingCenter, and ClaimCenter \nmodules"},{"page":1,"sentence":"Proven ability to gather and tran slate complex business requirements into effective technical solutions, supporting \nprocess improvements and system enhancements"},{"page":1,"sentence":"Currently advancing expertise in data science by completing a Master’s \ndegree in Data Science and Analytics at the University o f Calgary, focusing on data quality, statistical modeling, and machine \nlearning"},{"page":1,"sentence":"Committed to leveraging a strong foundation in insurance domain knowledge and emerging data analytics skills to dri ve \ninnovation and deliver value -added Guidewire business sol utions"},{"page":1,"sentence":"CORE SKILLS  \nFunctional Skills:  \n• Quality Assurance: Test Automation, Functional & Integration Testing, Defect Management  \n• Business Analysis & Requirements Management  \n• Guidewire Insurance Suite  \nProgramming & Data Analysis:  \n• Java  (Selenium WebDriver) , Python, R, SQL  \n• Data Analysis Libraries: Pandas, NumPy, Matplotlib  \n• Machine Learning: Scikit -Learn  \nData Visualization & Reporting:  \n• Tableau, Power BI, Excel, Streamlit Dashboard Development  \nCloud & DevOps Tools:  \n• AWS (EC2, S3, DynamoDB)  \n• Version Control: Git, GitHub  \n• Agile Project Management: JIRA, Rally  \nEDUCATION  \nMasters in Data Science  and Analytics                                                                                                                          September  2024  – Present  \nUniversity of Calgary,  Alberta, Canada  \nBachelor of Engineerin g                                                                                              August  2009 – May -2013  \nAnna University, Chennai, India  \n \nEMPLOYMENT EXPERIENCE  \nSenior Consultant                                    October  2021  - August  2024  \nDeloitte Consulting India Private Limited, India   \n• Worked as a Functional Analyst for Personal Lines insurance projects, gathering and documenting business requirements \nwith SMEs and product owners, translating them into detailed functional specs and JIRA user stories"},{"page":1,"sentence":"• Participated in 3 Amigos sessions (QA, BA, Dev) for new enhancements, helping define clear acceptance criteria and \nreduce requirement ambiguities"},{"page":1,"sentence":"• Supported client demos by walkthrough of implemented functionalities, enhancing client understanding and engagement"},{"page":1,"sentence":"• Executed integration and configuration functionalities aligned with evolving requirements, contributing to a 95% defect \nremoval rate before release"},{"page":1,"sentence":"• Developed an automated status dashboard framework, reducing manual effort by 50% and improving project delivery \nefficiency"},{"page":1,"sentence":"• Prepared and shared Daily Status Reports with stakeholders to ensure clear communication of project progress and issue \ntracking  \n• Gained hands -on experience with AWS cloud services including EC2, DynamoDB, and S3, supporting cloud -based project \ncomponents and enhancing technical proficiency"},{"page":2,"sentence":"Consultant                                                May 2018 - October 202 1  \nCapgemini Technology Services India Private Limited, India  \n• Conducted end -to-end testing of Guidewire -based Worker Compensation policies, validating Operational DataStore (ODS) \ndata accuracy through ETL mapping verification from Customer Portal to Data Warehouse"},{"page":2,"sentence":"• Transitioned from QA to a hybrid BA\/QA role, balancing responsibilities in requirements gathering, analysis, and test \nautomation for insurance software projects"},{"page":2,"sentence":"• Created an automation tool that sent real -time failure alerts, improving response times to critical issues"},{"page":2,"sentence":"• Actively participated in agile forums within a team of eight  members, reducing the sprint  carryover rate by 15%  and helping \nthe team consistently meet sprint goals"},{"page":2,"sentence":"• Provided mentorship and leadership to the data QA team, fostering skill development and ensuring high standards of \nproductivity and quality"},{"page":2,"sentence":"Associate                                                   September  2013 - May  2018 \nCognizant Technology Solutions India Private Limited, India  \n• Joined as a fresher in the Mainframe Testing batch, specializing in DB2 database and batch processing testing within \nhealthcare IT projects"},{"page":2,"sentence":"• Managed and tracked key project metrics for healthcare initiatives valued at over $2M across all phases of the Software \nTesting Life Cycle (STLC), contributing to a 10% increase in process efficiency"},{"page":2,"sentence":"• Led test environment management for continuous testing across three healthcare projects, driving automation and \nreducing test environment setup time by 40%"},{"page":2,"sentence":"• Delivered 10+ knowledge transfer sessions to ensure smooth handover and retention of critical healthcare domain \nknowledge among team members and stakeholders"},{"page":2,"sentence":"• Supported healthcare production remediation processes including ad hoc data extraction, reporting, data patching, and \ndocument re -triggering to resolve critical live system issues"},{"page":2,"sentence":"PROFESSIONAL  DEVE LOPMENT  \n• Member of Data Science Club  - University of Calgary  -2024"},{"page":2,"sentence":"• Member of Test Tribe  - Calgary Chapter - 2024"},{"page":2,"sentence":"CERTIFICATIONS  \n• Insurance and Guidewire Suite Analyst 10"},{"page":2,"sentence":"0 – Jasper –Guidewire Education -2024"},{"page":2,"sentence":"• Karate DSL – Udemy -2023"},{"page":2,"sentence":"• Rest API Automation - Test Leaf  Software Solutions Private Limited – 2023"},{"page":2,"sentence":"• Selenium WebDriver - Test Leaf  Software Solutions Private Limited – 2022"},{"page":2,"sentence":"• SQL for Data Science - Coursera -2020"},{"page":2,"sentence":"• SDET - Capgemini – 2020"},{"page":2,"sentence":"ACCOMPLISHMENTS  \n• Awarded as “Spot Award” 2022 & 2023 for Insurcloud  – Deloitte, Canada"},{"page":2,"sentence":"• Awarded as “Best Contributor” 2018 for COMPASS Program – Hartford Insurance, USA"},{"page":2,"sentence":"• Awarded as “QE & A Maestro” 2017 of Centene by Cognizant QE& A, USA"},{"page":2,"sentence":"• Awarded as “Pride of the Quarter Q1” -April 2017 of Health Net by Cognizant QE& A, USA"},{"page":2,"sentence":"• Awarded as the “Pillar of the Month “May2014” & “August -2015” of Health Net by Cognizant QE& A, USA"},{"page":2,"sentence":"INTERESTS  \n• Event Coordinator and active in Cognizant Outreach, India"},{"page":2,"sentence":"• Volunteered in Cognizant Go Green Activities - Beach and Lake Cleaning, India"},{"page":3,"sentence":"CanadianQualityofLifeAnalysis\nJuly 13, 2025\n0"},{"page":3,"sentence":"1 Introduction\nQuality of life (QoL) refers to an individual’s perception of their position in life, covering physical\nhealth, mental health, and social relationships, relative to their expectations and cultural context\n(W orld Health Organization, 1995)"},{"page":3,"sentence":"In health research, QoL is affected by many factors, including\nhealth drivers and health barriers"},{"page":3,"sentence":"Health drivers such as physical activity and mental health\nconsultations typically have a positive influence on QoL, while health barriers like smoking, alcohol\nconsumption, and cannabis use are often linked to negative health outcomes (Haskell et al"},{"page":3,"sentence":"2007;\nRehm et al"},{"page":3,"sentence":", 2009)"},{"page":3,"sentence":"This project aims to explore the relationship between these health drivers and barriers, focusing\non their impact on physical and mental health outcomes"},{"page":3,"sentence":"Using Visualizations and correlation\nstatistics, we will analyze variables such as body mass index (BMI), self-reported health status,\nand stress to evaluate the influence of health barriers"},{"page":3,"sentence":"F ollowing this, we will perform subgroup\nanalyses to determine how age, sex, region, and education are impacted by these health barriers"},{"page":3,"sentence":"Depending on our findings we will either help identify the most vulnerable populations and suggest\ntargeted interventions to improve their QoL, or try to suggest more appropriate ways to analyze\nthis dataset"},{"page":3,"sentence":"0"},{"page":3,"sentence":"2 Dataset and Guiding Questions\nW e chose the Canadian Community Health Survey as our dataset"},{"page":3,"sentence":"Specifically , we will be using\nthe 2019-2020 microdata file available at Statistics Canada (Statistics Canada, 2023)"},{"page":3,"sentence":"The Canadian Community Health Survey is an annual survey that collects data from respondents\nacross Canada and differentiates them by their province and respective health regions"},{"page":3,"sentence":"The survey\nis voluntary response but is designed to have a large representative sample, all identifying data\nis removed prior to the release of the microdata file"},{"page":3,"sentence":"The survey collects data on a wide variety\nof health indicators, potential health determinants, and plenty of demographic data to assist in\nanalysis"},{"page":3,"sentence":"The datafile comes in the form of a CSV file and comes with a data dictionary and a very\naccessible format given the sheer size of the CSV file"},{"page":3,"sentence":"The dataset has 691 individual columns including the respondent’s record number with the columns\nrepresenting the variables"},{"page":3,"sentence":"F or each of these 691 variables there are 108,252 individual responses\nas the rows for the data file"},{"page":3,"sentence":"W e plan to choose a specific number of variables and analyze them\naccording to the questions listed below"},{"page":3,"sentence":"Our guiding questions can be listed into two categories:\na"},{"page":3,"sentence":"Health Drivers V s"},{"page":3,"sentence":"Health Barriers\n1"},{"page":3,"sentence":"How does alcohol consumption affect mental health among different age groups?\n1"},{"page":4,"sentence":"2"},{"page":4,"sentence":"How does cannabis use impact stress levels?\n3"},{"page":4,"sentence":"What is the relationship between smoking and physical health outcomes?\n4"},{"page":4,"sentence":"Which demographic groups (age, sex, region) are most affected by health barriers?\nb"},{"page":4,"sentence":"Health Drivers V s"},{"page":4,"sentence":"Health Improvements\n1"},{"page":4,"sentence":"What is the relationship between regular exercise and self-reported health status?\n2"},{"page":4,"sentence":"How does stress influence the maintenance or improvement of mental health?\n[4]: #Make sure all appropriate libraries loaded\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib"},{"page":4,"sentence":"pyplot as plt\nimport statsmodels"},{"page":4,"sentence":"api as sm\nfrom statsmodels"},{"page":4,"sentence":"formula"},{"page":4,"sentence":"api importols\nimport plotly"},{"page":4,"sentence":"express as px\nfrom pydataset importdata\nimport warnings\nwarnings"},{"page":4,"sentence":"filterwarnings( 'ignore')\nfrom pydataset importdata\n[7]: #Load dataset attached to submission\ndf=pd"},{"page":4,"sentence":"read_csv( 'pumf_cchs"},{"page":4,"sentence":"csv ')\n[15]: #This should filter all of the variables we want on the general level"},{"page":4,"sentence":"You will ␣\n↪need to determine which variables you will use\n#IMPORTANT I did not include all the CCC values for chronic disease here"},{"page":4,"sentence":"I can ␣\n↪look and see what we need, and try to adjust shortly\n#If you think anything is missing here, feel free to change\ndf_general =df"},{"page":4,"sentence":"filter(items =[\n'ALC_015',\n'ALC_020',\n'GEN_010',\n'GEN_015',\n'GEN_020',\n'GEN_025',\n'CCC_195',\n'GEN_005',\n'HWTDGISW ',\n'CAN_015',\n'SMK_005',\n'SMK_060',\n'PAADVACV ',\n'PAA_030',\n'PAA_060',\n'PAA_095',\n'SBE_005',\n'SBE_010',\n2"},{"page":5,"sentence":"'PAA_005',\n'DHHGAGE',\n'DHH_SEX',\n'GEOGPRV',\n'EHG2DVH3 ',\n'HWT_050',\n'PEX_005',\n'ADM_RNO1 ',\n'GENDVHDI '\n])\nprint(df_general"},{"page":5,"sentence":"head())\nALC_015 ALC_020 GEN_010 GEN_015 GEN_020 GEN_025 CCC_195 GEN_005 \\\n05"},{"page":5,"sentence":"0 3"},{"page":5,"sentence":"0 9"},{"page":5,"sentence":"0 3"},{"page":5,"sentence":"0 2"},{"page":5,"sentence":"0 2"},{"page":5,"sentence":"0 2"},{"page":5,"sentence":"0 3"},{"page":5,"sentence":"0\n11"},{"page":5,"sentence":"0 1"},{"page":5,"sentence":"0 4"},{"page":5,"sentence":"0 3"},{"page":5,"sentence":"0 3"},{"page":5,"sentence":"0 6"},{"page":5,"sentence":"0 1"},{"page":5,"sentence":"0 3"},{"page":5,"sentence":"0\n2 96"},{"page":5,"sentence":"0 96"},{"page":5,"sentence":"0 7"},{"page":5,"sentence":"0 3"},{"page":5,"sentence":"0 3"},{"page":5,"sentence":"0 6"},{"page":5,"sentence":"0 2"},{"page":5,"sentence":"0 2"},{"page":5,"sentence":"0\n3 96"},{"page":5,"sentence":"0 96"},{"page":5,"sentence":"0 8"},{"page":5,"sentence":"0 3"},{"page":5,"sentence":"0 3"},{"page":5,"sentence":"0 6"},{"page":5,"sentence":"0 2"},{"page":5,"sentence":"0 3"},{"page":5,"sentence":"0\n4 96"},{"page":5,"sentence":"0 96"},{"page":5,"sentence":"0 0"},{"page":5,"sentence":"0 5"},{"page":5,"sentence":"0 4"},{"page":5,"sentence":"0 6"},{"page":5,"sentence":"0 2"},{"page":5,"sentence":"0 5"},{"page":5,"sentence":"0\nHWTDGISW CAN_015 … SBE_010 PAA_005 DHHGAGE DHH_SEX GEOGPRV \\\n0 1"},{"page":5,"sentence":"0 2"},{"page":5,"sentence":"0 … 6"},{"page":5,"sentence":"0 2"},{"page":5,"sentence":"0 3"},{"page":5,"sentence":"0 2"},{"page":5,"sentence":"0 47"},{"page":5,"sentence":"0\n1 2"},{"page":5,"sentence":"0 2"},{"page":5,"sentence":"0 … 6"},{"page":5,"sentence":"0 2"},{"page":5,"sentence":"0 5"},{"page":5,"sentence":"0 1"},{"page":5,"sentence":"0 47"},{"page":5,"sentence":"0\n2 2"},{"page":5,"sentence":"0 2"},{"page":5,"sentence":"0 … 1"},{"page":5,"sentence":"0 6"},{"page":5,"sentence":"0 5"},{"page":5,"sentence":"0 2"},{"page":5,"sentence":"0 59"},{"page":5,"sentence":"0\n3 2"},{"page":5,"sentence":"0 2"},{"page":5,"sentence":"0 … 6"},{"page":5,"sentence":"0 6"},{"page":5,"sentence":"0 5"},{"page":5,"sentence":"0 1"},{"page":5,"sentence":"0 13"},{"page":5,"sentence":"0\n4 2"},{"page":5,"sentence":"0 2"},{"page":5,"sentence":"0 … 6"},{"page":5,"sentence":"0 6"},{"page":5,"sentence":"0 4"},{"page":5,"sentence":"0 1"},{"page":5,"sentence":"0 46"},{"page":5,"sentence":"0\nEHG2DVH3 HWT_050 PEX_005 ADM_RNO1 GENDVHDI\n0 3"},{"page":5,"sentence":"0 3"},{"page":5,"sentence":"0 96"},{"page":5,"sentence":"0 1000 2"},{"page":5,"sentence":"0\n1 2"},{"page":5,"sentence":"0 1"},{"page":5,"sentence":"0 96"},{"page":5,"sentence":"0 100005 2"},{"page":5,"sentence":"0\n2 1"},{"page":5,"sentence":"0 1"},{"page":5,"sentence":"0 96"},{"page":5,"sentence":"0 100012 3"},{"page":5,"sentence":"0\n3 1"},{"page":5,"sentence":"0 1"},{"page":5,"sentence":"0 96"},{"page":5,"sentence":"0 100015 2"},{"page":5,"sentence":"0\n4 3"},{"page":5,"sentence":"0 3"},{"page":5,"sentence":"0 96"},{"page":5,"sentence":"0 100018 0"},{"page":5,"sentence":"0\n[5 rows x 27 columns]\n0"},{"page":5,"sentence":"3 Analysis\n0"},{"page":5,"sentence":"3"},{"page":5,"sentence":"1 Health Drivers V s"},{"page":5,"sentence":"Health Barriers\nQuestion 1 - How does alcohol consumption affect mental health among different age\ngroups? T o determine how Alcohol Consumption Affected Mental Health Among Different Age\nGroups, the data was first cleaned"},{"page":5,"sentence":"Due to the size of the initial dataset, any data columns\ncontaining unnecessary variables were removed"},{"page":5,"sentence":"F ollowing this, it was made sure there were no\nmissing values, and removed any values that were of no interest to my analysis, such as ‘valid skip’,\ndo not know, and refuse to say"},{"page":5,"sentence":"As they were not pertinent to the analysis, we felt it was safe to\nremove them"},{"page":5,"sentence":"3"},{"page":6,"sentence":"[ ]: #Make a copy of our initial filtered data, and then filter for our question\ndf3=df_general"},{"page":6,"sentence":"copy()\ndf_q3=df3"},{"page":6,"sentence":"↪filter(items =['ALC_015','ALC_020','GEN_010','GEN_015','GEN_020','GEN_025','CCC_195','DHHGAGE'])\n[ ]: #Some basic info on the dataset\nprint(df_q3"},{"page":6,"sentence":"shape)\nprint(df_q3"},{"page":6,"sentence":"info())\n[ ]: #Ensure no null values\nprint(df_q3"},{"page":6,"sentence":"isnull()"},{"page":6,"sentence":"sum())\n[ ]: #Removed invalid values that relected responses like unknown, did not answer, ␣\n↪or valid skip\ndf_q3=df_q3[~df_q3['GEN_010']"},{"page":6,"sentence":"isin(range(97,100))]\ndf_q3=df_q3[~df_q3['GEN_015']"},{"page":6,"sentence":"isin(range(7,10))]\ndf_q3=df_q3[~df_q3['GEN_020']"},{"page":6,"sentence":"isin(range(7,9))]\ndf_q3=df_q3[~df_q3['GEN_025']"},{"page":6,"sentence":"isin(range(6,10))]\ndf_q3=df_q3[~df_q3['ALC_015']"},{"page":6,"sentence":"isin(range(96,100))]\ndf_q3=df_q3[~df_q3['ALC_020']"},{"page":6,"sentence":"isin(range(96,100))]\ndf_q3=df_q3[~df_q3['CCC_195']"},{"page":6,"sentence":"isin(range(7,9))]\nUpon inspection of the data dictionary , it was discovered that some likret scales went in the direction\nof negative to positive, while other went from positive to negative"},{"page":6,"sentence":"T o avoid confusion, the variable\norder was changed so that all progressed in a single logical direction"},{"page":6,"sentence":"[ ]: #Convert GEN_015,_020,_025 so they progress in a logical orderm with 1=more ␣\n↪negative and 5=more positive\ngen_015_new_order ={1:5,2:4,3:3,4:2,5:1}\ngen_020_new_order ={1:5,2:4,3:3,4:2,5:1}\ngen_025_new_order ={1:5,2:4,3:3,4:2,5:1}\ndf_q3['GEN_015']=df_q3['GEN_015']"},{"page":6,"sentence":"map(gen_015_new_order)\ndf_q3['GEN_020']=df_q3['GEN_020']"},{"page":6,"sentence":"map(gen_015_new_order)\ndf_q3['GEN_025']=df_q3['GEN_025']"},{"page":6,"sentence":"map(gen_015_new_order)\n[ ]: #Create labels that represent the values listed in the data dictionary\nperceived_mental_health ={1:'Poor',2:'Fair',3:'Good',4:'Very good ',5:␣\n↪'Excellent '}\nperceived_life_stress ={1:'Extremely stressful ',2:'Quite a bit stressful ',3:␣\n↪'A bit stressful ',4:'Not very stressful ',5:'Not at all stressful '}\nperceived_work_stress ={1:'Extremely stressful ',2:'Quite a bit stressful ',3:␣\n↪'A bit stressful ',4:'Not very stressful ',5:'Not at all stressful '}\nalc_freq ={\n1:'Less than once\/month ',2:'Once\/month ',3:'2-3 times\/month ',\n4:'Once\/week ',5:'2-3 times\/week ',6:'4-6 times\/week ',7:'Every day '}\n4"},{"page":7,"sentence":"alc_binge_freq ={1:'Never',2:'Less than once\/month ',3:'Once\/month ',4:'2-3␣\n↪times\/month ',\n5:'Once\/week ',6:'More than once\/week ',}\nage_group ={1:\"12 to 17 years \",2:\"18 to 34 years \",3:\"35 to 49 years \",4:\"50 to 64 ␣\n↪years\",5:\"65 and older \"}\n[ ]: #Create new columns that list the previously created labels\ndf_q3[\"perceived_mental_health \"]=df_q3[[\"GEN_015\"]]"},{"page":7,"sentence":"copy()"},{"page":7,"sentence":"replace({ \"GEN_015\":\n↪perceived_mental_health})\ndf_q3[\"perceived_life_stress \"]=df_q3[[\"GEN_020\"]]"},{"page":7,"sentence":"copy()"},{"page":7,"sentence":"replace({ \"GEN_020\":␣\n↪perceived_life_stress})\ndf_q3[\"perceived_work_stress \"]=df_q3[[\"GEN_025\"]]"},{"page":7,"sentence":"copy()"},{"page":7,"sentence":"replace({ \"GEN_025\":␣\n↪perceived_work_stress})\ndf_q3[\"alc_freq \"]=df_q3[[\"ALC_015\"]]"},{"page":7,"sentence":"copy()"},{"page":7,"sentence":"replace({ \"ALC_015\": alc_freq})\ndf_q3[\"alc_binge_freq \"]=df_q3[[\"ALC_020\"]]"},{"page":7,"sentence":"copy()"},{"page":7,"sentence":"replace({ \"ALC_020\":␣\n↪alc_binge_freq})\ndf_q3[\"age_group \"]=df_q3[[\"DHHGAGE\"]]"},{"page":7,"sentence":"copy()"},{"page":7,"sentence":"replace({ \"DHHGAGE\": age_group})\n[ ]: #Make a copy of the dataset, so if we make a mistake we don't need to start ␣\n↪from the beginning\ndf_q3a=df_q3"},{"page":7,"sentence":"copy()\n[ ]: #Create a correlation amongst our variables of interest, and then plot them in ␣\n↪a heatmap\nlabels={\n'ALC_015':'Alcohol Use Frequency ',\n'ALC_020':'Binge Drinking Frequency ',\n'GEN_010':'Life Satisfaction ',\n'GEN_015':'Self-Perceived Mental Health ',\n'GEN_020':'Perceived Life Stress ',\n'CCC_195':'Mood Disorders ',\n'DHHGAGE':'Age Group '\n}\ncorrelations =df_q3a[[ 'ALC_015','ALC_020','GEN_010','GEN_015','GEN_020',␣\n↪'CCC_195','DHHGAGE']]"},{"page":7,"sentence":"corr()\ncorrelations"},{"page":7,"sentence":"rename(columns =labels,index =labels, inplace =True)\nprint(\"Correlation Matrix: \")\nprint(correlations)\n#correlation heatmap\nsns"},{"page":7,"sentence":"heatmap(correlations, annot =True, cmap='coolwarm ', center =0)\nplt"},{"page":7,"sentence":"title(\"Correlation Between Alcohol Use and Mental Health Variables \")\nplt"},{"page":7,"sentence":"show()\nBased on our correlation of all our variables of interest, we most see weak relationships, with a few\nmoderate relationships, none of which were very surprising"},{"page":7,"sentence":"The strongest relationships were seen\n5"},{"page":8,"sentence":"between alcohol consumpiton frequency and binge drinking frequency , and between life satisfaction\nand self-perceived mental health"},{"page":8,"sentence":"W e also see a weak correlation between any alcohol consumption\nvariables and mental health variables"},{"page":8,"sentence":"[ ]: #Create multiple correlations based on age group\ndefcorrelation_by_age_group (df_q3a, age_groups):\nsubset=df[df['DHHGAGE']==age_groups]\ncorrelation_matrix =subset[[ 'ALC_015','ALC_020','GEN_010','GEN_015',␣\n↪'GEN_020','CCC_195']]"},{"page":8,"sentence":"corr()\nreturncorrelation_matrix\ncorrelation_age_2 =correlation_by_age_group(df_q3a, 2)\ncorrelation_age_3 =correlation_by_age_group(df_q3a, 3)\ncorrelation_age_4 =correlation_by_age_group(df_q3a, 4)\nprint(correlation_age_2, '\\n')\nprint(correlation_age_3, '\\n')\nprint(correlation_age_4, '\\n')\n[ ]: #Plot the different heatmap for each correlation based on age group\nlabels={\n'ALC_015':'Alcohol Use Frequency ',\n'ALC_020':'Binge Drinking Frequency ',\n'GEN_010':'Life Satisfaction ',\n'GEN_015':'Self-Perceived Mental Health ',\n'GEN_020':'Perceived Life Stress ',\n'CCC_195':'Mood Disorders ',\n'DHHGAGE':'Age Group '\n}\ncorrelation_age_2 =correlation_by_age_group(df_q3a, 2)\ncorrelation_age_3 =correlation_by_age_group(df_q3a, 3)\ncorrelation_age_4 =correlation_by_age_group(df_q3a, 4)\ncorrelation_age_2"},{"page":8,"sentence":"rename(columns =labels,index =labels, inplace =True)\ncorrelation_age_3"},{"page":8,"sentence":"rename(columns =labels,index =labels, inplace =True)\ncorrelation_age_4"},{"page":8,"sentence":"rename(columns =labels,index =labels, inplace =True)\n#heatmaps for the 3 age groups\nfig, axes =plt"},{"page":8,"sentence":"subplots( 2,2, figsize =(12,10))\nsns"},{"page":8,"sentence":"heatmap(correlation_age_2, annot =True, cmap='coolwarm ', center =0,␣\n↪ax=axes[0,0])\naxes[0,0]"},{"page":8,"sentence":"set_title( 'Correlation Heatmap for Age Group 18-34 ')\nsns"},{"page":8,"sentence":"heatmap(correlation_age_3, annot =True, cmap='coolwarm ', center =0,␣\n↪ax=axes[0,1])\n6"},{"page":9,"sentence":"axes[0,1]"},{"page":9,"sentence":"set_title( 'Correlation Heatmap for Age Group 35-49 ')\nsns"},{"page":9,"sentence":"heatmap(correlation_age_4, annot =True, cmap='coolwarm ', center =0,␣\n↪ax=axes[1,0])\naxes[1,0]"},{"page":9,"sentence":"set_title( 'Correlation Heatmap for Age Group 50-64 ')\nfig"},{"page":9,"sentence":"delaxes(axes[ 1,1]) #rmv empty plot\nplt"},{"page":9,"sentence":"tight_layout()\nplt"},{"page":9,"sentence":"show()\nF rom the above output, we can see the correlations of our variables of interest, segmented by age\ncategories"},{"page":9,"sentence":"By segmenting by age categories we are able to highlight how differening age groups\nexperience the relationships between alcohol use and mental health differently"},{"page":9,"sentence":"A few things to\nnote are:\n• The relationship between alcohol consumption frequency and binge drinking frequency is\nstronger for all age groups"},{"page":9,"sentence":"• The relationship between self-perceived mental health and life satisfaction is highest in the\n18-34 age group"},{"page":9,"sentence":"• The relationship between self-perceived mental health and mood disorders has a negative\ncorrelation for all age groups, suggesting that individuals with mood disorders are will more\nfrequently have lower self-perceived mental health\n• The relationship between perceived life stress and mood disorders has a negative correlation\nfor all age groups, suggesting that those with mood disorders are more life to have higher\nperceived life stress\nDespite this, similar to our previous correlation with all variables, we continue to see a weak\ncorrelation between alcohol consumption variables and mental health variables, indicating that\nthere are additional variables that play a large role in affecting mental health"},{"page":9,"sentence":"[ ]: #Look at the mean value for the various age groups for each variable of interest\nage_group_means =df_q3a"},{"page":9,"sentence":"groupby( 'age_group ')[['ALC_015','ALC_020','GEN_010',␣\n↪'GEN_015','GEN_020','GEN_025','CCC_195']]"},{"page":9,"sentence":"mean()\nprint(age_group_means)\n[ ]: #Creates a dataframe to give the proportion of GEN_015, grouped by ALC_015\navg_counts_alc_freq =df_q3a"},{"page":9,"sentence":"groupby( 'ALC_015', as_index =False)['GEN_015']"},{"page":9,"sentence":"↪value_counts(normalize =True, sort=False)\navg_counts_alc_freq\n[ ]: #Plotting alcohol consumption freq and perceived mental health proportions\n#change the color palette\ncmap=plt"},{"page":9,"sentence":"get_cmap( 'coolwarm ')\ncolors=cmap(np"},{"page":9,"sentence":"linspace( 0,1,5))\nplt"},{"page":9,"sentence":"figure()"},{"page":9,"sentence":"set_figwidth( 16)\n7"},{"page":10,"sentence":"plt"},{"page":10,"sentence":"bar(avg_counts_alc_freq[ 'ALC_015']"},{"page":10,"sentence":"unique() -0"},{"page":10,"sentence":"2,␣\n↪avg_counts_alc_freq[ 'proportion '][::5], width =0"},{"page":10,"sentence":"1, label='Poor',␣\n↪color=colors[0])\nplt"},{"page":10,"sentence":"bar(avg_counts_alc_freq[ 'ALC_015']"},{"page":10,"sentence":"unique() -0"},{"page":10,"sentence":"1,␣\n↪avg_counts_alc_freq[ 'proportion '][1::5], width =0"},{"page":10,"sentence":"1, label='Fair',␣\n↪color=colors[1])\nplt"},{"page":10,"sentence":"bar(avg_counts_alc_freq[ 'ALC_015']"},{"page":10,"sentence":"unique(), ␣\n↪avg_counts_alc_freq[ 'proportion '][2::5], width =0"},{"page":10,"sentence":"1, label='Good',␣\n↪color=colors[2])\nplt"},{"page":10,"sentence":"bar(avg_counts_alc_freq[ 'ALC_015']"},{"page":10,"sentence":"unique() +0"},{"page":10,"sentence":"1,␣\n↪avg_counts_alc_freq[ 'proportion '][3::5], width =0"},{"page":10,"sentence":"1, label='Very good ',␣\n↪color=colors[3])\nplt"},{"page":10,"sentence":"bar(avg_counts_alc_freq[ 'ALC_015']"},{"page":10,"sentence":"unique() +0"},{"page":10,"sentence":"2,␣\n↪avg_counts_alc_freq[ 'proportion '][4::5], width =0"},{"page":10,"sentence":"1, label='Excellent ',␣\n↪color=colors[4])\nplt"},{"page":10,"sentence":"xticks(avg_counts_alc_freq[ 'ALC_015']"},{"page":10,"sentence":"unique() +0"},{"page":10,"sentence":"1\/2,('Less than once\/\n↪month','Once\/month ','2-3 times\/month ','Once\/week ','2-3 times\/week ',\n'4-6 times\/week ','Every␣\n↪day'))\nplt"},{"page":10,"sentence":"xlabel('Perceived Mental Health Level by Alcohol Consumption Frequency ')\nplt"},{"page":10,"sentence":"ylabel('Proportion ')\nplt"},{"page":10,"sentence":"legend()\nplt"},{"page":10,"sentence":"show()\nBased on output above, we can see that as alcohol consumption increase from less than once per\nmonth to 2-3 times per week, the proportion of individuals self perceived mental health improves\nslightly , with a larger proportion reporting excellent perceived mental health when consuming\nalcohol 2-3 times per week"},{"page":10,"sentence":"However for individuals that drink 4-6 times per week, or every day ,\nthe proportion that report excellent mental health drops"},{"page":10,"sentence":"This may indicate that those drinking\nmore frequently may temporarily increase their perceived mental health, but increasing the alcohol\nconsumption frequency by too much will lead to worse self perceived mental health"},{"page":10,"sentence":"[ ]: #Creates a dataframe to give the proportion of GEN_015, grouped by ALC_020\navg_counts_binge_freq =df_q3a"},{"page":10,"sentence":"groupby( 'ALC_020', as_index =False)['GEN_015']"},{"page":10,"sentence":"↪value_counts(normalize =True, sort=False)\navg_counts_binge_freq\n[ ]: #Plotting Binge freq and perceived mental health proportions\n#change the color palette\ncmap=plt"},{"page":10,"sentence":"get_cmap( 'coolwarm ')\ncolors=cmap(np"},{"page":10,"sentence":"linspace( 0,1,5))\nplt"},{"page":10,"sentence":"figure()"},{"page":10,"sentence":"set_figwidth( 16)\nplt"},{"page":10,"sentence":"bar(avg_counts_binge_freq[ 'ALC_020']"},{"page":10,"sentence":"unique() -0"},{"page":10,"sentence":"↪2,avg_counts_binge_freq[ 'proportion '][::5],width=0"},{"page":10,"sentence":"↪1,label='Poor',color=colors[0])\n8"},{"page":11,"sentence":"plt"},{"page":11,"sentence":"bar(avg_counts_binge_freq[ 'ALC_020']"},{"page":11,"sentence":"unique() -0"},{"page":11,"sentence":"↪1,avg_counts_binge_freq[ 'proportion '][1::5],width=0"},{"page":11,"sentence":"1,␣\n↪label='Fair',color=colors[1])\nplt"},{"page":11,"sentence":"bar(avg_counts_binge_freq[ 'ALC_020']"},{"page":11,"sentence":"↪unique(),avg_counts_binge_freq[ 'proportion '][2::5],width=0"},{"page":11,"sentence":"1,␣\n↪label='Good',color=colors[2])\nplt"},{"page":11,"sentence":"bar(avg_counts_binge_freq[ 'ALC_020']"},{"page":11,"sentence":"unique() +0"},{"page":11,"sentence":"↪1,avg_counts_binge_freq[ 'proportion '][3::5],width=0"},{"page":11,"sentence":"1, label='Very␣\n↪good',color=colors[3])\nplt"},{"page":11,"sentence":"bar(avg_counts_binge_freq[ 'ALC_020']"},{"page":11,"sentence":"unique() +0"},{"page":11,"sentence":"↪2,avg_counts_binge_freq[ 'proportion '][4::5],width=0"},{"page":11,"sentence":"1,␣\n↪label='Excellent ',color=colors[4])\nplt"},{"page":11,"sentence":"xticks(avg_counts_binge_freq[ 'ALC_020']"},{"page":11,"sentence":"unique() +0"},{"page":11,"sentence":"1\/2,('Never','Less than ␣\n↪once\/month ','Once\/month ','2-3 times\/month ','Once\/week ',\n'More than once\/week '))\nplt"},{"page":11,"sentence":"xlabel('Perceived Mental Health Level by Binge Drinking Frequency ')\nplt"},{"page":11,"sentence":"ylabel('Proportion ')\nplt"},{"page":11,"sentence":"legend()\nplt"},{"page":11,"sentence":"show()\nBased on output above, we can see that as binge drinking frequency increase, the proportion of\nindividuals self perceived mental health steadily decreases, with individuals who binge drink more\nthan once a week reporting the lowest proportions of very good and excellent mental health, while\nreporting the highest proportions of poor and fair mental health"},{"page":11,"sentence":"This suggests a possible link\nbetween binge drinking and worse perceived mental health"},{"page":11,"sentence":"[ ]: #Plots average self-perceived mental health by alcohol consumption\navg_scores_num =df_q3a"},{"page":11,"sentence":"groupby(\n['ALC_015','ALC_020'])['GEN_015']"},{"page":11,"sentence":"mean()"},{"page":11,"sentence":"reset_index()\nalc_015_labels ={\n1:'Less than once\/month ',\n2:'Once\/month ',\n3:'2-3 times\/month ',\n4:'Once\/week ',\n5:'2-3 times\/week ',\n6:'4-6 times\/week ',\n7:'Every day '\n}\n# Mapping for ALC_020\nalc_020_labels ={\n1:'Never',\n2:'Less than once\/month ',\n3:'Once\/month ',\n4:'2-3 times\/month ',\n5:'Once\/week ',\n6:'More than once\/week ',\n9"},{"page":12,"sentence":"}\ncmap=plt"},{"page":12,"sentence":"get_cmap( 'coolwarm ')\ncolors=cmap(np"},{"page":12,"sentence":"linspace( 0,1,len(alc_020_labels)))\n# Replace the numeric values with the corresponding labels\navg_scores_num[ 'ALC_015']=avg_scores_num[ 'ALC_015']"},{"page":12,"sentence":"map(alc_015_labels)\navg_scores_num[ 'ALC_020']=avg_scores_num[ 'ALC_020']"},{"page":12,"sentence":"map(alc_020_labels)\nalc_020_order =list(alc_020_labels"},{"page":12,"sentence":"values()) # Ensure correct order for ␣\n↪categories\ncolor_map =dict(zip(alc_020_order, colors))\n# Plotting\nplt"},{"page":12,"sentence":"figure(figsize =(12,6))\nsns"},{"page":12,"sentence":"barplot(data =avg_scores_num, x ='ALC_015', y='GEN_015', hue='ALC_020',␣\n↪errorbar ='sd',palette =color_map)\nplt"},{"page":12,"sentence":"title('Average Self-Perceived Mental Health by Alcohol Consumption ')\nplt"},{"page":12,"sentence":"xlabel('Frequency of Alcohol Use ')\nplt"},{"page":12,"sentence":"ylabel('Average Self-Perceived Mental Health ')\nplt"},{"page":12,"sentence":"legend(title ='Binge Drinking Frequency ', bbox_to_anchor =(1"},{"page":12,"sentence":"05,1),␣\n↪loc='upper left ')\nplt"},{"page":12,"sentence":"xticks(rotation =45)\nplt"},{"page":12,"sentence":"tight_layout()\nplt"},{"page":12,"sentence":"show()\nT o visualize the relationship between alcohol consumption and mental health among different age\ngroup, a barchart was created to compare the average self-perceived mental health by both frequency\nof alcohol use and frequency of binge drinking"},{"page":12,"sentence":"One of the main things noticed was the effect binge\ndrinking had on mental health, with the avg self-perceived mental health of the most frequent binge\ndrinkers dropping by almost 0"},{"page":12,"sentence":"5 compared to those that did not\n[ ]: #Plots average self-perceived mental health by age group and alcohol consumption\navg_scores2 =df_q3a"},{"page":12,"sentence":"groupby([ 'DHHGAGE','ALC_015'])['GEN_015']"},{"page":12,"sentence":"mean()"},{"page":12,"sentence":"↪reset_index()\nalc_015_labels ={\n1:'Less than once\/month ',\n2:'Once\/month ',\n3:'2-3 times\/month ',\n4:'Once\/week ',\n5:'2-3 times\/week ',\n6:'4-6 times\/week ',\n7:'Every day '\n}\nage_group ={1:\"12 to 17 years \",2:\"18 to 34 years \",3:\"35 to 49 years \",4:\"50 to 64 ␣\n↪years\",5:\"65 and older \"}\ncmap=plt"},{"page":12,"sentence":"get_cmap( 'coolwarm ')\ncolors=cmap(np"},{"page":12,"sentence":"linspace( 0,1,len(alc_015_labels)))\n10"},{"page":13,"sentence":"avg_scores2[ 'ALC_015']=avg_scores2[ 'ALC_015']"},{"page":13,"sentence":"map(alc_015_labels)\navg_scores2[ 'DHHGAGE']=avg_scores2[ 'DHHGAGE']"},{"page":13,"sentence":"map(age_group)\nalc_015_order =list(alc_015_labels"},{"page":13,"sentence":"values()) # Ensure correct order for ␣\n↪categories\ncolor_map =dict(zip(alc_015_order, colors))\n# Create a bar plot\nplt"},{"page":13,"sentence":"figure(figsize =(12,6))\nsns"},{"page":13,"sentence":"barplot(x ='DHHGAGE', y='GEN_015', hue='ALC_015',␣\n↪data=avg_scores2,palette =color_map)\nplt"},{"page":13,"sentence":"title('Average Self-Perceived Mental Health by Age Group and Alcohol ␣\n↪Consumption ')\nplt"},{"page":13,"sentence":"xlabel('Age Group ')\nplt"},{"page":13,"sentence":"ylabel('Average Self-Perceived Mental Health ')\nplt"},{"page":13,"sentence":"legend(title ='Frequency of Alcohol Use ',bbox_to_anchor =(1"},{"page":13,"sentence":"05,1),␣\n↪loc='upper left ')\nplt"},{"page":13,"sentence":"show()\nF rom the above figure, we can see that as frequency of alcohol consumption increase, there is a slight\nincrease in the average perceived mental health, most notably in those 18-34 and 50-64"},{"page":13,"sentence":"However,\nas individuals drink 4-6 times per week, or more, there is a decrease in average self perceived mental\nhealth"},{"page":13,"sentence":"[ ]: #Plots average self-perceived mental health by age group and binge frequency\navg_scores3 =df_q3a"},{"page":13,"sentence":"groupby([ 'DHHGAGE','ALC_020'])['GEN_015']"},{"page":13,"sentence":"mean()"},{"page":13,"sentence":"↪reset_index()\nalc_020_labels ={\n1:'Never',\n2:'Less than once\/month ',\n3:'Once\/month ',\n4:'2-3 times\/month ',\n5:'Once\/week ',\n6:'More than once\/week ',\n}\nage_group ={1:\"12 to 17 years \",2:\"18 to 34 years \",3:\"35 to 49 years \",4:\"50 to 64 ␣\n↪years\",5:\"65 and older \"}\ncmap=plt"},{"page":13,"sentence":"get_cmap( 'coolwarm ')\ncolors=cmap(np"},{"page":13,"sentence":"linspace( 0,1,len(alc_020_labels)))\navg_scores3[ 'ALC_020']=avg_scores3[ 'ALC_020']"},{"page":13,"sentence":"map(alc_020_labels)\navg_scores3[ 'DHHGAGE']=avg_scores3[ 'DHHGAGE']"},{"page":13,"sentence":"map(age_group)\nalc_020_order =list(alc_020_labels"},{"page":13,"sentence":"values())\ncolor_map =dict(zip(alc_020_order, colors))\n# Create a bar plot\n11"},{"page":14,"sentence":"plt"},{"page":14,"sentence":"figure(figsize =(12,6))\nsns"},{"page":14,"sentence":"barplot(x ='DHHGAGE', y='GEN_015', hue='ALC_020',␣\n↪data=avg_scores3,palette =color_map)\nplt"},{"page":14,"sentence":"title('Average Self-Perceived Mental Health by Age Group and Frequency of ␣\n↪Binge Drinking ')\nplt"},{"page":14,"sentence":"xlabel('Age Group ')\nplt"},{"page":14,"sentence":"ylabel('Average Self-Perceived Mental Health ')\nplt"},{"page":14,"sentence":"legend(title ='Frequency of Binge Drinking ',bbox_to_anchor =(1"},{"page":14,"sentence":"05,1),␣\n↪loc='upper left ')\nplt"},{"page":14,"sentence":"show()\nHere we can see that as the frequency of binge drinking occurs, the average self perceived mental\nhealth of individuals decrease amongst all age groups"},{"page":14,"sentence":"Question 2 - How does cannabis use impact stress levels? T o explore the impact of\ncannabis use on one’s stress level, we want to extract the interested varibles to this question that\nare cannabis use, perceived life stress and perceived work stress"},{"page":14,"sentence":"Then these vriables will be\ncompared and analyzd to determine the imacts of cannabis use"},{"page":14,"sentence":"F rom the initial survey data,\nvalues that are no interest to this question and may create problems to the analysis such as “valide\nskip”, “not state”, “don’t know” and “refusal” were removed from the columns"},{"page":14,"sentence":"All values from\nvaribles are converted into integer type as on the inital dataset, each survey code is represented by\nan integer"},{"page":14,"sentence":"[ ]:df_q4=df"},{"page":14,"sentence":"copy() # make a copy of initial filtered data and filter for the ␣\n↪varibles relavant to this question"},{"page":14,"sentence":"df_q4=df_q4"},{"page":14,"sentence":"filter(items =['GEN_020','GEN_025','CAN_015'])\nprint(df_q4"},{"page":14,"sentence":"head())\n[ ]:df_q4"},{"page":14,"sentence":"to_csv('Question 4"},{"page":14,"sentence":"csv ',index=False) #Create a new csv for analysis for ␣\n↪this guiding question"},{"page":14,"sentence":"[ ]:df_q4"},{"page":14,"sentence":"info() #A peek to the dataset info for its data types and columns names"},{"page":14,"sentence":"df_q4"},{"page":14,"sentence":"describe()\ndf_q4"},{"page":14,"sentence":"dtypes\n0"},{"page":14,"sentence":"3"},{"page":14,"sentence":"2 Data W rangling\n[ ]:df_q4"},{"page":14,"sentence":"isnull()"},{"page":14,"sentence":"sum() #check for missing values\nAs we can see, after running the below code, all the values from interested varibles have been\nconverted to Int32 type"},{"page":14,"sentence":"[ ]:df_q4[['CAN_015','GEN_020','GEN_025']]=df_q4[['CAN_015','GEN_020','GEN_025']]"},{"page":14,"sentence":"↪astype(int) #Converts Cannabis Use CAN_015, GEN_020, GEN_025 into integer ␣\n↪type"},{"page":14,"sentence":"df_q4"},{"page":14,"sentence":"info()\n12"},{"page":15,"sentence":"[ ]: #Removing irrelavent values from perceived life stress veriable\ndf_q4=df_q4"},{"page":15,"sentence":"drop(df_q4[df_q4[ 'GEN_020']==7]"},{"page":15,"sentence":"index)\ndf_q4=df_q4"},{"page":15,"sentence":"drop(df_q4[df_q4[ 'GEN_020']==8]"},{"page":15,"sentence":"index)\n[ ]: #Removing irrelavent values from perceived work stress varible\ndf_q4=df_q4"},{"page":15,"sentence":"drop(df_q4[df_q4[ 'GEN_025']==6]"},{"page":15,"sentence":"index)\ndf_q4=df_q4"},{"page":15,"sentence":"drop(df_q4[df_q4[ 'GEN_025']==7]"},{"page":15,"sentence":"index)\ndf_q4=df_q4"},{"page":15,"sentence":"drop(df_q4[df_q4[ 'GEN_025']==8]"},{"page":15,"sentence":"index)\ndf_q4=df_q4"},{"page":15,"sentence":"drop(df_q4[df_q4[ 'GEN_025']==9]"},{"page":15,"sentence":"index)\n[ ]: #Removing irrelavent values from cannabis use variable\ndf_q4=df_q4"},{"page":15,"sentence":"drop(df_q4[df_q4[ 'CAN_015']==7]"},{"page":15,"sentence":"index)\ndf_q4=df_q4"},{"page":15,"sentence":"drop(df_q4[df_q4[ 'CAN_015']==8]"},{"page":15,"sentence":"index)\ndf_q4=df_q4"},{"page":15,"sentence":"drop(df_q4[df_q4[ 'CAN_015']==9]"},{"page":15,"sentence":"index)\nAfter running the above code, we can see from below that the minimum value is 1 and maximum\nis 5"},{"page":15,"sentence":"values of 6 ,7 ,8, 9 have been removed from dataset"},{"page":15,"sentence":"[ ]:df_q4"},{"page":15,"sentence":"describe()\n0"},{"page":15,"sentence":"3"},{"page":15,"sentence":"3 Data Analysis and Visualization\n[ ]: # Group preceived life stress by cannabis use to prepare for the data analysis"},{"page":15,"sentence":"df4_stress =df_q4"},{"page":15,"sentence":"groupby( 'GEN_020', as_index =False)['CAN_015']"},{"page":15,"sentence":"↪value_counts(normalize =True,sort=False)\ndisplay(df4_stress)\n[ ]: # Create a bar chart to visualize the impact of cannabis use to perceived life ␣\n↪stress"},{"page":15,"sentence":"plt"},{"page":15,"sentence":"figure(figsize =(12,6))\nplt"},{"page":15,"sentence":"bar(df4_stress[ 'GEN_020']"},{"page":15,"sentence":"unique(),df4_stress[ 'proportion '][::2],width=0"},{"page":15,"sentence":"↪3,label='Poeple Used Cannabis in Past 12 Months ')\nplt"},{"page":15,"sentence":"bar(df4_stress[ 'GEN_020']"},{"page":15,"sentence":"unique() +0"},{"page":15,"sentence":"3,df4_stress[ 'proportion '][1::\n↪2],width=0"},{"page":15,"sentence":"3, label=\"People Didn 't Use Cannabis in Past 12 Months \")\nplt"},{"page":15,"sentence":"xticks(df4_stress[ 'GEN_020']"},{"page":15,"sentence":"unique() +0"},{"page":15,"sentence":"3\/2,('Not at all stressful ','Not␣\n↪very stressful ','A bit stressful ','Quite bit stressful ','Extremely ␣\n↪stressful '))\nplt"},{"page":15,"sentence":"xlabel('Preceived Life Stress by Canabis Use ')\nplt"},{"page":15,"sentence":"ylabel('Percent')\nplt"},{"page":15,"sentence":"legend()\nplt"},{"page":15,"sentence":"show()\nBased on the visualization of the graph, we can see that people who used cannais and feeling\nstressful is slightly more than people who used cannabis feeling not stressful"},{"page":15,"sentence":"This might show us\nthat using cannabis can still increase one’s life stress level"},{"page":15,"sentence":"F rom the group of people who didn’t\nuse cannabis, the amount of people feeling not stressful is also more than the amount of people\nfeeling stressful"},{"page":15,"sentence":"This tells us that not using cannabis will result in a less stressful life"},{"page":15,"sentence":"However,\n13"},{"page":16,"sentence":"the results can also be influnced by the factor that the number of people who didn’t use cannabis\nis significantly more than the number of people who used cannabis in this dataset"},{"page":16,"sentence":"[ ]: # Group perceived work stress results by cannabis use"},{"page":16,"sentence":"df4_stress =df_q4"},{"page":16,"sentence":"groupby( 'GEN_025', as_index =False)['CAN_015']"},{"page":16,"sentence":"↪value_counts(normalize =True,sort=False)\ndisplay(df4_stress)\n[ ]: # Plot a bar chart to visulize the relationship of cannabis use and perceived ␣\n↪work stress"},{"page":16,"sentence":"plt"},{"page":16,"sentence":"figure(figsize =(12,6))\nplt"},{"page":16,"sentence":"bar(df4_stress[ 'GEN_025']"},{"page":16,"sentence":"unique(),df4_stress[ 'proportion '][::2],width=0"},{"page":16,"sentence":"↪3,label='Poeple Used Cannabis in Past 12 Months ')\nplt"},{"page":16,"sentence":"bar(df4_stress[ 'GEN_025']"},{"page":16,"sentence":"unique() +0"},{"page":16,"sentence":"3,df4_stress[ 'proportion '][1::\n↪2],width=0"},{"page":16,"sentence":"3, label=\"People Didn 't Use Cannabis in Past 12 Months \")\nplt"},{"page":16,"sentence":"xticks(df4_stress[ 'GEN_025']"},{"page":16,"sentence":"unique() +0"},{"page":16,"sentence":"3\/2,('Not at all stressful ','Not␣\n↪very stressful ','A bit stressful ','Quite bit stressful ','Extremely ␣\n↪stressful '))\nplt"},{"page":16,"sentence":"xlabel('Preceived Work Stress by Canabis Use ')\nplt"},{"page":16,"sentence":"ylabel('Percent')\nplt"},{"page":16,"sentence":"legend()\nplt"},{"page":16,"sentence":"show()\nF rom the visualization of this graph, we can see that the amount of people who used canabis and\nfeeling stressful is almost the same as the amount of people who used cannabis and feeling not\nstressful"},{"page":16,"sentence":"This may reveal that the cannabis use does not make significant impact to one’s work\nstress"},{"page":16,"sentence":"As we can see people who didn’t use canabis can still feel stressful"},{"page":16,"sentence":"W e didn’t see a tendency\nof increassing stress level in both groups"},{"page":16,"sentence":"This may reveal that using canabis does not make work\nmuch more stressful"},{"page":16,"sentence":"Question 3 - What is the relationship between smoking and physical health outcomes\nObjective: When we start our analysis for this dataset, the most important barriers which we\nchose to focus is smoking and how it impacted the health levels"},{"page":16,"sentence":"Also Smoking has complex as-\nsociations with BMI and various physical health outcomes"},{"page":16,"sentence":"Health effects of smoking can lead to\nconditions that may influence weight, such as chronic obstructive pulmonary disease (COPD),\nwhich can decrease physical activity levels"},{"page":16,"sentence":"Smoking can affect metabolism and body fat distribution, often leading to more visceral fat (fat\naround internal organs) compared to non-smokers, which is linked to higher health risks"},{"page":16,"sentence":"While\nsmokers may have a lower BMI, smoking itself is associated with numerous health risks, including\ncardiovascular disease, respiratory issues, and cancer"},{"page":16,"sentence":"These risks can outweigh any benefits of\nhaving a lower BMI"},{"page":16,"sentence":"Many individuals experience weight gain after quitting smoking, as appetite increases and\nmetabolism may normalize"},{"page":16,"sentence":"This can lead to concerns about obesity , especially if individuals\ndo not adopt healthier eating habits or increase physical activity"},{"page":16,"sentence":"Main Objective for this question is to analyze the relation between Smoking\/BMI against Health\nlevel Indicators derived from the survery results"},{"page":16,"sentence":"Analyze the health improvments whether Stopped\nSmoking and Physically Active Indicators impact and improve the health level of the people\n14"},{"page":17,"sentence":"[ ]: #dataset"},{"page":17,"sentence":"head(5)\nData Cleaning and T ransformation\n1) Identifying the potential variables from the dataset and filtering those columns from\nthe dataset and store it in seperate data frame Below are the list of variables which\nwe focused to continue with our analysis F ocus V ariable(Data Set Column) Survey\nNumber(ADM_RNO1) Age(DHHGAGE) Sex(DHH_SEX) Perceived Health(GENDVHDI)\nProvince Name(GEOGPR V) Smoking Level(SMK_005) BMI Level(HWTDGISW) Physical\nActivity Indicator(P AADV ACV) Stopped Smoking IndicatorIndicato(SMK_060)(SMK_060)\n[ ]:print(\"Filtered out the required variables from the data set \")\nconvdata =df[[\"ADM_RNO1 \",\"DHH_SEX\",\"DHHGAGE\",\"GENDVHDI \",\"GEOGPRV\",\"HWTDGISW \",\n\"PAADVACV \",\"SMK_005\",\"SMK_060\"]]\nprint(convdata"},{"page":17,"sentence":"dtypes)\n2) Apply T ransformation of the perceived health indicator variable to quantify it for further\nanalysis"},{"page":17,"sentence":"Orginal Data Set has the indicators starting from 0 which will not support our\nanalysis during the average health calculation"},{"page":17,"sentence":"Hence applying transformation to capture the\nindicators from (1-5)\n[ ]:convdata[ \"GENDVHDI \"]=convdata[ \"GENDVHDI \"]+1\n3) Create python dictionary for the categorical variable with the values from the data dictionary\n[ ]:agegroup ={1:\"12-17 years \",2:\"18-34 years \",3:\"35-49 years \",4:\"50-64 years \",5:\n↪\"65<\"}\nsextype={1:\"Male\",2:\"Female\"}\nperceivedhealthd ={1:\"Poor\",2:\"Fair\",3:\"Good\",4:\"Very good \",5:\"Excellent \",10:\n↪\"Don’t know \"}\ngeo={10:\"NEWFOUNDLAND AND LABRADOR \",11:\"PRINCE EDWARD ISLAND \",12:\"NOVA SCOTIA \",\n13:\"NEW BRUNSWICK \",24:\"QUEBEC\",35:\"ONTARIO\",46:\"MANITOBA \",47:\n↪\"SASKATCHEWAN \",\n48:\"ALBERTA\",59:\"BRITISH COLUMBIA \",60:\"YUKON\/NORTHWEST\/NUNAVUT \"}\nbmi={1:\"Normal weight \",2:\"Overweight\/Obese \",6:\"Valid skip \",9:\"Not stated \"}\nSmokingFrequency ={1:\"Daily\",2:\"Occasionally \",3:\"Not at all \",7:\"Don’t know \",8:\n↪\"Refusal\",9:\"Not stated \"}\nphysicallyactive ={1:\"Physically active above recommended level \",2:\"Physically ␣\n↪active below recommended level \",3:\"No physical activity \",6:\"Valid skip \",9:\n↪\"Not stated \"}\nstoppedsmk ={1:\"<1 yr ago \",2:\">1 year to <2 yrs ago \",3:\">2 year to <3 yrs ago \",4:\n↪\">3 yrs ago \",6:\"Valid skip \",7:\"Don’t know \",8:\"Refusal\",9:\"Not stated \"}\n4) Create new columns with the copy of the categorical variable and convert them using the\ndictionaries created below"},{"page":17,"sentence":"Hence for the categorical variable we shall have two columns once\nwith the numeric and other with the types which help in driving the analysis better in\nvisualization"},{"page":17,"sentence":"15"},{"page":18,"sentence":"[ ]:convdata[ \"sextype\"]=convdata[[ \"DHH_SEX\"]]"},{"page":18,"sentence":"copy()"},{"page":18,"sentence":"replace({ \"DHH_SEX\": sextype})\nconvdata[ \"agegroup \"]=convdata[[ \"DHHGAGE\"]]"},{"page":18,"sentence":"copy()"},{"page":18,"sentence":"replace({ \"DHHGAGE\":␣\n↪agegroup})\nconvdata[ \"perceivedhealthd \"]=convdata[[ \"GENDVHDI \"]]"},{"page":18,"sentence":"copy()"},{"page":18,"sentence":"↪replace({ \"GENDVHDI \": perceivedhealthd})\nconvdata[ \"geo\"]=convdata[[ \"GEOGPRV\"]]"},{"page":18,"sentence":"copy()"},{"page":18,"sentence":"replace({ \"GEOGPRV\": geo})\nconvdata[ \"bmi\"]=convdata[[ \"HWTDGISW \"]]"},{"page":18,"sentence":"copy()"},{"page":18,"sentence":"replace({ \"HWTDGISW \": bmi})\nconvdata[ \"SmokingFrequency \"]=convdata[[ \"SMK_005\"]]"},{"page":18,"sentence":"copy()"},{"page":18,"sentence":"replace({ \"SMK_005\":␣\n↪SmokingFrequency})\nconvdata[ \"physicallyactive \"]=convdata[[ \"PAADVACV \"]]"},{"page":18,"sentence":"copy()"},{"page":18,"sentence":"↪replace({ \"PAADVACV \": physicallyactive})\nconvdata[ \"stoppedsmk \"]=convdata[[ \"SMK_060\"]]"},{"page":18,"sentence":"copy()"},{"page":18,"sentence":"replace({ \"SMK_060\":␣\n↪stoppedsmk})\n[ ]:print(convdata"},{"page":18,"sentence":"dtypes)\n[ ]:heatmap=convdata"},{"page":18,"sentence":"copy()\nconvdata =convdata[[ 'ADM_RNO1 ','agegroup ','sextype','geo','perceivedhealthd ','bmi','SmokingFrequency ','GENDVHDI ','SMK_005','physicallyactive ','stoppedsmk ','PAADVACV ']]\n[ ]:values1=['Daily','Occasionally ','Not at all ']\nconvdata =convdata[convdata[ 'SmokingFrequency ']"},{"page":18,"sentence":"isin(values1)]\ndisplay(convdata[ 'SmokingFrequency ']"},{"page":18,"sentence":"unique())\nvalues2=['Normal weight ','Overweight\/Obese ']\nconvdata =convdata[convdata[ 'bmi']"},{"page":18,"sentence":"isin(values2)]\nvalues3=['Don’t know ']\nconvdata =convdata[ ~convdata[ 'perceivedhealthd ']"},{"page":18,"sentence":"isin(values3)]\nconvdata\nconvdata"},{"page":18,"sentence":"to_csv('C:\/Users\/Venkateshwaran\/OneDrive\/Desktop\/Data601_Assignment\/\n↪mine"},{"page":18,"sentence":"csv ', index=False)\nData Summary: Initiated the Analysis by the Pie Plotting the Individual Charts to Understand\nthe summaty of the different Health levels,Smoking and BMI\n[ ]:analysis1a =convdata"},{"page":18,"sentence":"groupby( 'SmokingFrequency ')"},{"page":18,"sentence":"size()"},{"page":18,"sentence":"reset_index()"},{"page":18,"sentence":"↪rename(columns ={\"index\":\"value\",0:\"count\"})\nanalysis1a =analysis1a[analysis1a[ 'SmokingFrequency ']"},{"page":18,"sentence":"isin(values1)]\nfig1=px"},{"page":18,"sentence":"pie(analysis1a, values ='count', names='SmokingFrequency ',hole="},{"page":18,"sentence":"↪5,width=500,height=500,color_discrete_sequence =[\"green\",\"red\",\"yellow\"])\nfig1"},{"page":18,"sentence":"update_layout(title =\"Survey Population Density against Smoking ␣\n↪Frequency \",title_x =0"},{"page":18,"sentence":"5)\nfig1"},{"page":18,"sentence":"show()\n[ ]:analysis1c =convdata"},{"page":18,"sentence":"groupby( 'perceivedhealthd ')"},{"page":18,"sentence":"size()"},{"page":18,"sentence":"reset_index()"},{"page":18,"sentence":"↪rename(columns ={\"index\":\"value\",0:\"count\"})\n#analysis1c= analysis1b[analysis1b['bmi']"},{"page":18,"sentence":"isin(values2)]\nfig3=px"},{"page":18,"sentence":"pie(analysis1c, values ='count', names='perceivedhealthd ',hole="},{"page":18,"sentence":"↪5,width=500,height=500,color_discrete_sequence =px"},{"page":18,"sentence":"colors"},{"page":18,"sentence":"qualitative"},{"page":18,"sentence":"G10)\n16"},{"page":19,"sentence":"fig3"},{"page":19,"sentence":"update_layout(title =\"Overall Health Status \",title_x =0"},{"page":19,"sentence":"5)\nfig3"},{"page":19,"sentence":"show()\n[ ]:analysis1b =convdata"},{"page":19,"sentence":"groupby( 'bmi')"},{"page":19,"sentence":"size()"},{"page":19,"sentence":"reset_index()"},{"page":19,"sentence":"↪rename(columns ={\"index\":\"value\",0:\"count\"})\nanalysis1b =analysis1b[analysis1b[ 'bmi']"},{"page":19,"sentence":"isin(values2)]\nfig2=px"},{"page":19,"sentence":"pie(analysis1b, values ='count', names='bmi',hole="},{"page":19,"sentence":"↪5,width=500,height=500,color_discrete_sequence =[\"red\",\"green\"])\nfig2"},{"page":19,"sentence":"update_layout(title =\"Survey Population Density against BMI \",title_x =0"},{"page":19,"sentence":"5)\nfig2"},{"page":19,"sentence":"show()\n[ ]: #analysis1"},{"page":19,"sentence":"to_csv('C:\/Users\/Venkateshwaran\/OneDrive\/Desktop\/Data601_Assignment\/\n↪question1_data"},{"page":19,"sentence":"csv', index=False)\nInference:\n1) About 19"},{"page":19,"sentence":"3% of people have reported their Health status as Excellent and 3"},{"page":19,"sentence":"6% of Population\nas Poor"},{"page":19,"sentence":"Our aim is to analyze and understand the health status of the people with the poor\ndata reported\n2) About 12"},{"page":19,"sentence":"67% of people having smoking habits with 10"},{"page":19,"sentence":"5% with Daily smokers\n3) About 60% of people reported them as Obese which is a noticeable Data for suggestion"},{"page":19,"sentence":"Understanding the Correlation between the BMI and Smoking\n[ ]:analysis1 =convdata"},{"page":19,"sentence":"↪groupby([ 'bmi','SmokingFrequency '],as_index =False)['GENDVHDI ']"},{"page":19,"sentence":"mean()"},{"page":19,"sentence":"↪reset_index()\nanalysis1[ 'percentage ']=analysis1[ 'GENDVHDI ']\/analysis1"},{"page":19,"sentence":"↪groupby( 'bmi')['GENDVHDI ']"},{"page":19,"sentence":"transform( 'sum')*100\nanalysis1[ 'percentage ']=round(analysis1[ 'percentage '],2)\n[ ]:fig=px"},{"page":19,"sentence":"bar(analysis1, x =\"bmi\",␣\n↪y=\"percentage \",color='SmokingFrequency ',barmode ='group',height=500,width=1000,text_auto =True)\n#fig"},{"page":19,"sentence":"update_yaxes(range=[0, 100])\nfig"},{"page":19,"sentence":"update_layout(\ntitle=\"Body Mass Index Against Average Perceived Health Indicator wrt to ␣\n↪Smoking Frequency \",title_x =0"},{"page":19,"sentence":"5,\nxaxis_title =\"Body Mass Index (BMI) \",\nyaxis_title =\"Perceived Health Indicator \",\n)\nfig"},{"page":19,"sentence":"show()\nInference:\n1) People with smoking habits have less health satisfaction level than people with not smoke"},{"page":19,"sentence":"2) However, Occasional Smokers have improved health than Non- Smokers under Overweight\nCategory and which signifies that having obese will ideally affect human life span\n3) Overall Daily Smokers has Bad A verage Health Indicator ,With Obese it even worse"},{"page":19,"sentence":"17"},{"page":20,"sentence":"4) Overall A verage F alls in the Good- V ery Good Zone\nUnderstanding the Correlation of the BMI & Smoking with Different Age groups\n[ ]:analysis2 =convdata"},{"page":20,"sentence":"groupby([ 'SmokingFrequency ','agegroup '])['GENDVHDI ']"},{"page":20,"sentence":"mean()"},{"page":20,"sentence":"↪reset_index()\nfig=px"},{"page":20,"sentence":"line(analysis2, x =\"agegroup \", y=\"GENDVHDI \",␣\n↪color=\"SmokingFrequency \",hover_data =['agegroup '],color_discrete_sequence =['red','green','orange'],\nheight=500,width=1000)\nfig"},{"page":20,"sentence":"update_yaxes( range=[0,5])\nfig"},{"page":20,"sentence":"update_layout(\ntitle=\"Impact of Perceived Health VS smoking( Agewise) \",title_x =0"},{"page":20,"sentence":"5,\nxaxis_title =\"Age Category \",\nyaxis_title =\"Perceived Health Indicator \",\n)\nfig"},{"page":20,"sentence":"show()\n[ ]:analysis3 =convdata"},{"page":20,"sentence":"groupby([ 'bmi','agegroup '])['GENDVHDI ']"},{"page":20,"sentence":"mean()"},{"page":20,"sentence":"reset_index()\nanalysis3\nfig=px"},{"page":20,"sentence":"line(analysis3, x =\"agegroup \", y=\"GENDVHDI \",␣\n↪color=\"bmi\",hover_data =['agegroup '],height =500,width=1000)\nfig"},{"page":20,"sentence":"update_yaxes( range=[0,5])\nfig"},{"page":20,"sentence":"update_layout(\ntitle=\"Impact of Perceived Health Vs BMI (AgeWise) \",title_x =0"},{"page":20,"sentence":"5,\nxaxis_title =\"Age Category \",\nyaxis_title =\"Perceived Health Indicator \",\n)\nfig"},{"page":20,"sentence":"show()\nInference: Both Smoking habit and Increased BMI is gradually affecting the Indicator of the\npeoples when they grow older and older\nUnderstanding the people Density of Smoking and BMI\n[ ]:analysis4 =convdata"},{"page":20,"sentence":"groupby([ 'SmokingFrequency ','bmi'])['GENDVHDI ']"},{"page":20,"sentence":"count()"},{"page":20,"sentence":"↪reset_index()\nanalysis4[ 'percentage ']=analysis4[ 'GENDVHDI ']\/analysis4"},{"page":20,"sentence":"↪groupby( 'SmokingFrequency ')['GENDVHDI ']"},{"page":20,"sentence":"transform( 'sum')*100\nanalysis4[ 'percentage ']=round(analysis4[ 'percentage '],2)\n[ ]:fig=px"},{"page":20,"sentence":"bar(analysis4, x =\"SmokingFrequency \", y=\"percentage \",␣\n↪color=\"bmi\",hover_data =['bmi'],barmode ='group',height=500,width=800,text_auto =True)\nfig"},{"page":20,"sentence":"update_yaxes( range=[0,70])\nfig"},{"page":20,"sentence":"show()\nInference\n1) Bar Plot clearly tells us the health levels are being impacted when the frequency of smoking\nis increased and people with the higher frequency of smoking has more prone to obese with\n18"},{"page":21,"sentence":"higher BMI"},{"page":21,"sentence":"2) Interestingly people with no smoke has more obese which clearlt sticked to our inital under-\nstanding of BMI and Smoking relation\nUnderstanding the Health Level of People with Canada Geographical Province\n[ ]:analysis5 =convdata"},{"page":21,"sentence":"groupby([ 'geo'])['GENDVHDI ']"},{"page":21,"sentence":"mean()"},{"page":21,"sentence":"reset_index()\nanalysis5[ \"geo\"]=analysis5[ \"geo\"]"},{"page":21,"sentence":"replace([ \"NEWFOUNDLAND AND LABRADOR \"],␣\n↪\"Newfoundland & Labrador \")\nanalysis5[ \"geo\"]=analysis5[ \"geo\"]"},{"page":21,"sentence":"replace([ \"YUKON\/NORTHWEST\/NUNAVUT \"],\"YUKON␣\n↪TERRITORY \")\nanalysis5[ 'geo']=analysis5[ 'geo']"},{"page":21,"sentence":"str"},{"page":21,"sentence":"title()\nimport json\ncanada_states =json"},{"page":21,"sentence":"load(open(\"canada_provinces"},{"page":21,"sentence":"geojson \",'r'))\nstate_id_map ={}\nforfeature incanada_states[ 'features ']:\nfeature[ 'id']=feature[ 'properties ']['CODE']\nstate_id_map[feature[ 'properties ']['NAME']]=feature[ 'id']\nstate_id_map\n[ ]:analysis5[ 'id']=analysis5[ 'geo']"},{"page":21,"sentence":"apply( lambdax: state_id_map[x])\nanalysis5"},{"page":21,"sentence":"rename(columns ={'GENDVHDI ':'HealthStatus(1-5) '}, inplace =True)\nanalysis5\n[ ]:fig=px"},{"page":21,"sentence":"↪choropleth_mapbox(analysis5,locations ='id',geojson =canada_states,color ='HealthStatus(1-5) ',hover_name ='geo',hover_data =['HealthStatus(1-5) '],height =1200,width=1200,\nmapbox_style =\"carto-positron \",center={'lat':62"},{"page":21,"sentence":"↪24,'lon':-96"},{"page":21,"sentence":"78})\nfig"},{"page":21,"sentence":"update_layout(mapbox_zoom =2)\nfig"},{"page":21,"sentence":"update_layout(title ='Geographical wise Health Status ',title_x =0"},{"page":21,"sentence":"5)\nfig"},{"page":21,"sentence":"show()\nInference: A verage Health levels of people in Quebec is decent and the health level of people in\nNew Brunswick is compartitively poor\n[ ]:analysissmokingmap =convdata"},{"page":21,"sentence":"groupby( 'geo')['SmokingFrequency ']"},{"page":21,"sentence":"count()"},{"page":21,"sentence":"↪reset_index()\nanalysissmokingmap[ \"geo\"]=analysissmokingmap[ \"geo\"]"},{"page":21,"sentence":"replace([ \"NEWFOUNDLAND ␣\n↪AND LABRADOR \"],\"Newfoundland & Labrador \")\nanalysissmokingmap[ \"geo\"]=analysissmokingmap[ \"geo\"]"},{"page":21,"sentence":"replace([ \"YUKON\/NORTHWEST\/\n↪NUNAVUT\"],\"YUKON TERRITORY \")\nanalysissmokingmap[ 'geo']=analysissmokingmap[ 'geo']"},{"page":21,"sentence":"str"},{"page":21,"sentence":"title()\nanalysissmokingmap[ 'geo']\nanalysissmokingmap[ 'id']=analysissmokingmap[ 'geo']"},{"page":21,"sentence":"apply( lambdax:␣\n↪state_id_map[x])\nanalysissmokingmap[ 'percentage ']=analysissmokingmap[ 'SmokingFrequency ']\/␣\n↪analysissmokingmap[ 'SmokingFrequency ']"},{"page":21,"sentence":"sum()*100\n19"},{"page":22,"sentence":"fig=px"},{"page":22,"sentence":"↪choropleth_mapbox(analysissmokingmap,locations ='id',geojson =canada_states,color ='percentage ',hover_name ='geo',hover_data =['percentage '],height =1200,width=1200,\nmapbox_style =\"carto-positron \",center={'lat':62"},{"page":22,"sentence":"↪24,'lon':-96"},{"page":22,"sentence":"78})\nfig"},{"page":22,"sentence":"update_layout(mapbox_zoom =2)\nfig"},{"page":22,"sentence":"update_layout(title ='Geographical wise Smoking Status ',title_x =0"},{"page":22,"sentence":"5)\nfig"},{"page":22,"sentence":"show()\nInference:\n1) Smoking F requency of Y ukon reported higher all across the canada, however their health\nstatus is average\n2) W e infer that because of the climatic conditions people tends to smoke comparitively more\nthan other province\n3) Peoples in Ontario has lesser smoking frequency and their health status is reported average\n[ ]:analysisbmimap =convdata"},{"page":22,"sentence":"copy()\nanalysisbmimap =analysisbmimap[analysisbmimap[ 'bmi']=='Overweight\/Obese ']\nanalysisbmimap =analysisbmimap"},{"page":22,"sentence":"groupby( 'geo')['bmi']"},{"page":22,"sentence":"count()"},{"page":22,"sentence":"reset_index()\nanalysisbmimap[ \"geo\"]=analysisbmimap[ \"geo\"]"},{"page":22,"sentence":"replace([ \"NEWFOUNDLAND AND ␣\n↪LABRADOR \"],\"Newfoundland & Labrador \")\nanalysisbmimap[ \"geo\"]=analysisbmimap[ \"geo\"]"},{"page":22,"sentence":"replace([ \"YUKON\/NORTHWEST\/\n↪NUNAVUT\"],\"YUKON TERRITORY \")\nanalysisbmimap[ 'geo']=analysisbmimap[ 'geo']"},{"page":22,"sentence":"str"},{"page":22,"sentence":"title()\nanalysisbmimap[ 'id']=analysisbmimap[ 'geo']"},{"page":22,"sentence":"apply( lambdax: state_id_map[x])\nanalysisbmimap[ 'percentage ']=analysisbmimap[ 'bmi']\/analysisbmimap[ 'bmi']"},{"page":22,"sentence":"↪sum()*100\nfig2=px"},{"page":22,"sentence":"↪choropleth_mapbox(analysisbmimap,locations ='id',geojson =canada_states,color ='percentage ',hover_name ='geo',hover_data =['percentage '],height =1200,width=1200,\nmapbox_style =\"carto-positron \",center={'lat':62"},{"page":22,"sentence":"↪24,'lon':-96"},{"page":22,"sentence":"78})\nfig2"},{"page":22,"sentence":"update_layout(mapbox_zoom =2)\nfig2"},{"page":22,"sentence":"update_layout(title ='Geographical wise Obese level ',title_x =0"},{"page":22,"sentence":"5)\nfig2"},{"page":22,"sentence":"show()\nInference:\n1) Ontario Reported people with overweight its because of the population density with the\naverage mean health reported\n2) People in Y ukon reported Lower BMi, with the smoking habit which clearly tell us the smoking\nis not directtly related to the BMI component on peoples’health"},{"page":22,"sentence":"However smoking ideally\naffects the health levels in other plots"},{"page":22,"sentence":"Understanding the Health Level of People with Stopped Smoking This Analysis is to\nunderstand the average health status of the people who have stopped smoking and people with still\nhaving smoking habits\n20"},{"page":23,"sentence":"[ ]:analysis5a =convdata[convdata[ 'stoppedsmk ']"},{"page":23,"sentence":"isin(['<1 yr ago ','>1 year to <2 ␣\n↪yrs ago','>2 year to <3 yrs ago ','>3 yrs ago '])]\nanalysis5a =analysis5a"},{"page":23,"sentence":"groupby([ 'stoppedsmk '])['GENDVHDI ']"},{"page":23,"sentence":"mean()"},{"page":23,"sentence":"reset_index()\nanalysis5a[ 'Ind']='Yes'\nanalysis5b =convdata[ ~convdata[ 'stoppedsmk ']"},{"page":23,"sentence":"isin(['<1 yr ago ','>1 year to <2 ␣\n↪yrs ago','>2 year to <3 yrs ago ','>3 yrs ago '])]\nanalysis5b =analysis5b"},{"page":23,"sentence":"groupby([ 'stoppedsmk '])['GENDVHDI ']"},{"page":23,"sentence":"mean()"},{"page":23,"sentence":"reset_index()\nanalysis5b[ 'Ind']='No'\nanalysis5c =pd"},{"page":23,"sentence":"concat([analysis5a, analysis5b], axis =0)\nanalysis5c"},{"page":23,"sentence":"groupby([ 'Ind'])['GENDVHDI ']"},{"page":23,"sentence":"mean()"},{"page":23,"sentence":"reset_index()\n[ ]:fig=px"},{"page":23,"sentence":"bar(analysis5c"},{"page":23,"sentence":"groupby([ 'Ind'])['GENDVHDI ']"},{"page":23,"sentence":"mean()"},{"page":23,"sentence":"reset_index(), ␣\n↪x=\"Ind\", y=\"GENDVHDI \",color='Ind',text_auto =True,height=500,width=500)\nfig"},{"page":23,"sentence":"update_yaxes( range=[0,5])\nfig"},{"page":23,"sentence":"update_layout(\ntitle=\"Average Health Improvement upon stopping the smoking \",\nxaxis_title =\"Stopped Smoking Indicator \",\nyaxis_title =\"Perceived Health Indicator \",title_x =0"},{"page":23,"sentence":"5\n)\nfig"},{"page":23,"sentence":"show()\nInference: It is clear that the people who have stopped smoking have better health indicator\nthan the people with smoking habits"},{"page":23,"sentence":"Hence its clear that Smoking has the direct relationship with\nthe people health\nUnderstanding the Health Level of People with Physical Activity This Analysis is to\nunderstand the health levels of the people with their levels of phyical activities\n[ ]:analysis6 =convdata[[ 'physicallyactive ','bmi','GENDVHDI ']]\nanalysis6[ 'physicallyactive ']=analysis6[ 'physicallyactive ']"},{"page":23,"sentence":"apply( lambdax:␣\n↪'No physical activity ' ifxin('Not stated ') elsex)\nanalysis6 =analysis6[analysis6[ 'physicallyactive ']!='Valid skip ']\nanalysis6 =analysis6"},{"page":23,"sentence":"groupby([ 'physicallyactive ','bmi'])['GENDVHDI ']"},{"page":23,"sentence":"mean()"},{"page":23,"sentence":"↪reset_index()\nanalysis6[ 'percentage ']=analysis6[ 'GENDVHDI ']\/analysis6"},{"page":23,"sentence":"↪groupby( 'bmi')['GENDVHDI ']"},{"page":23,"sentence":"transform( 'sum')*100\nanalysis6"},{"page":23,"sentence":"sort_values(by ='percentage ', ascending =True)\n[ ]:fig=px"},{"page":23,"sentence":"bar(analysis6, x =\"bmi\",␣\n↪y=\"percentage \",color='physicallyactive ',barmode ='group',height=500,width=1000,text_auto =True)\nfig"},{"page":23,"sentence":"update_yaxes( range=[0,50])\nfig"},{"page":23,"sentence":"update_layout(\ntitle=\"Physically Active Against Average Perceived Health Indicator wrt to ␣\n↪BMI\",title_x =0"},{"page":23,"sentence":"5,\nxaxis_title =\"Body Mass Index (BMI) \",\nyaxis_title =\"Perceived Health Indicator \",\n21"},{"page":24,"sentence":")\nfig"},{"page":24,"sentence":"show()\nInference: W e infer that the people with the physical activity shows greater health level than\npeople with no activity Its Seems like linear based on the activity progression health levels may\ntend to improve a lot\nUnderstanding the Health Level of People with BMI (Gender Type- Comparison)\nThis Analysis is to understand the health levels of the people against BMI with Gender Level\nComparisons\n[ ]: import plotly"},{"page":24,"sentence":"express as px\nvalues1=['Daily','Occasionally ','Not at all ']\nheatmap=heatmap[heatmap[ 'SmokingFrequency ']"},{"page":24,"sentence":"isin(values1)]\ndisplay(heatmap[ 'SmokingFrequency ']"},{"page":24,"sentence":"unique())\nvalues2=['Normal weight ','Overweight\/Obese ']\nheatmap=heatmap[heatmap[ 'bmi']"},{"page":24,"sentence":"isin(values2)]\nvalues3=['Don’t know ']\nheatmap=heatmap[ ~heatmap[ 'perceivedhealthd ']"},{"page":24,"sentence":"isin(values3)]\nheatmap\nfig=px"},{"page":24,"sentence":"density_heatmap(heatmap, x =\"SmokingFrequency \", y=\"bmi\",␣\n↪z=\"GENDVHDI \",facet_col =\"sextype\", histfunc =\"avg\",text_auto =True,\nlabels=dict(x=\"Smoking Frequency \", y=\"bmi\", z=\"avge␣\n↪health Indicator \"))\nfig"},{"page":24,"sentence":"update_layout(title ='Gender Wise- BMI level for different smoking ␣\n↪categories ',title_x =0"},{"page":24,"sentence":"5)\nfig"},{"page":24,"sentence":"show()\nInference As observed in the other charts, Its clear that the health levels are relating to BMI\nand it explains that People with the Daily smoking has very less health level , with the higher obese\nstatus\nUnderstanding the Health Level of People with their Gender Wise- Physical Active\nlevel This Analysis is to understand the health levels of the people who are physically active\n[ ]:heatmap2 =heatmap[heatmap[ 'PAADVACV ']"},{"page":24,"sentence":"isin([1,2,3])]\nfig=px"},{"page":24,"sentence":"density_heatmap(heatmap2, x =\"physicallyactive \", y=\"bmi\", z=\"GENDVHDI \",␣\n↪facet_col =\"sextype\", histfunc =\"avg\",text_auto =True,\nlabels=dict(x=\"physicallyactive \", y=\"bmi\", z=\"avge␣\n↪health Indicator \"))\nfig"},{"page":24,"sentence":"update_layout(title ='Gender Wise- Physical Active level ',title_x =0"},{"page":24,"sentence":"5)\nfig"},{"page":24,"sentence":"show()\nInference W e Infer that the people with physically active shows improved health than people\nwith no activity\n22"},{"page":25,"sentence":"Understanding the Health Level of People with their Stopped Smoking Status This\nAnalysis is to understand the health levels of the people against their Stopped Smoking Status in\nyears"},{"page":25,"sentence":"[ ]:fig=px"},{"page":25,"sentence":"density_heatmap(heatmap[ ~heatmap[ 'stoppedsmk ']"},{"page":25,"sentence":"isin([\"Not␣\n↪stated\",\"Don’t know \",\"Valid skip \",\"Refusal\"])], x=\"stoppedsmk \", y=\"sextype\",␣\n↪z=\"GENDVHDI \", histfunc =\"avg\",text_auto =True,\nlabels=dict(x=\"stoppedsmk \", y=\"SmokingFrequency \", z=␣\n↪\"avge health Indicator \"))\nfig"},{"page":25,"sentence":"update_layout(title ='Genderwise Status of People Stopped Smoking ',title_x =0"},{"page":25,"sentence":"↪5)\nfig"},{"page":25,"sentence":"show()\nfig=px"},{"page":25,"sentence":"density_heatmap(heatmap[heatmap[ 'stoppedsmk ']"},{"page":25,"sentence":"isin([\"Not␣\n↪stated\",\"Don’t know \",\"Valid skip \",\"Refusal\"])], x=\"stoppedsmk \", y=\"sextype\",␣\n↪z=\"GENDVHDI \", histfunc =\"avg\",text_auto =True,\nlabels=dict(x=\"stoppedsmk \", y=\"SmokingFrequency \", z=␣\n↪\"avge health Indicator \"))\nfig"},{"page":25,"sentence":"update_layout(title ='Genderwise Status of People dont smoke ',title_x =0"},{"page":25,"sentence":"5)\nfig"},{"page":25,"sentence":"show()\nInference\n1) W e Infer that the people with stopped smoking has shown greater improvement in health and\npeople without smoking habit has close to excellent health status\nConclusion Overall we infer that the smoking has major impact on physical health upon our\nanalyis against geography & gender,However overweight\/obese doesn’t have much directly related\nto smoking"},{"page":25,"sentence":"People who stopped smoking shows greater improvments in health levels"},{"page":25,"sentence":"Also we infer\nthat the BMI is greatly improved for the people with physicall active and its declining for people\nwith no physically active\nHence we conclude that Smoking is directly related to Physical health in converse to BMI and\nsuggest that to improve physical health its strongly advised to stop smoking and increase fitness\nlevel"},{"page":25,"sentence":"Question 4 - Which demographic groups (age, sex, region) are most affected by health\nbarriers? This is a more comprehensive question that invovled different demogaphic of people"},{"page":25,"sentence":"The health barries refer to cannabis use, smoking frequency and alcohol consumption"},{"page":25,"sentence":"In the initial\ndataset, the demographic groups includes people of different gender, age, region and education level"},{"page":25,"sentence":"This analysis will explore the impact of each health barries to each demographic group one by one"},{"page":25,"sentence":"It’s crucial for our analysis to further consider people from differnt demographic groups as the\nhealth barries ussually affects peole differntly to their background"},{"page":25,"sentence":"T o begin data analysis, there\nare several steps to conduct the data cleaning"},{"page":25,"sentence":"The data cleaning process removes the values that\nare undesired to answering this quiding questions such as “don’t know”, “refusal”, “not stated”\nand “valid skip”"},{"page":25,"sentence":"Then it will conver the values of all the desired varibels into integer type as the\nsurvey response received are all in format of integer"},{"page":25,"sentence":"23"},{"page":26,"sentence":"[ ]:df_q5=df"},{"page":26,"sentence":"copy() # make a copy of initial filtered data and filter for the ␣\n↪varibles relavant to this question"},{"page":26,"sentence":"df_q5=df_q5"},{"page":26,"sentence":"↪filter(items =['CAN_015','SMK_005','SMMK_060 ','ALC_015','ALC_020','DHHGAGE','DHH_SEX','GEOGPRV','EHG2DVH3 '])\nprint(df_q5"},{"page":26,"sentence":"head())\n[ ]:df_q5"},{"page":26,"sentence":"to_csv('Question 5"},{"page":26,"sentence":"csv ',index=False) #Create a new csv for analysis for ␣\n↪this guiding question"},{"page":26,"sentence":"[ ]: #A peek to the dataset info for its data types and columns names"},{"page":26,"sentence":"df_q5"},{"page":26,"sentence":"info()\ndf_q5"},{"page":26,"sentence":"describe()\ndf_q5"},{"page":26,"sentence":"dtypes\n[ ]:df_q5"},{"page":26,"sentence":"isnull()"},{"page":26,"sentence":"sum() #check for missing values\n0"},{"page":26,"sentence":"3"},{"page":26,"sentence":"4 Data Cleaning:\n[ ]: #Removing undesired values from cannabis use variable"},{"page":26,"sentence":"df_q5=df_q5"},{"page":26,"sentence":"drop(df_q5[df_q5[ 'CAN_015']==7]"},{"page":26,"sentence":"index)\ndf_q5=df_q5"},{"page":26,"sentence":"drop(df_q5[df_q5[ 'CAN_015']==8]"},{"page":26,"sentence":"index)\ndf_q5=df_q5"},{"page":26,"sentence":"drop(df_q5[df_q5[ 'CAN_015']==9]"},{"page":26,"sentence":"index)\n[ ]: #Removing undesired values from smoking frequency variable"},{"page":26,"sentence":"df_q5=df_q5"},{"page":26,"sentence":"drop(df_q5[df_q5[ 'SMK_005']==7]"},{"page":26,"sentence":"index)\ndf_q5=df_q5"},{"page":26,"sentence":"drop(df_q5[df_q5[ 'SMK_005']==8]"},{"page":26,"sentence":"index)\ndf_q5=df_q5"},{"page":26,"sentence":"drop(df_q5[df_q5[ 'SMK_005']==9]"},{"page":26,"sentence":"index)\n[ ]: #Removing undesired values from alcohol consumption variable"},{"page":26,"sentence":"df_q5=df_q5"},{"page":26,"sentence":"drop(df_q5[df_q5[ 'ALC_015']==96]"},{"page":26,"sentence":"index)\ndf_q5=df_q5"},{"page":26,"sentence":"drop(df_q5[df_q5[ 'ALC_015']==97]"},{"page":26,"sentence":"index)\ndf_q5=df_q5"},{"page":26,"sentence":"drop(df_q5[df_q5[ 'ALC_015']==98]"},{"page":26,"sentence":"index)\ndf_q5=df_q5"},{"page":26,"sentence":"drop(df_q5[df_q5[ 'ALC_015']==99]"},{"page":26,"sentence":"index)\n[ ]: #Removing undesired values from alcohol consumption (drinking frequency) ␣\n↪variable"},{"page":26,"sentence":"df_q5=df_q5"},{"page":26,"sentence":"drop(df_q5[df_q5[ 'ALC_020']==96]"},{"page":26,"sentence":"index)\ndf_q5=df_q5"},{"page":26,"sentence":"drop(df_q5[df_q5[ 'ALC_020']==97]"},{"page":26,"sentence":"index)\ndf_q5=df_q5"},{"page":26,"sentence":"drop(df_q5[df_q5[ 'ALC_020']==98]"},{"page":26,"sentence":"index)\ndf_q5=df_q5"},{"page":26,"sentence":"drop(df_q5[df_q5[ 'ALC_020']==99]"},{"page":26,"sentence":"index)\n[ ]: #Removing undesired values from household education level variable"},{"page":26,"sentence":"df_q5=df_q5"},{"page":26,"sentence":"drop(df_q5[df_q5[ 'EHG2DVH3 ']==9]"},{"page":26,"sentence":"index)\n[ ]: # Converted interested varibles into integer type\ndf_q5['CAN_015']=df_q5['CAN_015']"},{"page":26,"sentence":"astype(int)\ndf_q5['GEOGPRV']"},{"page":26,"sentence":"dtypes\n24"},{"page":27,"sentence":"df_q5['SMK_005']=df_q5['SMK_005']"},{"page":27,"sentence":"astype(int)\ndf_q5['SMK_005']"},{"page":27,"sentence":"dtypes\ndf_q5['ALC_015']=df_q5['ALC_015']"},{"page":27,"sentence":"astype(int)\ndf_q5['ALC_015']"},{"page":27,"sentence":"dtypes\ndf_q5['ALC_020']=df_q5['ALC_020']"},{"page":27,"sentence":"astype(int)\ndf_q5['ALC_020']"},{"page":27,"sentence":"dtypes\ndf_q5['DHH_SEX']=df_q5['DHH_SEX']"},{"page":27,"sentence":"astype(int)\ndf_q5['DHH_SEX']"},{"page":27,"sentence":"dtypes\ndf_q5['DHHGAGE']=df_q5['DHHGAGE']"},{"page":27,"sentence":"astype(int)\ndf_q5['DHHGAGE']"},{"page":27,"sentence":"dtypes\ndf_q5['GEOGPRV']=df_q5['GEOGPRV']"},{"page":27,"sentence":"astype(int)\ndf_q5['GEOGPRV']"},{"page":27,"sentence":"dtypes\ndf_q5['EHG2DVH3 ']=df_q5['EHG2DVH3 ']"},{"page":27,"sentence":"astype(int)\ndf_q5['EHG2DVH3 ']"},{"page":27,"sentence":"dtypes\nAfter running the above code, we can see from below that the maximum values shows the undesired\nvalues have been removed from all the interested varibels, and all the values have been converted\nto integer type"},{"page":27,"sentence":"[ ]:df_q5"},{"page":27,"sentence":"describe()\n0"},{"page":27,"sentence":"3"},{"page":27,"sentence":"5 Data Analysis and Visualization\n[ ]: #Group cannabis use results based on sex type"},{"page":27,"sentence":"df5_cansex =df_q5"},{"page":27,"sentence":"groupby( 'DHH_SEX', as_index =False)['CAN_015']"},{"page":27,"sentence":"↪value_counts(normalize =True,sort=False)\ndisplay(df5_cansex)\n[ ]: # Create a bar plot to show the cannabis use infromation based on each gender ␣\n↪type"},{"page":27,"sentence":"plt"},{"page":27,"sentence":"figure(figsize =(10,7))\nplt"},{"page":27,"sentence":"bar(df5_cansex[ 'DHH_SEX']"},{"page":27,"sentence":"unique(),df5_cansex[ 'proportion '][::2],width=0"},{"page":27,"sentence":"↪3,label='Poeple Used Cannabis in Past 12 Months ')\nplt"},{"page":27,"sentence":"bar(df5_cansex[ 'DHH_SEX']"},{"page":27,"sentence":"unique() +0"},{"page":27,"sentence":"3,df5_cansex[ 'proportion '][1::\n↪2],width=0"},{"page":27,"sentence":"3, label=\"People Didn 't Use Cannabis in Past 12 Months \")\nplt"},{"page":27,"sentence":"xticks(df5_cansex[ 'DHH_SEX']"},{"page":27,"sentence":"unique() +0"},{"page":27,"sentence":"3\/2,('Male','Female'))\nplt"},{"page":27,"sentence":"xlabel('Gender Impacted by Canabis ')\nplt"},{"page":27,"sentence":"ylabel('Percent')\nplt"},{"page":27,"sentence":"legend()\nplt"},{"page":27,"sentence":"show()\nF rom the above bar plot, we can find that females uses canabis slightly more than males"},{"page":27,"sentence":"[ ]: #Create a pie chart to visualize the proportaion of male and female using ␣\n↪cannabis"},{"page":27,"sentence":"cannabis_sex_data =df_q5[['CAN_015','DHH_SEX']]"},{"page":27,"sentence":"dropna()\ncannabis_sex =cannabis_sex_data"},{"page":27,"sentence":"groupby( 'DHH_SEX')['CAN_015']"},{"page":27,"sentence":"sum()\nDHH_SEX_labels ={\n25"},{"page":28,"sentence":"1:\"Male\",\n2:\"Female\"\n}\ncannabis_sex"},{"page":28,"sentence":"index=cannabis_sex"},{"page":28,"sentence":"index"},{"page":28,"sentence":"map(DHH_SEX_labels)\nplt"},{"page":28,"sentence":"figure(figsize =(5,5))\ncannabis_sex"},{"page":28,"sentence":"plot(kind ='pie',autopct ='%1"},{"page":28,"sentence":"↪1f %%',colors=['blue','orange'],startangle =90,textprops ={'fontsize ':12})\nplt"},{"page":28,"sentence":"title('Cannabis Use by Sex ')\nplt"},{"page":28,"sentence":"ylabel('')\nplt"},{"page":28,"sentence":"show()\nA supplementry pie chart is created to better visulize the proportion of male and female using\ncannabis"},{"page":28,"sentence":"W e can see that 8% more of females use cannabis compared to males"},{"page":28,"sentence":"[ ]: #Create a bar plot to explore the smoking frequency by each gender"},{"page":28,"sentence":"smoke_sex =df_q5[['SMK_005','DHH_SEX']]"},{"page":28,"sentence":"dropna()\nsmoke_sex =smoke_sex"},{"page":28,"sentence":"groupby( 'DHH_SEX')['SMK_005']"},{"page":28,"sentence":"mean()\nDHH_SEX_labels ={\n1:\"Male\",\n2:\"Female\"\n}\nsmoke_sex"},{"page":28,"sentence":"index=smoke_sex"},{"page":28,"sentence":"index"},{"page":28,"sentence":"map(DHH_SEX_labels)\nplt"},{"page":28,"sentence":"figure(figsize =(8,6))\nplt"},{"page":28,"sentence":"ylim(0,3)\nsmoke_sex"},{"page":28,"sentence":"plot(kind ='bar', color=['skyblue','pink'])\nplt"},{"page":28,"sentence":"title('Average Smoke Frequency by Gender ')\nplt"},{"page":28,"sentence":"xlabel('Sex')\nplt"},{"page":28,"sentence":"ylabel('Average Smoke Frequency ')\nplt"},{"page":28,"sentence":"xticks(rotation =0)\nplt"},{"page":28,"sentence":"grid(axis ='y',linestyle ='--',alpha=0"},{"page":28,"sentence":"7)\nplt"},{"page":28,"sentence":"show()\nBased on the bar chart, we can interpret that females smoke slighly more often than males"},{"page":28,"sentence":"[ ]: #Create a pie chart to visualize the proportaion of male and female for their ␣\n↪smoking frequency"},{"page":28,"sentence":"smoking_sex =df_q5[['SMK_005','DHH_SEX']]"},{"page":28,"sentence":"dropna()\nsmoking_bysex =smoking_sex"},{"page":28,"sentence":"groupby( 'DHH_SEX')['SMK_005']"},{"page":28,"sentence":"sum()\nDHH_SEX_labels ={\n1:\"Male\",\n2:\"Female\"\n}\nsmoking_bysex"},{"page":28,"sentence":"index=smoking_bysex"},{"page":28,"sentence":"index"},{"page":28,"sentence":"map(DHH_SEX_labels)\nplt"},{"page":28,"sentence":"figure(figsize =(5,5))\n26"},{"page":29,"sentence":"smoking_bysex"},{"page":29,"sentence":"plot(kind ='pie', autopct ='%1"},{"page":29,"sentence":"1f %%', colors =['skyblue','pink'],␣\n↪startangle =90, textprops ={'fontsize ':12})\nplt"},{"page":29,"sentence":"title('Smoke Frequency by Sex ')\nplt"},{"page":29,"sentence":"ylabel('')\nplt"},{"page":29,"sentence":"show()\nA supplementry pie chart is created to better visulize the proportion of male and female for their\nsmoking frequency"},{"page":29,"sentence":"W e can see that females smoke 8% more often than males"},{"page":29,"sentence":"[ ]: # Create bar chart for alcohol comsumptions based on two gender types"},{"page":29,"sentence":"alcohol_sex =df_q5[['ALC_015','ALC_020','DHH_SEX']]"},{"page":29,"sentence":"dropna()\nalc_015_bysex =alcohol_sex"},{"page":29,"sentence":"groupby( 'DHH_SEX')['ALC_015']"},{"page":29,"sentence":"mean()\nalc_020_bysex =alcohol_sex"},{"page":29,"sentence":"groupby( 'DHH_SEX')['ALC_020']"},{"page":29,"sentence":"mean()\nDHH_SEX_labels ={\n1:\"Male\",\n2:\"Female\"\n}\nalc_015_bysex"},{"page":29,"sentence":"index=alc_015_bysex"},{"page":29,"sentence":"index"},{"page":29,"sentence":"map(DHH_SEX_labels)\nalc_020_bysex"},{"page":29,"sentence":"index=alc_020_bysex"},{"page":29,"sentence":"index"},{"page":29,"sentence":"map(DHH_SEX_labels)\nplt"},{"page":29,"sentence":"figure(figsize =(14,6))\nplt"},{"page":29,"sentence":"subplot( 1,2,1)\nalc_015_bysex"},{"page":29,"sentence":"plot(kind ='bar',color=['blue','orange'])\nplt"},{"page":29,"sentence":"title('Average Alcohol Consumption Frequency by Sex ')\nplt"},{"page":29,"sentence":"xlabel('Sex')\nplt"},{"page":29,"sentence":"ylabel('Average Alcohol Consumption Frequency ')\nplt"},{"page":29,"sentence":"xticks(rotation =0)\nplt"},{"page":29,"sentence":"grid(axis ='y',linestyle ='--',alpha=0"},{"page":29,"sentence":"7)\nplt"},{"page":29,"sentence":"subplot( 1,2,2)\nalc_020_bysex"},{"page":29,"sentence":"plot(kind ='bar',color=['blue','orange'])\nplt"},{"page":29,"sentence":"title('Average Alcohol Consumption (Drink 4+\/5+ One Occasion) by Sex ')\nplt"},{"page":29,"sentence":"xlabel('Sex')\nplt"},{"page":29,"sentence":"ylabel('Average Alcohol Consumption (Drink 4+\/5+ One Occasion ')\nplt"},{"page":29,"sentence":"xticks(rotation =0)\nplt"},{"page":29,"sentence":"grid(axis ='y',linestyle ='--',alpha=0"},{"page":29,"sentence":"7)\nF rom the above bar plots, we found that males generally consumes more alcohols than femles in\nterms of both alcohol comspmtion frequency and drinking 4+\/5+ cans on one occasion"},{"page":29,"sentence":"[ ]: # Plot a bar chart to investigate the cannabis use by differnt age group"},{"page":29,"sentence":"data_filtered =df_q5[['CAN_015','DHHGAGE']]"},{"page":29,"sentence":"dropna()\ncannabis_use_different_age =data_filtered"},{"page":29,"sentence":"groupby( 'DHHGAGE')['CAN_015']"},{"page":29,"sentence":"mean()\nDHHGAGE_labels ={\n1:'12 to 17 years ',\n2:'18 to 34 years ',\n3:'35 to 49 years ',\n27"},{"page":30,"sentence":"4:'50 to 64 years ',\n5:'65 years and older '\n}\ncannabis_use_different_age"},{"page":30,"sentence":"index=cannabis_use_different_age"},{"page":30,"sentence":"index"},{"page":30,"sentence":"↪map(DHHGAGE_labels)\nplt"},{"page":30,"sentence":"figure(figsize =(10,6))\ncannabis_use_different_age"},{"page":30,"sentence":"plot(kind ='bar',color='olive')\nplt"},{"page":30,"sentence":"title('Average Cannabis Use by Different Age Group ')\nplt"},{"page":30,"sentence":"xlabel('Age Group ')\nplt"},{"page":30,"sentence":"ylabel('Average Cannabis Use ')\nplt"},{"page":30,"sentence":"xticks(rotation =45, ha='right')\nplt"},{"page":30,"sentence":"grid(axis ='y',linestyle ='--',alpha=0"},{"page":30,"sentence":"7)\nplt"},{"page":30,"sentence":"show()\nBased on the above graph, we can tell that people who are at 12 to 17 years and 65 years and older\nuse cannabis most often, with age group 50 years to 64 years and 30 years to 49 years following\nclosely behind"},{"page":30,"sentence":"Poeple of 18 years to 34 years use cannabis least often"},{"page":30,"sentence":"[ ]: # Plot a bar chart to investigate the smoking freqnecy by differnt age group"},{"page":30,"sentence":"smoke_data_filtered =df_q5[['SMK_005','DHHGAGE']]"},{"page":30,"sentence":"dropna()\nsmoke_byage =smoke_data_filtered"},{"page":30,"sentence":"groupby( 'DHHGAGE')['SMK_005']"},{"page":30,"sentence":"mean()\nDHHGAGE_labels ={\n1:\"12 to 17 years \",\n2:\"18 to 34 years \",\n3:\"35 to 49 years \",\n4:\"50 to 64 years \",\n5:\"65 years and older \"\n}\nsmoke_byage"},{"page":30,"sentence":"index=smoke_byage"},{"page":30,"sentence":"index"},{"page":30,"sentence":"map(DHHGAGE_labels)\nplt"},{"page":30,"sentence":"figure(figsize =(10,6))\nsmoke_byage"},{"page":30,"sentence":"plot(kind ='bar',color='purple')\nplt"},{"page":30,"sentence":"title('Average Smoke Frequency by Age Group ')\nplt"},{"page":30,"sentence":"xlabel('Age Group ')\nplt"},{"page":30,"sentence":"ylabel('Average Smoke Frequency ')\nplt"},{"page":30,"sentence":"xticks(rotation =45,ha='right')\nplt"},{"page":30,"sentence":"grid(axis ='y',linestyle ='--',alpha=0"},{"page":30,"sentence":"7)\nplt"},{"page":30,"sentence":"show()\nF rom the bar plot, we found that people people who are at 12 to 17 years and 65 years and older\nsmoke most often"},{"page":30,"sentence":"However, the smoking frequency for the rest of age groups are approximately\nthe same"},{"page":30,"sentence":"[ ]: # Create two bar charts to analyze the affect of alcohol consumption to each ␣\n↪age group"},{"page":30,"sentence":"alcohol_data_filtered =df_q5[['ALC_015','ALC_020','DHHGAGE']]"},{"page":30,"sentence":"dropna()\nalc_015_by_age =alcohol_data_filtered"},{"page":30,"sentence":"groupby( 'DHHGAGE')['ALC_015']"},{"page":30,"sentence":"mean()\n28"},{"page":31,"sentence":"alc_020_by_age =alcohol_data_filtered"},{"page":31,"sentence":"groupby( 'DHHGAGE')['ALC_020']"},{"page":31,"sentence":"mean()\nDHHGAGE_labels ={\n1:\"12 to 17 years \",\n2:\"18 to 34 years \",\n3:\"35 to 49 years \",\n4:\"50 to 64 years \",\n5:\"65 years and older \"\n}\nalc_015_by_age"},{"page":31,"sentence":"index=alc_015_by_age"},{"page":31,"sentence":"index"},{"page":31,"sentence":"map(DHHGAGE_labels)\nalc_020_by_age"},{"page":31,"sentence":"index=alc_020_by_age"},{"page":31,"sentence":"index"},{"page":31,"sentence":"map(DHHGAGE_labels)\nplt"},{"page":31,"sentence":"figure(figsize =(14,6))\nplt"},{"page":31,"sentence":"subplot( 1,2,1)\nalc_015_by_age"},{"page":31,"sentence":"plot(kind ='bar',color='coral')\nplt"},{"page":31,"sentence":"title('Average Alcohol Consumption Frequency in Past 12 Months ')\nplt"},{"page":31,"sentence":"xlabel('Age Group ')\nplt"},{"page":31,"sentence":"ylabel('Average Alcohol Consumption Frequency ')\nplt"},{"page":31,"sentence":"xticks(rotation =45,ha='right')\nplt"},{"page":31,"sentence":"grid(axis ='y',linestyle ='--',alpha=0"},{"page":31,"sentence":"7)\nplt"},{"page":31,"sentence":"subplot( 1,2,2)\nplt"},{"page":31,"sentence":"ylim(0,2"},{"page":31,"sentence":"5)\nalc_020_by_age"},{"page":31,"sentence":"plot(kind ='bar',color='mediumblue ')\nplt"},{"page":31,"sentence":"title('Average Alcohol Consumption (Drink 4+\/5+ One Occasion) ')\nplt"},{"page":31,"sentence":"xlabel('Age Group ')\nplt"},{"page":31,"sentence":"ylabel('Average Alcohol Consumption (Drink 4+\/5+ One Occasion) ')\nplt"},{"page":31,"sentence":"xticks(rotation =45,ha='right')\nplt"},{"page":31,"sentence":"grid(axis ='y',linestyle ='--',alpha=0"},{"page":31,"sentence":"7)\nBased on the above graphs, people at the age of 12 to 17 years drink least often"},{"page":31,"sentence":"This is becuase\nthe law forbids minors to drink alcohol"},{"page":31,"sentence":"F rom the age of 18 years to 34 years, people start to drink\nmore often, and then reach the maximum alcohol comsumption frequcny at the age of 50 years to\n64 years"},{"page":31,"sentence":"However, people at younger age (18 years to 34 years) tend to drink most of alcohol at\nonce"},{"page":31,"sentence":"After the age of 35 years, people start to drink less and less alcohol at one occasion"},{"page":31,"sentence":"This\nmight be the result of physically aging that the body is less able to handle alcohols over time"},{"page":31,"sentence":"[ ]: # Create a bar chart to analyze cannabis use by region"},{"page":31,"sentence":"cannabis_region =df_q5[['CAN_015','GEOGPRV']]"},{"page":31,"sentence":"dropna()\nGEOGPRV_labels ={\n10:\"NEWFOUNDLAND AND LABRADOR \",\n11:\"PRINCE EDWARD ISLAND \",\n12:\"NOVA SCOTIA \",\n13:\"NEW BRUNSWICK \",\n24:\"QUEBEC\",\n35:\"ONTARIO\",\n46:\"MANITOBA \",\n47:\"SASKATCHEWAN \",\n29"},{"page":32,"sentence":"48:\"ALBERTA\",\n59:\"BRITISH COLUMBIA \",\n60:\"YUKON\/NORTHWEST\/NUNAVUT TERRITORIES \"\n}\ncannabis_region[ 'GEOGPRV']=cannabis_region[ 'GEOGPRV']"},{"page":32,"sentence":"map(GEOGPRV_labels)\ncannabis_byregion =cannabis_region"},{"page":32,"sentence":"groupby( 'GEOGPRV')['CAN_015']"},{"page":32,"sentence":"mean()\nplt"},{"page":32,"sentence":"figure(figsize =(10,7))\nplt"},{"page":32,"sentence":"ylim(0,2)\ncannabis_byregion"},{"page":32,"sentence":"plot(kind ='bar', color='olive')\nplt"},{"page":32,"sentence":"title('Average Cannabis Use by Region ')\nplt"},{"page":32,"sentence":"xlabel('Region')\nplt"},{"page":32,"sentence":"ylabel('Average Cannabis Use ')\nplt"},{"page":32,"sentence":"xticks(rotation =45, ha='right')\nplt"},{"page":32,"sentence":"grid(axis ='y',linestyle ='--',alpha=0"},{"page":32,"sentence":"7)\nplt"},{"page":32,"sentence":"tight_layout()\nplt"},{"page":32,"sentence":"show()\nThe above plot reveals that people among different region use cannabis approximately same fe-\nquently except for the YUKON\/NOR THWEST\/NUNA VUT territories"},{"page":32,"sentence":"This may be due to the\nless population living in these territories"},{"page":32,"sentence":"[ ]: # Create bar plot for smoking frequency for people at each region"},{"page":32,"sentence":"smoke_region =df_q5[['SMK_005','GEOGPRV']]"},{"page":32,"sentence":"dropna()\nGEOGPRV_labels ={\n10:\"NEWFOUNDLAND AND LABRADOR \",\n11:\"PRINCE EDWARD ISLAND \",\n12:\"NOVA SCOTIA \",\n13:\"NEW BRUNSWICK \",\n24:\"QUEBEC\",\n35:\"ONTARIO\",\n46:\"MANITOBA \",\n47:\"SASKATCHEWAN \",\n48:\"ALBERTA\",\n59:\"BRITISH COLUMBIA \",\n60:\"YUKON\/NORTHWEST\/NUNAVUT TERRITORIES \"\n}\nsmoke_region[ 'GEOGPRV']=smoke_region[ 'GEOGPRV']"},{"page":32,"sentence":"map(GEOGPRV_labels)\nsmoke_byregion =smoke_region"},{"page":32,"sentence":"groupby( 'GEOGPRV')['SMK_005']"},{"page":32,"sentence":"mean()\nplt"},{"page":32,"sentence":"figure(figsize =(10,7))\nsmoke_byregion"},{"page":32,"sentence":"plot(kind ='bar',color='purple')\nplt"},{"page":32,"sentence":"title('Average Smoke Frequency by Region ')\nplt"},{"page":32,"sentence":"xlabel('Region')\nplt"},{"page":32,"sentence":"ylabel('Average Smoke Frequency ')\nplt"},{"page":32,"sentence":"xticks(rotation =45,ha='right')\nplt"},{"page":32,"sentence":"grid(axis ='y',linestyle ='--',alpha=0"},{"page":32,"sentence":"7)\n30"},{"page":33,"sentence":"plt"},{"page":33,"sentence":"tight_layout()\nplt"},{"page":33,"sentence":"show()\nBased on the plot, we found that the smoking frequency for people at each provinces are approx-\nimately the same excep for the three territories and Alberta"},{"page":33,"sentence":"The reason behind why Albertans\nsmoke less frequently comapred to people at other provinces needs to be further investigated"},{"page":33,"sentence":"[ ]: # Create bar plot for alcohol consumption freuquency acorss each province\/\n↪region"},{"page":33,"sentence":"alcohol_data_filtered =df_q5[['ALC_015','ALC_020','GEOGPRV']]"},{"page":33,"sentence":"dropna()\nalc_015_region =alcohol_data_filtered"},{"page":33,"sentence":"groupby( 'GEOGPRV')['ALC_015']"},{"page":33,"sentence":"mean()\nalc_020_region =alcohol_data_filtered"},{"page":33,"sentence":"groupby( 'GEOGPRV')['ALC_020']"},{"page":33,"sentence":"mean()\nGEOGPRV_labels ={\n10:\"NEWFOUNDLAND AND LABRADOR \",\n11:\"PRINCE EDWARD ISLAND \",\n12:\"NOVA SCOTIA \",\n13:\"NEW BRUNSWICK \",\n24:\"QUEBEC\",\n35:\"ONTARIO\",\n46:\"MANITOBA \",\n47:\"SASKATCHEWAN \",\n48:\"ALBERTA\",\n59:\"BRITISH COLUMBIA \",\n60:\"YUKON\/NORTHWEST\/NUNAVUT TERRITORIES \"\n}\nalc_015_region"},{"page":33,"sentence":"index=alc_015_region"},{"page":33,"sentence":"index"},{"page":33,"sentence":"map(GEOGPRV_labels)\nalc_020_region"},{"page":33,"sentence":"index=alc_020_region"},{"page":33,"sentence":"index"},{"page":33,"sentence":"map(GEOGPRV_labels)\nplt"},{"page":33,"sentence":"figure(figsize =(14,6))\nplt"},{"page":33,"sentence":"subplot( 1,2,1)\nalc_015_region"},{"page":33,"sentence":"plot(kind ='bar',color='coral')\nplt"},{"page":33,"sentence":"title('Average Alcohol Consumption Frequency (Past 12 Months) By Region ')\nplt"},{"page":33,"sentence":"xlabel('Region Group ')\nplt"},{"page":33,"sentence":"ylabel('Average Alcohol Consumption Frequency ')\nplt"},{"page":33,"sentence":"xticks(rotation =45,ha='right')\nplt"},{"page":33,"sentence":"grid(axis ='y',linestyle ='--',alpha=0"},{"page":33,"sentence":"7)\nplt"},{"page":33,"sentence":"subplot( 1,2,2)\nalc_020_region"},{"page":33,"sentence":"plot(kind ='bar',color='mediumblue ')\nplt"},{"page":33,"sentence":"title('Average Alcohol Consumption (Drink 4+\/5+ One Occasion) By Region ')\nplt"},{"page":33,"sentence":"xlabel('Region Group ')\nplt"},{"page":33,"sentence":"ylabel('Average Alcohol Consumption (Drink 4+\/5+ One Occasion) ')\nplt"},{"page":33,"sentence":"xticks(rotation =45,ha='right')\nplt"},{"page":33,"sentence":"grid(axis ='y',linestyle ='--',alpha=0"},{"page":33,"sentence":"7)\nF rom the bar charts, we found that people in Quebec and British Columbia drink acohol most fre-\nquently , and people in New Brunswick have least alcohol consumption frequency"},{"page":33,"sentence":"However, people\n31"},{"page":34,"sentence":"in the YUKON\/NOR THWEST\/NUNA VUT territories consumes more alcohol at one occasion at\na significantly high frequency compared to other provinces"},{"page":34,"sentence":"[ ]: # Plot bar chart to visualize the cannabis use circumstance for hosueholds at ␣\n↪each educational level"},{"page":34,"sentence":"cannabis_education =df_q5[['CAN_015','EHG2DVH3 ']]"},{"page":34,"sentence":"dropna()\nEHG2DVH3_labels ={\n1:\"Less than secondary school graduation \",\n2:\"Secondary school graduation, no post-secondary education \",\n3:\"Post-secondary certificate\/diploma\/university degree \"\n}\ncannabis_education[ 'EHG2DVH3 ']=cannabis_education[ 'EHG2DVH3 ']"},{"page":34,"sentence":"↪map(EHG2DVH3_labels)\ncannabis_education =cannabis_education"},{"page":34,"sentence":"groupby( 'EHG2DVH3 ')['CAN_015']"},{"page":34,"sentence":"mean()\nplt"},{"page":34,"sentence":"figure(figsize =(8"},{"page":34,"sentence":"5,7))\ncannabis_education"},{"page":34,"sentence":"plot(kind ='bar',color='olive',width=0"},{"page":34,"sentence":"25)\nplt"},{"page":34,"sentence":"title('Average Cannabis Use by Education Level ')\nplt"},{"page":34,"sentence":"xlabel('Education Level ')\nplt"},{"page":34,"sentence":"ylabel('Average Cannabis Use ')\nplt"},{"page":34,"sentence":"xticks(rotation =45, ha='right')\nplt"},{"page":34,"sentence":"grid(axis ='y',linestyle ='--',alpha=0"},{"page":34,"sentence":"7)\nplt"},{"page":34,"sentence":"tight_layout()\nplt"},{"page":34,"sentence":"show()\nBased on the bar chart, we see that households with less than secondary graduation use cannabis\nmost often, however, the difference is not significant among other two groups"},{"page":34,"sentence":"[ ]: # Creat bar plot to visualize smoking frequency among each education level ␣\n↪group"},{"page":34,"sentence":"smoke_education =df_q5[['SMK_005','EHG2DVH3 ']]"},{"page":34,"sentence":"dropna()\nEHG2DVH3_labels ={\n1:\"Less than secondary school graduation \",\n2:\"Secondary school graduation, no post-secondary education \",\n3:\"Post-secondary certificate\/diploma\/university degree \"\n}\nsmoke_education[ 'EHG2DVH3 ']=smoke_education[ 'EHG2DVH3 ']"},{"page":34,"sentence":"map(EHG2DVH3_labels)\nsmoke_education =smoke_education"},{"page":34,"sentence":"groupby( 'EHG2DVH3 ')['SMK_005']"},{"page":34,"sentence":"mean()\nplt"},{"page":34,"sentence":"figure(figsize =(8,7))\nplt"},{"page":34,"sentence":"ylim(0,3)\nsmoke_education"},{"page":34,"sentence":"plot(kind ='bar', color='purple', width=0"},{"page":34,"sentence":"3)\nplt"},{"page":34,"sentence":"title('Average Smoke Frequency by Education Level ')\nplt"},{"page":34,"sentence":"xlabel('Education Level ')\nplt"},{"page":34,"sentence":"ylabel('Average Smoke Frequency ')\nplt"},{"page":34,"sentence":"xticks(rotation =45,ha='right')\nplt"},{"page":34,"sentence":"grid(axis ='y',linestyle ='--',alpha=0"},{"page":34,"sentence":"7)\nplt"},{"page":34,"sentence":"tight_layout()\n32"},{"page":35,"sentence":"plt"},{"page":35,"sentence":"show()\nF or smoking frequency , we see that the post secondary group has slightly higher smoking frequency\nbut not signicantly high among other groups"},{"page":35,"sentence":"The smoking freuqency for less than secondary group\nand secondary graduation group is about the same"},{"page":35,"sentence":"[ ]: #Plot bar chart for alcohol consumption for each edcuation level group"},{"page":35,"sentence":"alcohol_education =df_q5[['ALC_015','ALC_020','EHG2DVH3 ']]"},{"page":35,"sentence":"dropna()\nalc_015_education =alcohol_education"},{"page":35,"sentence":"groupby( 'EHG2DVH3 ')['ALC_015']"},{"page":35,"sentence":"mean()\nalc_020_education =alcohol_education"},{"page":35,"sentence":"groupby( 'EHG2DVH3 ')['ALC_020']"},{"page":35,"sentence":"mean()\nEHG2DVH3_labels ={\n1:\"Less than secondary school graduation \",\n2:\"Secondary school graduation, no post-secondary education \",\n3:\"Post-secondary certificate\/diploma\/university degree \"\n}\nalc_015_education"},{"page":35,"sentence":"index=alc_015_education"},{"page":35,"sentence":"index"},{"page":35,"sentence":"map(EHG2DVH3_labels)\nalc_020_education"},{"page":35,"sentence":"index=alc_020_education"},{"page":35,"sentence":"index"},{"page":35,"sentence":"map(EHG2DVH3_labels)\nplt"},{"page":35,"sentence":"figure(figsize =(14,8))\nplt"},{"page":35,"sentence":"subplot( 1,2,1)\nalc_015_education"},{"page":35,"sentence":"plot(kind ='bar',color='coral')\nplt"},{"page":35,"sentence":"title('Average Alcohol Consumption by Education Level ')\nplt"},{"page":35,"sentence":"xlabel('Education Level ')\nplt"},{"page":35,"sentence":"ylabel('Average Alcohol Consumption ')\nplt"},{"page":35,"sentence":"xticks(rotation =45, ha='right')\nplt"},{"page":35,"sentence":"grid(axis ='y',linestyle ='--',alpha=0"},{"page":35,"sentence":"7)\nplt"},{"page":35,"sentence":"subplot( 1,2,2)\nalc_020_education"},{"page":35,"sentence":"plot(kind ='bar',color='mediumblue ')\nplt"},{"page":35,"sentence":"title('Average Alcohol Consumption by Education Level ')\nplt"},{"page":35,"sentence":"xlabel('Education Level ')\nplt"},{"page":35,"sentence":"ylabel('Average Alcohol Consumption ')\nplt"},{"page":35,"sentence":"xticks(rotation =45,ha='right')\nplt"},{"page":35,"sentence":"grid(axis ='y',linestyle ='--',alpha=0"},{"page":35,"sentence":"7)\nplt"},{"page":35,"sentence":"tight_layout()\nplt"},{"page":35,"sentence":"show()\nBased on the graph, we found that people with post-secondary education drink most frequently ,\nwith people with secondary education following closely behind"},{"page":35,"sentence":"W e also found that people wth\npost-secondary or secondary education consume more alcohol at once compared to people with no\nsecondary education"},{"page":35,"sentence":"[ ]:\n33"},{"page":36,"sentence":"0"},{"page":36,"sentence":"3"},{"page":36,"sentence":"6 Health Drivers V s"},{"page":36,"sentence":"Health Improvements\nQuestion 5 - What is the relationship between regular exercise and self-reported health\nstatus? In order to answer our 5th question, I’ll start by charting reported health by reported\nphysical activity against each other"},{"page":36,"sentence":"Afterwards I’ll break down how different demographics and\nother relevant variables provided in the dataset affect how the two variables of interest affect their\nresults"},{"page":36,"sentence":"T o begin I’ll give some details on reported health and reported physical activity"},{"page":36,"sentence":"Reported\nhealth is broken down into 5 responses ranging from “Poor” to “Excellent” and reported physical\nhealth is broken down into if the respondent’s activity is “Above” or “Below” recommended activity\nguidelines"},{"page":36,"sentence":"[ ]:df_question6 =df_general"},{"page":36,"sentence":"copy()\ndf_question6 =df_question6"},{"page":36,"sentence":"filter(items =[\n'GEN_005',\n'HWTDGISW ',\n'PAADVACV ',\n'DHHGAGE',\n'DHH_SEX',\n'GEOGPRV',\n'EHG2DVH3 '\n])\n#print(df_question6"},{"page":36,"sentence":"head())\n#setting some print and summary functions to comments to remove clutter\nConcerning data cleaning I have cleaned the data to select the variables I will be working with\nand then removed rows with response that are not useful to my analysis"},{"page":36,"sentence":"Responses such as “valid\nskip”, “refused”, and “don’t know” are not of interest to my analysis and have been removed from\nthe dataset I will be working with"},{"page":36,"sentence":"Finally , I run code to check for missing values in my dataset"},{"page":36,"sentence":"[ ]:df_question6 =df_question6"},{"page":36,"sentence":"drop(df_question6[df_question6[ 'GEN_005']==8]"},{"page":36,"sentence":"index)\ndf_question6 =df_question6"},{"page":36,"sentence":"drop(df_question6[df_question6[ 'GEN_005']==7]"},{"page":36,"sentence":"index)\ndf_question6 =df_question6"},{"page":36,"sentence":"drop(df_question6[df_question6[ 'HWTDGISW ']==6]"},{"page":36,"sentence":"index)\ndf_question6 =df_question6"},{"page":36,"sentence":"drop(df_question6[df_question6[ 'HWTDGISW ']==9]"},{"page":36,"sentence":"index)\ndf_question6 =df_question6"},{"page":36,"sentence":"drop(df_question6[df_question6[ 'PAADVACV ']==9]"},{"page":36,"sentence":"index)\ndf_question6 =df_question6"},{"page":36,"sentence":"drop(df_question6[df_question6[ 'PAADVACV ']==6]"},{"page":36,"sentence":"index)\ndf_question6 =df_question6"},{"page":36,"sentence":"drop(df_question6[df_question6[ 'PAADVACV ']==3]"},{"page":36,"sentence":"index)\ndf_question6 =df_question6"},{"page":36,"sentence":"drop(df_question6[df_question6[ 'EHG2DVH3 ']==9]"},{"page":36,"sentence":"index)\ndf_question6"},{"page":36,"sentence":"isnull()"},{"page":36,"sentence":"sum()\nI added a correlation heat map but there are no strong correlations between any of the variables\nincluded in my analysis"},{"page":36,"sentence":"[ ]:cor6=df_question6"},{"page":36,"sentence":"corr()\nlabels6=['General Health ','BMI','Physical Activity ','Age','Sex','Location ',␣\n↪'Education ']\nsns"},{"page":36,"sentence":"heatmap(cor6, annot =True, cmap='coolwarm ', center =0, xticklabels =labels6, ␣\n↪yticklabels =labels6)\nplt"},{"page":36,"sentence":"title(\"Correlation Between Physical Activity and Health Variables \")\n34"},{"page":37,"sentence":"plt"},{"page":37,"sentence":"show()\nT o start I’ve visualized the initial two variables physical activity and reported health"},{"page":37,"sentence":"T o do this I\ngrouped physical activity by the reported health categories and visualised them in a bar chart"},{"page":37,"sentence":"The\ninitial plot shows a clear trend between the reported health and how much of that population is\nabove the recommended activity guideline"},{"page":37,"sentence":"As the reported health decreases the difference between\nthe proportion of people above and below the activity guideline shows downwards and upward\ntrends respectively"},{"page":37,"sentence":"[ ]:df6_health =df_question6"},{"page":37,"sentence":"groupby( 'GEN_005', as_index =False)['PAADVACV ']"},{"page":37,"sentence":"↪value_counts(normalize =True,sort=False)\nplt"},{"page":37,"sentence":"figure()"},{"page":37,"sentence":"set_figwidth( 10)\nplt"},{"page":37,"sentence":"bar(df6_health[ 'GEN_005']"},{"page":37,"sentence":"unique(),df6_health[ 'proportion '][::2],width=0"},{"page":37,"sentence":"↪3,label='Percent Above Activity Guideline ')\nplt"},{"page":37,"sentence":"bar(df6_health[ 'GEN_005']"},{"page":37,"sentence":"unique() +0"},{"page":37,"sentence":"3,df6_health[ 'proportion '][1::\n↪2],width=0"},{"page":37,"sentence":"3, label='Percent Below Activity Guideline ')\nplt"},{"page":37,"sentence":"xticks(df6_health[ 'GEN_005']"},{"page":37,"sentence":"unique() +0"},{"page":37,"sentence":"3\/2,('Excellent ','Very␣\n↪Good','Good','Fair','Poor'))\nplt"},{"page":37,"sentence":"xlabel('Physical Activity By Health Status ')\nplt"},{"page":37,"sentence":"ylabel('Percent')\nplt"},{"page":37,"sentence":"legend()\nplt"},{"page":37,"sentence":"show()\nI created subplots showing the first relationship but divided up by age groups"},{"page":37,"sentence":"As can be seen in\nthe graphs for the younger age groups there is no discernible trend between physical activity and\nreported health"},{"page":37,"sentence":"This plot indicates that the younger age group are overall more active than older\nage groups but there are other factors that are more important to the younger age groups reported\nhealth"},{"page":37,"sentence":"The age groups over 50 years old do show the trend in the initial plot"},{"page":37,"sentence":"F rom this it could\nbe reasonably concluded that as age increases physical activity becomes more important to ones\nreported health"},{"page":37,"sentence":"[ ]:df_question6_age1 =df_question6"},{"page":37,"sentence":"drop(df_question6[df_question6[ 'DHHGAGE']!=2]"},{"page":37,"sentence":"↪index)\ndf6_health_age1 =df_question6_age1"},{"page":37,"sentence":"groupby( 'GEN_005',␣\n↪as_index =False)['PAADVACV ']"},{"page":37,"sentence":"value_counts(normalize =True,sort=False)\ndf_question6_age2 =df_question6"},{"page":37,"sentence":"drop(df_question6[df_question6[ 'DHHGAGE']!=3]"},{"page":37,"sentence":"↪index)\ndf6_health_age2 =df_question6_age2"},{"page":37,"sentence":"groupby( 'GEN_005',␣\n↪as_index =False)['PAADVACV ']"},{"page":37,"sentence":"value_counts(normalize =True,sort=False)\ndf_question6_age3 =df_question6"},{"page":37,"sentence":"drop(df_question6[df_question6[ 'DHHGAGE']!=4]"},{"page":37,"sentence":"↪index)\ndf6_health_age3 =df_question6_age3"},{"page":37,"sentence":"groupby( 'GEN_005',␣\n↪as_index =False)['PAADVACV ']"},{"page":37,"sentence":"value_counts(normalize =True,sort=False)\ndf_question6_age4 =df_question6"},{"page":37,"sentence":"drop(df_question6[df_question6[ 'DHHGAGE']!=5]"},{"page":37,"sentence":"↪index)\ndf6_health_age4 =df_question6_age4"},{"page":37,"sentence":"groupby( 'GEN_005',␣\n↪as_index =False)['PAADVACV ']"},{"page":37,"sentence":"value_counts(normalize =True,sort=False)\n35"},{"page":38,"sentence":"fig, axes =plt"},{"page":38,"sentence":"subplots( 2,2, figsize =(12,10))\naxes[0,0]"},{"page":38,"sentence":"bar(df6_health_age1[ 'GEN_005']"},{"page":38,"sentence":"↪unique(),df6_health_age1[ 'proportion '][::2],width=0"},{"page":38,"sentence":"3,label='Percent Above ␣\n↪Activity Guideline ')\naxes[0,0]"},{"page":38,"sentence":"bar(df6_health_age1[ 'GEN_005']"},{"page":38,"sentence":"unique() +0"},{"page":38,"sentence":"↪3,df6_health_age1[ 'proportion '][1::2],width=0"},{"page":38,"sentence":"3, label='Percent Below ␣\n↪Activity Guideline ')\naxes[0,0]"},{"page":38,"sentence":"set_xticks(df6_health_age1[ 'GEN_005']"},{"page":38,"sentence":"unique() +0"},{"page":38,"sentence":"3\/\n↪2,('Excellent ','Very Good ','Good','Fair','Poor'))\naxes[0,0]"},{"page":38,"sentence":"set_xlabel( 'Physical Activity By Health Status 18-34 ')\naxes[0,0]"},{"page":38,"sentence":"set_ylabel( 'Percent')\naxes[0,0]"},{"page":38,"sentence":"legend()\naxes[0,1]"},{"page":38,"sentence":"bar(df6_health_age2[ 'GEN_005']"},{"page":38,"sentence":"↪unique(),df6_health_age2[ 'proportion '][::2],width=0"},{"page":38,"sentence":"3,label='Percent Above ␣\n↪Activity Guideline ')\naxes[0,1]"},{"page":38,"sentence":"bar(df6_health_age2[ 'GEN_005']"},{"page":38,"sentence":"unique() +0"},{"page":38,"sentence":"↪3,df6_health_age2[ 'proportion '][1::2],width=0"},{"page":38,"sentence":"3, label='Percent Below ␣\n↪Activity Guideline ')\naxes[0,1]"},{"page":38,"sentence":"set_xticks(df6_health_age2[ 'GEN_005']"},{"page":38,"sentence":"unique() +0"},{"page":38,"sentence":"3\/\n↪2,('Excellent ','Very Good ','Good','Fair','Poor'))\naxes[0,1]"},{"page":38,"sentence":"set_xlabel( 'Physical Activity By Health Status 35-49 ')\naxes[0,1]"},{"page":38,"sentence":"set_ylabel( 'Percent')\naxes[0,1]"},{"page":38,"sentence":"legend()\naxes[1,0]"},{"page":38,"sentence":"bar(df6_health_age3[ 'GEN_005']"},{"page":38,"sentence":"↪unique(),df6_health_age3[ 'proportion '][::2],width=0"},{"page":38,"sentence":"3,label='Percent Above ␣\n↪Activity Guideline ')\naxes[1,0]"},{"page":38,"sentence":"bar(df6_health_age3[ 'GEN_005']"},{"page":38,"sentence":"unique() +0"},{"page":38,"sentence":"↪3,df6_health_age3[ 'proportion '][1::2],width=0"},{"page":38,"sentence":"3, label='Percent Below ␣\n↪Activity Guideline ')\naxes[1,0]"},{"page":38,"sentence":"set_xticks(df6_health_age3[ 'GEN_005']"},{"page":38,"sentence":"unique() +0"},{"page":38,"sentence":"3\/\n↪2,('Excellent ','Very Good ','Good','Fair','Poor'))\naxes[1,0]"},{"page":38,"sentence":"set_xlabel( 'Physical Activity By Health Status 50-64 ')\naxes[1,0]"},{"page":38,"sentence":"set_ylabel( 'Percent')\naxes[1,0]"},{"page":38,"sentence":"legend()\naxes[1,1]"},{"page":38,"sentence":"bar(df6_health_age4[ 'GEN_005']"},{"page":38,"sentence":"↪unique(),df6_health_age4[ 'proportion '][::2],width=0"},{"page":38,"sentence":"3,label='Percent Above ␣\n↪Activity Guideline ')\naxes[1,1]"},{"page":38,"sentence":"bar(df6_health_age4[ 'GEN_005']"},{"page":38,"sentence":"unique() +0"},{"page":38,"sentence":"↪3,df6_health_age4[ 'proportion '][1::2],width=0"},{"page":38,"sentence":"3, label='Percent Below ␣\n↪Activity Guideline ')\n36"},{"page":39,"sentence":"axes[1,1]"},{"page":39,"sentence":"set_xticks(df6_health_age4[ 'GEN_005']"},{"page":39,"sentence":"unique() +0"},{"page":39,"sentence":"3\/\n↪2,('Excellent ','Very Good ','Good','Fair','Poor'))\naxes[1,1]"},{"page":39,"sentence":"set_xlabel( 'Physical Activity By Health Status 65 plus ')\naxes[1,1]"},{"page":39,"sentence":"set_ylabel( 'Percent')\naxes[1,1]"},{"page":39,"sentence":"legend()\nplt"},{"page":39,"sentence":"show()\nAnother breakdown was the two main variables of interest by the respondent’s level of education"},{"page":39,"sentence":"The plots show that if a respondent did not complete high school, they are less likely to be active\nthan respondents who completed high school or have a post secondary degree"},{"page":39,"sentence":"There were minimal\ndifferences between those that completed high school or hold a post secondary degree"},{"page":39,"sentence":"All plots\nfollow the trend shown in the first graph"},{"page":39,"sentence":"[ ]:df_question6edu1 =df_question6"},{"page":39,"sentence":"drop(df_question6[df_question6[ 'EHG2DVH3 ']!=1]"},{"page":39,"sentence":"↪index)\ndf6_edu1 =df_question6edu1"},{"page":39,"sentence":"groupby( 'GEN_005', as_index =False)['PAADVACV ']"},{"page":39,"sentence":"↪value_counts(normalize =True,sort=False)\ndf_question6edu2 =df_question6"},{"page":39,"sentence":"drop(df_question6[df_question6[ 'EHG2DVH3 ']!=2]"},{"page":39,"sentence":"↪index)\ndf6_edu2 =df_question6edu2"},{"page":39,"sentence":"groupby( 'GEN_005', as_index =False)['PAADVACV ']"},{"page":39,"sentence":"↪value_counts(normalize =True,sort=False)\ndf_question6edu2 =df_question6"},{"page":39,"sentence":"drop(df_question6[df_question6[ 'EHG2DVH3 ']!=3]"},{"page":39,"sentence":"↪index)\ndf6_edu3 =df_question6edu2"},{"page":39,"sentence":"groupby( 'GEN_005', as_index =False)['PAADVACV ']"},{"page":39,"sentence":"↪value_counts(normalize =True,sort=False)\nfig, axes =plt"},{"page":39,"sentence":"subplots( 2,2, figsize =(12,10))\naxes[0,0]"},{"page":39,"sentence":"bar(df6_edu1[ 'GEN_005']"},{"page":39,"sentence":"unique(),df6_edu1[ 'proportion '][::2],width=0"},{"page":39,"sentence":"↪3,label='Percent Above Activity Guideline ')\naxes[0,0]"},{"page":39,"sentence":"bar(df6_edu1[ 'GEN_005']"},{"page":39,"sentence":"unique() +0"},{"page":39,"sentence":"3,df6_edu1[ 'proportion '][1::\n↪2],width=0"},{"page":39,"sentence":"3, label='Percent Below Activity Guideline ')\naxes[0,0]"},{"page":39,"sentence":"set_xticks(df6_edu1[ 'GEN_005']"},{"page":39,"sentence":"unique() +0"},{"page":39,"sentence":"3\/2,('Excellent ','Very␣\n↪Good','Good','Fair','Poor'))\naxes[0,0]"},{"page":39,"sentence":"set_xlabel( 'Physical Activity By Health Status No HS Diploma ')\naxes[0,0]"},{"page":39,"sentence":"set_ylabel( 'Percent')\naxes[0,0]"},{"page":39,"sentence":"legend()\naxes[0,1]"},{"page":39,"sentence":"bar(df6_edu2[ 'GEN_005']"},{"page":39,"sentence":"unique(),df6_edu2[ 'proportion '][::2],width=0"},{"page":39,"sentence":"↪3,label='Percent Above Activity Guideline ')\naxes[0,1]"},{"page":39,"sentence":"bar(df6_edu2[ 'GEN_005']"},{"page":39,"sentence":"unique() +0"},{"page":39,"sentence":"3,df6_edu2[ 'proportion '][1::\n↪2],width=0"},{"page":39,"sentence":"3, label='Percent Below Activity Guideline ')\naxes[0,1]"},{"page":39,"sentence":"set_xticks(df6_edu2[ 'GEN_005']"},{"page":39,"sentence":"unique() +0"},{"page":39,"sentence":"3\/2,('Excellent ','Very␣\n↪Good','Good','Fair','Poor'))\naxes[0,1]"},{"page":39,"sentence":"set_xlabel( 'Physical Activity By Health Status HS Diploma ')\naxes[0,1]"},{"page":39,"sentence":"set_ylabel( 'Percent')\naxes[0,1]"},{"page":39,"sentence":"legend()\n37"},{"page":40,"sentence":"axes[1,0]"},{"page":40,"sentence":"bar(df6_edu3[ 'GEN_005']"},{"page":40,"sentence":"unique(),df6_edu3[ 'proportion '][::2],width=0"},{"page":40,"sentence":"↪3,label='Percent Above Activity Guideline ')\naxes[1,0]"},{"page":40,"sentence":"bar(df6_edu3[ 'GEN_005']"},{"page":40,"sentence":"unique() +0"},{"page":40,"sentence":"3,df6_edu3[ 'proportion '][1::\n↪2],width=0"},{"page":40,"sentence":"3, label='Percent Below Activity Guideline ')\naxes[1,0]"},{"page":40,"sentence":"set_xticks(df6_edu3[ 'GEN_005']"},{"page":40,"sentence":"unique() +0"},{"page":40,"sentence":"3\/2,('Excellent ','Very␣\n↪Good','Good','Fair','Poor'))\naxes[1,0]"},{"page":40,"sentence":"set_xlabel( 'Physical Activity By Health Status Uni Degree ')\naxes[1,0]"},{"page":40,"sentence":"set_ylabel( 'Percent')\naxes[1,0]"},{"page":40,"sentence":"legend()\nfig"},{"page":40,"sentence":"delaxes(axes[ 1,1])\nplt"},{"page":40,"sentence":"show()\nQuestion 6 - How does stress influence the maintenance or improvement of mental\nhealth? F or our 6th question I started by charting reported mental health by the respondent’s\nstress level"},{"page":40,"sentence":"After that ill break down the relationship by relevant demographic variables in the\ndataset along with some other visualizations of the data"},{"page":40,"sentence":"Much like question 6 reported mental\nhealth is broken down into categories ranging from “poor” to “excellent”"},{"page":40,"sentence":"Reported stress level is\nbroken down into 5 categories ranging from “not at all stressful” to “extremely stressful”"},{"page":40,"sentence":"[ ]:df_question7 =df_general"},{"page":40,"sentence":"copy()\ndf_question7 =df_question7"},{"page":40,"sentence":"filter(items =[\n'GEN_015',\n'GEN_020',\n'HWTDGISW ',\n'PAADVACV ',\n'DHHGAGE',\n'DHH_SEX',\n'GEOGPRV',\n'EHG2DVH3 ',\n'HWT_050'\n])\n#print(df_question7"},{"page":40,"sentence":"head())\nLike question 5 for data cleaning, I selected variables of interest and put them into a new data set\nfor me to perform my analysis"},{"page":40,"sentence":"I cleaned unwanted variables like “don’t know” and “refused” as\nthey are not of interest to my analysis"},{"page":40,"sentence":"Lastly , I checked the dataset for missing values"},{"page":40,"sentence":"F or the\ninitial graph plotting stress level by reported mental health status"},{"page":40,"sentence":"As can be seen in the graph\nthere is a distinct trend shown as respondents mental health decreases the percentage of the mental\nhealth level reporting higher stress levels grows"},{"page":40,"sentence":"This trend shows the relationship that one could\nexpect that stress does seem have be a determining factor or mental health"},{"page":40,"sentence":"[ ]:df_question7 =df_question7"},{"page":40,"sentence":"drop(df_question7[df_question7[ 'GEN_015']==9]"},{"page":40,"sentence":"index)\ndf_question7 =df_question7"},{"page":40,"sentence":"drop(df_question7[df_question7[ 'GEN_015']==8]"},{"page":40,"sentence":"index)\ndf_question7 =df_question7"},{"page":40,"sentence":"drop(df_question7[df_question7[ 'GEN_015']==7]"},{"page":40,"sentence":"index)\ndf_question7 =df_question7"},{"page":40,"sentence":"drop(df_question7[df_question7[ 'GEN_020']==8]"},{"page":40,"sentence":"index)\ndf_question7 =df_question7"},{"page":40,"sentence":"drop(df_question7[df_question7[ 'GEN_020']==7]"},{"page":40,"sentence":"index)\n38"},{"page":41,"sentence":"df_question7 =df_question7"},{"page":41,"sentence":"drop(df_question7[df_question7[ 'HWTDGISW ']==6]"},{"page":41,"sentence":"index)\ndf_question7 =df_question7"},{"page":41,"sentence":"drop(df_question7[df_question7[ 'HWTDGISW ']==9]"},{"page":41,"sentence":"index)\ndf_question7 =df_question7"},{"page":41,"sentence":"drop(df_question7[df_question7[ 'PAADVACV ']==9]"},{"page":41,"sentence":"index)\ndf_question7 =df_question7"},{"page":41,"sentence":"drop(df_question7[df_question7[ 'PAADVACV ']==6]"},{"page":41,"sentence":"index)\ndf_question7 =df_question7"},{"page":41,"sentence":"drop(df_question7[df_question7[ 'PAADVACV ']==3]"},{"page":41,"sentence":"index)\ndf_question7 =df_question7"},{"page":41,"sentence":"drop(df_question7[df_question7[ 'HWT_050']==6]"},{"page":41,"sentence":"index)\ndf_question7 =df_question7"},{"page":41,"sentence":"drop(df_question7[df_question7[ 'HWT_050']==7]"},{"page":41,"sentence":"index)\ndf_question7 =df_question7"},{"page":41,"sentence":"drop(df_question7[df_question7[ 'HWT_050']==8]"},{"page":41,"sentence":"index)\ndf_question7 =df_question7"},{"page":41,"sentence":"drop(df_question7[df_question7[ 'HWT_050']==9]"},{"page":41,"sentence":"index)\ndf_question7 =df_question7"},{"page":41,"sentence":"drop(df_question7[df_question7[ 'EHG2DVH3 ']==9]"},{"page":41,"sentence":"index)\ndf_question7"},{"page":41,"sentence":"isnull()"},{"page":41,"sentence":"sum()\nThe correlation matrix with a heat map is included but it does not show any particular results of\ninterest"},{"page":41,"sentence":"[ ]:cor7=df_question7"},{"page":41,"sentence":"corr()\nlabels7=['Mental Health ','Stress Level ','BMI','Physical Activity ','Age',␣\n↪'Sex','Location ','Education ','Self Percieved Weight ']\nsns"},{"page":41,"sentence":"heatmap(cor7, annot =True, cmap='coolwarm ', center =0, xticklabels =labels7, ␣\n↪yticklabels =labels7)\nplt"},{"page":41,"sentence":"title(\"Correlation Between Stress and Mental Health Variables \")\nplt"},{"page":41,"sentence":"show()\nF or the first breakdown by demographics, I have broken down the first graph by the age groups\nreported in the dataset"},{"page":41,"sentence":"In each graph the general trend of higher stress levels being seen at the\nlower reported mental health states"},{"page":41,"sentence":"However, as age increases the number of respondents in the\nextremes of the reported stress levels differs significantly with older age groups responding more in\nthe extremes"},{"page":41,"sentence":"[ ]:df_healthstress =df_question7"},{"page":41,"sentence":"groupby( 'GEN_015', as_index =False)['GEN_020']"},{"page":41,"sentence":"↪value_counts(normalize =True, sort=False)\nplt"},{"page":41,"sentence":"figure()"},{"page":41,"sentence":"set_figwidth( 10)\nplt"},{"page":41,"sentence":"bar(df_healthstress[ 'GEN_015']"},{"page":41,"sentence":"unique() -0"},{"page":41,"sentence":"2,df_healthstress[ 'proportion '][::\n↪5],width=0"},{"page":41,"sentence":"1,label='Not at all stressful ')\nplt"},{"page":41,"sentence":"bar(df_healthstress[ 'GEN_015']"},{"page":41,"sentence":"unique() -0"},{"page":41,"sentence":"1,df_healthstress[ 'proportion '][1:\n↪:5],width=0"},{"page":41,"sentence":"1, label='Not very stressful ')\nplt"},{"page":41,"sentence":"bar(df_healthstress[ 'GEN_015']"},{"page":41,"sentence":"unique(),df_healthstress[ 'proportion '][2::\n↪5],width=0"},{"page":41,"sentence":"1, label='A bit stressful ')\nplt"},{"page":41,"sentence":"bar(df_healthstress[ 'GEN_015']"},{"page":41,"sentence":"unique() +0"},{"page":41,"sentence":"1,df_healthstress[ 'proportion '][3:\n↪:5],width=0"},{"page":41,"sentence":"1, label='Quite a bit stressful ')\nplt"},{"page":41,"sentence":"bar(df_healthstress[ 'GEN_015']"},{"page":41,"sentence":"unique() +0"},{"page":41,"sentence":"2,df_healthstress[ 'proportion '][4:\n↪:5],width=0"},{"page":41,"sentence":"1, label='Extremely stressful ')\nplt"},{"page":41,"sentence":"xticks(df_healthstress[ 'GEN_015']"},{"page":41,"sentence":"unique(),( 'Excellent ','Very␣\n↪Good','Good','Fair','Poor'))\nplt"},{"page":41,"sentence":"xlabel('Stress Level by Mental Health Status ')\nplt"},{"page":41,"sentence":"ylabel('Percent')\n39"},{"page":42,"sentence":"plt"},{"page":42,"sentence":"legend()\nplt"},{"page":42,"sentence":"show()\nF or my last visualisation I plotted reported mental health by self perceived weight to see how\none’s self-perceived weight influences their mental health at all"},{"page":42,"sentence":"In the graph there is a trend\nshown, as the respondents mental health decreases the percentage of the population in each mental\nhealth category reporting they view themselves as “just right” decreases"},{"page":42,"sentence":"Likewise, the amount of\neach category’s population reporting that their view themselves as “underweight” or “overweight”\nincreases as reported mental health decreases"},{"page":42,"sentence":"[ ]:df_question7_age1 =df_question7"},{"page":42,"sentence":"drop(df_question7[df_question7[ 'DHHGAGE']!=2]"},{"page":42,"sentence":"↪index)\ndf7_health_age1 =df_question7_age1"},{"page":42,"sentence":"groupby( 'GEN_015', as_index =False)['GEN_020']"},{"page":42,"sentence":"↪value_counts(normalize =True,sort=False)\ndf_question7_age2 =df_question7"},{"page":42,"sentence":"drop(df_question7[df_question7[ 'DHHGAGE']!=3]"},{"page":42,"sentence":"↪index)\ndf7_health_age2 =df_question7_age2"},{"page":42,"sentence":"groupby( 'GEN_015', as_index =False)['GEN_020']"},{"page":42,"sentence":"↪value_counts(normalize =True,sort=False)\ndf_question7_age3 =df_question7"},{"page":42,"sentence":"drop(df_question7[df_question7[ 'DHHGAGE']!=4]"},{"page":42,"sentence":"↪index)\ndf7_health_age3 =df_question7_age3"},{"page":42,"sentence":"groupby( 'GEN_015', as_index =False)['GEN_020']"},{"page":42,"sentence":"↪value_counts(normalize =True,sort=False)\ndf_question7_age4 =df_question7"},{"page":42,"sentence":"drop(df_question7[df_question7[ 'DHHGAGE']!=5]"},{"page":42,"sentence":"↪index)\ndf7_health_age4 =df_question7_age4"},{"page":42,"sentence":"groupby( 'GEN_015', as_index =False)['GEN_020']"},{"page":42,"sentence":"↪value_counts(normalize =True,sort=False)\ntemp=pd"},{"page":42,"sentence":"DataFrame({ 'GEN_015':5,'GEN_015':1,'proportion ':0},index=[20])\ndf7_health_age1 =pd"},{"page":42,"sentence":"concat([df7_health_age1"},{"page":42,"sentence":"iloc[:20], temp, df7_health_age1"},{"page":42,"sentence":"↪iloc[20:]],ignore_index =True)\ndf7_health_age1"},{"page":42,"sentence":"iloc[20,0]=5\ndf7_health_age1"},{"page":42,"sentence":"iloc[20,1]=1\ndf7_health_age1"},{"page":42,"sentence":"iloc[20,2]=0\ntemp=pd"},{"page":42,"sentence":"DataFrame({ 'GEN_015':5,'GEN_015':1,'proportion ':0},index=[20])\ndf7_health_age2 =pd"},{"page":42,"sentence":"concat([df7_health_age2"},{"page":42,"sentence":"iloc[:20], temp, df7_health_age2"},{"page":42,"sentence":"↪iloc[20:]],ignore_index =True)\ndf7_health_age2"},{"page":42,"sentence":"iloc[20,0]=5\ndf7_health_age2"},{"page":42,"sentence":"iloc[20,1]=1\ndf7_health_age2"},{"page":42,"sentence":"iloc[20,2]=0\ntemp=pd"},{"page":42,"sentence":"DataFrame({ 'GEN_015':5,'GEN_015':1,'proportion ':0},index=[20])\ndf7_health_age4 =pd"},{"page":42,"sentence":"concat([df7_health_age4"},{"page":42,"sentence":"iloc[:20], temp, df7_health_age4"},{"page":42,"sentence":"↪iloc[20:]],ignore_index =True)\ndf7_health_age4"},{"page":42,"sentence":"iloc[20,0]=5\ndf7_health_age4"},{"page":42,"sentence":"iloc[20,1]=1\ndf7_health_age4"},{"page":42,"sentence":"iloc[20,2]=0\n40"},{"page":43,"sentence":"fig, axes =plt"},{"page":43,"sentence":"subplots( 2,2, figsize =(12,10))\naxes[0,0]"},{"page":43,"sentence":"bar(df7_health_age1[ 'GEN_015']"},{"page":43,"sentence":"unique() -0"},{"page":43,"sentence":"↪2,df7_health_age1[ 'proportion '][::5],width=0"},{"page":43,"sentence":"1,label='Not at all stressful ')\naxes[0,0]"},{"page":43,"sentence":"bar(df7_health_age1[ 'GEN_015']"},{"page":43,"sentence":"unique() -0"},{"page":43,"sentence":"↪1,df7_health_age1[ 'proportion '][1::5],width=0"},{"page":43,"sentence":"1, label='Not very stressful ')\naxes[0,0]"},{"page":43,"sentence":"bar(df7_health_age1[ 'GEN_015']"},{"page":43,"sentence":"↪unique(),df7_health_age1[ 'proportion '][2::5],width=0"},{"page":43,"sentence":"1, label='A bit␣\n↪stressful ')\naxes[0,0]"},{"page":43,"sentence":"bar(df7_health_age1[ 'GEN_015']"},{"page":43,"sentence":"unique() +0"},{"page":43,"sentence":"↪1,df7_health_age1[ 'proportion '][3::5],width=0"},{"page":43,"sentence":"1, label='Quite a bit ␣\n↪stressful ')\naxes[0,0]"},{"page":43,"sentence":"bar(df7_health_age1[ 'GEN_015']"},{"page":43,"sentence":"unique() +0"},{"page":43,"sentence":"↪2,df7_health_age1[ 'proportion '][4::5],width=0"},{"page":43,"sentence":"1, label='Extremely stressful ')\naxes[0,0]"},{"page":43,"sentence":"set_xticks(df7_health_age1[ 'GEN_015']"},{"page":43,"sentence":"unique(),( 'Excellent ','Very␣\n↪Good','Good','Fair','Poor'))\naxes[0,0]"},{"page":43,"sentence":"set_xlabel( 'Stress Level by Mental Health Status 18-34 ')\naxes[0,0]"},{"page":43,"sentence":"set_ylabel( 'Percent')\naxes[0,0]"},{"page":43,"sentence":"legend()\naxes[0,1]"},{"page":43,"sentence":"bar(df7_health_age2[ 'GEN_015']"},{"page":43,"sentence":"unique() -0"},{"page":43,"sentence":"↪2,df7_health_age2[ 'proportion '][::5],width=0"},{"page":43,"sentence":"1,label='Not at all stressful ')\naxes[0,1]"},{"page":43,"sentence":"bar(df7_health_age2[ 'GEN_015']"},{"page":43,"sentence":"unique() -0"},{"page":43,"sentence":"↪1,df7_health_age2[ 'proportion '][1::5],width=0"},{"page":43,"sentence":"1, label='Not very stressful ')\naxes[0,1]"},{"page":43,"sentence":"bar(df7_health_age2[ 'GEN_015']"},{"page":43,"sentence":"↪unique(),df7_health_age2[ 'proportion '][2::5],width=0"},{"page":43,"sentence":"1, label='A bit␣\n↪stressful ')\naxes[0,1]"},{"page":43,"sentence":"bar(df7_health_age2[ 'GEN_015']"},{"page":43,"sentence":"unique() +0"},{"page":43,"sentence":"↪1,df7_health_age2[ 'proportion '][3::5],width=0"},{"page":43,"sentence":"1, label='Quite a bit ␣\n↪stressful ')\naxes[0,1]"},{"page":43,"sentence":"bar(df7_health_age2[ 'GEN_015']"},{"page":43,"sentence":"unique() +0"},{"page":43,"sentence":"↪2,df7_health_age2[ 'proportion '][4::5],width=0"},{"page":43,"sentence":"1, label='Extremely stressful ')\naxes[0,1]"},{"page":43,"sentence":"set_xticks(df7_health_age2[ 'GEN_015']"},{"page":43,"sentence":"unique(),( 'Excellent ','Very␣\n↪Good','Good','Fair','Poor'))\naxes[0,1]"},{"page":43,"sentence":"set_xlabel( 'Stress Level by Mental Health Status 34-49 ')\naxes[0,1]"},{"page":43,"sentence":"set_ylabel( 'Percent')\naxes[0,1]"},{"page":43,"sentence":"legend()\naxes[1,0]"},{"page":43,"sentence":"bar(df7_health_age3[ 'GEN_015']"},{"page":43,"sentence":"unique() -0"},{"page":43,"sentence":"↪2,df7_health_age3[ 'proportion '][::5],width=0"},{"page":43,"sentence":"1,label='Not at all stressful ')\naxes[1,0]"},{"page":43,"sentence":"bar(df7_health_age3[ 'GEN_015']"},{"page":43,"sentence":"unique() -0"},{"page":43,"sentence":"↪1,df7_health_age3[ 'proportion '][1::5],width=0"},{"page":43,"sentence":"1, label='Not very stressful ')\naxes[1,0]"},{"page":43,"sentence":"bar(df7_health_age3[ 'GEN_015']"},{"page":43,"sentence":"↪unique(),df7_health_age3[ 'proportion '][2::5],width=0"},{"page":43,"sentence":"1, label='A bit␣\n↪stressful ')\n41"},{"page":44,"sentence":"axes[1,0]"},{"page":44,"sentence":"bar(df7_health_age3[ 'GEN_015']"},{"page":44,"sentence":"unique() +0"},{"page":44,"sentence":"↪1,df7_health_age3[ 'proportion '][3::5],width=0"},{"page":44,"sentence":"1, label='Quite a bit ␣\n↪stressful ')\naxes[1,0]"},{"page":44,"sentence":"bar(df7_health_age3[ 'GEN_015']"},{"page":44,"sentence":"unique() +0"},{"page":44,"sentence":"↪2,df7_health_age3[ 'proportion '][4::5],width=0"},{"page":44,"sentence":"1, label='Extremely stressful ')\naxes[1,0]"},{"page":44,"sentence":"set_xticks(df7_health_age3[ 'GEN_015']"},{"page":44,"sentence":"unique(),( 'Excellent ','Very␣\n↪Good','Good','Fair','Poor'))\naxes[1,0]"},{"page":44,"sentence":"set_xlabel( 'Stress Level by Mental Health Status 50-64 ')\naxes[1,0]"},{"page":44,"sentence":"set_ylabel( 'Percent')\naxes[1,0]"},{"page":44,"sentence":"legend()\naxes[1,1]"},{"page":44,"sentence":"bar(df7_health_age4[ 'GEN_015']"},{"page":44,"sentence":"unique() -0"},{"page":44,"sentence":"↪2,df7_health_age4[ 'proportion '][0::5],width=0"},{"page":44,"sentence":"1,label='Not at all stressful ')\naxes[1,1]"},{"page":44,"sentence":"bar(df7_health_age4[ 'GEN_015']"},{"page":44,"sentence":"unique() -0"},{"page":44,"sentence":"↪1,df7_health_age4[ 'proportion '][1::5],width=0"},{"page":44,"sentence":"1, label='Not very stressful ')\naxes[1,1]"},{"page":44,"sentence":"bar(df7_health_age4[ 'GEN_015']"},{"page":44,"sentence":"↪unique(),df7_health_age4[ 'proportion '][2::5],width=0"},{"page":44,"sentence":"1, label='A bit␣\n↪stressful ')\naxes[1,1]"},{"page":44,"sentence":"bar(df7_health_age4[ 'GEN_015']"},{"page":44,"sentence":"unique() +0"},{"page":44,"sentence":"↪1,df7_health_age4[ 'proportion '][3::5],width=0"},{"page":44,"sentence":"1, label='Quite a bit ␣\n↪stressful ')\naxes[1,1]"},{"page":44,"sentence":"bar(df7_health_age4[ 'GEN_015']"},{"page":44,"sentence":"unique() +0"},{"page":44,"sentence":"↪2,df7_health_age4[ 'proportion '][4::5],width=0"},{"page":44,"sentence":"1, label='Extremely stressful ')\naxes[1,1]"},{"page":44,"sentence":"set_xticks(df7_health_age4[ 'GEN_015']"},{"page":44,"sentence":"unique(),( 'Excellent ','Very␣\n↪Good','Good','Fair','Poor'))\naxes[1,1]"},{"page":44,"sentence":"set_xlabel( 'Stress Level by Mental Health Status 65 plus ')\naxes[1,1]"},{"page":44,"sentence":"set_ylabel( 'Percent')\naxes[1,1]"},{"page":44,"sentence":"legend()\nplt"},{"page":44,"sentence":"show()\n0"},{"page":44,"sentence":"4 Discussion\nF rom our analysis of how alcohol consumption affected mental health among different age groups,\nwe saw that individuals who moderately consume alcohol may report a better self-perceived mental\nhealth and life satisfaction"},{"page":44,"sentence":"However, if alcohol consumption becomes excessive, especially in the\ncase of frequent binge drinking, we can see a noticeable decrease in self-perceived mental health\nand life satisfaction"},{"page":44,"sentence":"This trend is noticeable across all age groups to varying degrees"},{"page":44,"sentence":"It should\nbe noted that weak correlation between alcohol consumption and mental health variables indicates\nthat there are additional variables that play a greater role in affecting these mental health variables"},{"page":44,"sentence":"Based on our investigation of how cannabis use impact people’s perceived stress level, we found a\nweak trend that using cannabis will slightly increase perceived life stress and work stress"},{"page":44,"sentence":"Due to\nthe medicinal nature of cannabis, it can affect one’s nerve system in some degree"},{"page":44,"sentence":"It is diﬀicult to\nsay how strong that effect is, as we see people who used cannabis and feeling stressful or not at\nall stressful are evenly spread out on the graph"},{"page":44,"sentence":"Therefore we conclude that using cannabis can\nslightly increase the stress level in both life and work aspect, but the increase is not obvious"},{"page":44,"sentence":"42"},{"page":45,"sentence":"Overall we infer that smoking has a major impact on physical health upon our analysis against\ngeography & gender, however overweight\/obese doesn’t have as strong of a relationship to smoking"},{"page":45,"sentence":"People who stopped smoking show greater improvements in health levels"},{"page":45,"sentence":"W e can also infer that\nthe BMI is greatly improved for the people with higher physical activity , and it declines for people\nwith no physical activity"},{"page":45,"sentence":"Hence we conclude that Smoking is directly related to Physical health in\nconverse to BMI"},{"page":45,"sentence":"F rom our exploration of which demographic groups are mostly affected health barriers, we found\nthat females tend to use cannabis more and smoke more frequently by approximately 8% compared\nto males"},{"page":45,"sentence":"However, males consumed alcohol more often than females and binge drank morecom-\npared to females"},{"page":45,"sentence":"When broken down by age, we found that a lot more teenagers (12 to 17 years)\nuse cannabis than middle aged groups, then the trend shows an immediate decrease on 18 to 34\nyears group"},{"page":45,"sentence":"After that we see a increasing trend on each age group until 65 years and older reaches\nthe maximum cannabis use"},{"page":45,"sentence":"This might be because some senior people need cannabis for medical\ntreatment"},{"page":45,"sentence":"In terms of smoking frequency , both 12 to 17 years and 65 years and older smoke most\nfrequently , and other age groups smoke slightly less frequently than the former two age groups"},{"page":45,"sentence":"When looking at different regions, there are almost equal amounts of cannabis use and smoking\nfrequency across each province except territories"},{"page":45,"sentence":"This may be due to a lower population in these\nterritories"},{"page":45,"sentence":"In terms of alcohol consumptions, our analysis revealed that people in Quebec and\nBritish Columbia consume alcohol most often, while people in territories consume more alcohol on\none occasion compared to the other provinces"},{"page":45,"sentence":"When broken down to household education level, people with no secondary school education use\nmore cannabis than secondary and post-secondary educated people, but the differences between\nthese groups are not obvious"},{"page":45,"sentence":"W e found that people with post-secondary education smoke slightly\nmore often than the other two groups"},{"page":45,"sentence":"Our analysis revealed that people with post-secondary\neducation drink alcohol most frequently , with the secondary education and no-secondary education\ngroup following closely behind"},{"page":45,"sentence":"When looking at binge drinking, people with secondary and post-\nsecondary education binge drank more compared to no-secondary education group"},{"page":45,"sentence":"F rom our investigation of how physical activity affects reported health we saw that there is a\nnoticeable trend that people who reported they had better health were more likely to be above\nthe recommended physical activity guideline"},{"page":45,"sentence":"When broken down by age group we could see that\nthat trend was stronger in older populations than younger populations"},{"page":45,"sentence":"Similarly , our analysis of\nhow stress affects reported mental health showed that once again respondents who reported mental\nhealth were more likely to report they had lower stress levels"},{"page":45,"sentence":"While the trend continued to show\nill all age groups older age groups appeared to be more likely to select the 2 extremes to not at all\nstressed or extremely stressed"},{"page":45,"sentence":"Additionally , a respondent’s self perception of their weight did seem\nto relate to their mental health"},{"page":45,"sentence":"T o conclude these two questions, we have shown that there is at\nleast a relationship between these factors and how a respondent reported their general and mental\nhealth state"},{"page":45,"sentence":"Some limitations of our results are that they only utilized visual inspection and correlation statistics"},{"page":45,"sentence":"While correlation statistics are useful at identifying a relationship between variables, we cannot\nguarantee causation"},{"page":45,"sentence":"The combination of visual inspection with correlation statistics should give\nus a better idea of this relationship, we still cannot guarantee that to be the case"},{"page":45,"sentence":"T o better\ninvestigate these relationships, future testing could see the introduction of regression models, most\nlikely of the ordinal variety , as well as interaction terms"},{"page":45,"sentence":"43"},{"page":46,"sentence":"0"},{"page":46,"sentence":"5 Conclusion\nBased on the results of our analysis we saw that alcohol consumption and smoking both resulted\nin worsening some key variables related to quality of life, those being mental and physical health"},{"page":46,"sentence":"Although the strengths of these relationships varied, we can still suggest that reducing the frequency\nof drinking and smoking is likely to lead to an improved quality of life"},{"page":46,"sentence":"W e found that cannabis use showed a weak trend indicating that cannabis slightly increases per-\nceived life and work stress, potentially due to its effects on the nervous system"},{"page":46,"sentence":"While females tend to use cannabis and smoke more frequently than males, males more frequently\nconsume alcohol and binge drink"},{"page":46,"sentence":"T eenagers exhibit higher cannabis use, declining in older age\ngroups, except for seniors (65+), where we see an increase, possibly due to medical use"},{"page":46,"sentence":"Smoking\nand alcohol consumption also varied by region, with Quebec and British Columbia leading in alcohol\nconsumption frequency , while territories showed a higher frequency of binge drinking"},{"page":46,"sentence":"W e can also see that regular physical activity is related to improved self-reported physical and men-\ntal health, especially in an older population"},{"page":46,"sentence":"Therefore, encouraging regular exercise, particularly\nin an older population should lead to an improved quality of life"},{"page":46,"sentence":"T o summarize, although the exact strength of our relationships is unknown, it is likely that pro-\nmoting reductions in the frequency of alcohol and smoking, in addition to encouraging physical\nactivity , may contribute to an increase in mental and physical health, and therefore improve ones\nquality of life"},{"page":46,"sentence":"0"},{"page":46,"sentence":"6 Participant Contributions\nParticipants contributed in the following way:\n• Aaron Gelfand: in charge of answering question 1, led team meetings, developed templates\nfor submissions, and collaborated members work into final document"},{"page":46,"sentence":"• David Griﬀin: in charge of answering questions 5 and 6, provided essential code for certain\nvisualizations"},{"page":46,"sentence":"• David Li: in charge of answering question 2 and 4, provided valuable opinions during meetings\non guiding questions"},{"page":46,"sentence":"• V enkateshwaran Balu Soundararajan: in charge of answering question 3, provided insight on\nmultiple fields during team meetings, including data wrangling and question development"},{"page":46,"sentence":"0"},{"page":46,"sentence":"7 References\n1"},{"page":46,"sentence":"Canadian Community Health Survey – Annual Component (CCHS)"},{"page":46,"sentence":"Govermnent of Canada, Statistics Canada"},{"page":46,"sentence":"(2023, December 29)"},{"page":46,"sentence":"https:\/\/www23"},{"page":46,"sentence":"statcan"},{"page":46,"sentence":"gc"},{"page":46,"sentence":"ca\/imdb\/p2SV"},{"page":46,"sentence":"pl?F unction=getSurvey&Id=1531795\n2"},{"page":46,"sentence":"Canadian Community Health Survey: Public Use Microdata File"},{"page":46,"sentence":"Govermnent of Canada, Statistics Canada (2024, September 22)"},{"page":46,"sentence":"https:\/\/www150"},{"page":46,"sentence":"statcan"},{"page":46,"sentence":"gc"},{"page":46,"sentence":"ca\/n1\/en\/catalogue\/82M0013x\n3"},{"page":46,"sentence":"Haskell, W"},{"page":46,"sentence":"L"},{"page":46,"sentence":", Lee, I"},{"page":46,"sentence":"M"},{"page":46,"sentence":", Pate, R"},{"page":46,"sentence":"R"},{"page":46,"sentence":", Powell, K"},{"page":46,"sentence":"E"},{"page":46,"sentence":", Benjamin, G"},{"page":46,"sentence":"A"},{"page":46,"sentence":", & Flegal, K"},{"page":46,"sentence":"M"},{"page":46,"sentence":"(2007)"},{"page":46,"sentence":"Physical activity and public health: Updated recommendation for adults from the\n44"},{"page":47,"sentence":"American College of Sports Medicine and the American Heart Association"},{"page":47,"sentence":"Circulation,\n116(9), 1081-1093"},{"page":47,"sentence":"4"},{"page":47,"sentence":"Rehm, J"},{"page":47,"sentence":", T aylor, B"},{"page":47,"sentence":", & Room, R"},{"page":47,"sentence":"(2006)"},{"page":47,"sentence":"Global burden of disease from alcohol, illicit drugs\nand tobacco"},{"page":47,"sentence":"Drug and Alcohol Review, 25(6), 503-513"},{"page":47,"sentence":"45"},{"page":48,"sentence":"R Notebook\nIntroduction\nWildfires in Canada are a significant threat to ecosystems, human safety, and property, necessitating a\ncomprehensive understanding of the factors that influence their behavior"},{"page":48,"sentence":"Although the prevalence of forest\nfires varies year to year, there has been an observed trend over the past years indicating an overall increase\nin the occurence of forest fires"},{"page":48,"sentence":"There is also evidence of an increase in severe forest fires in recent years,\ncompared to the last few decades1"},{"page":48,"sentence":"Part of our motivation for our questions is aimed towards looking at predicting the size and spread rate of\nfires"},{"page":48,"sentence":"The 2023 and 2024 fire seasons have been some of the worst on record in terms of area burned"},{"page":48,"sentence":"Being\nable to predict wildfire sizes may help in allocations of resources to fight fires"},{"page":48,"sentence":"As instances such as Fort\nMcMurray and Jasper become more common with populated areas finding themselves in the way of these\nfires understanding spread rates of fires may be important to inform evacuation decisions and keep more\npeople safe"},{"page":48,"sentence":"The main objective of our project is to examine multiple variables related to forest fires, to determine if they\nreduce or increase the severity of forest fires"},{"page":48,"sentence":"Based on this information we can make suggestions to help\ndecrease the increasing threats of forest fires"},{"page":48,"sentence":"Objective Questions\nTo answer our main objective, we examine four main questions:\n1"},{"page":48,"sentence":"Explore the relationship between wind speed and fire spread rate"},{"page":48,"sentence":"Understanding this relationship can\ninform firefighting strategies and preparedness efforts"},{"page":48,"sentence":"2"},{"page":48,"sentence":"Examine the relationship between temperature and fire spread rate"},{"page":48,"sentence":"Analyzing this relationship will\nprovide insights into how varying temperature levels affect wildfire behavior"},{"page":48,"sentence":"3"},{"page":48,"sentence":"Examine the relationship between temperature and fire spread rate"},{"page":48,"sentence":"Analyzing this relationship will\nprovide insights into how varying temperature levels affect wildfire behavior"},{"page":48,"sentence":"4"},{"page":48,"sentence":"Examine whether fire size relates to the weather conditions when the fire starts"},{"page":48,"sentence":"Before any analyses, we want to make sure to load all appropriate libraries, as well as the data set"},{"page":48,"sentence":"library (mosaic)\n## Registered S3 method overwritten by ’mosaic’:\n## method from\n## fortify"},{"page":48,"sentence":"SpatialPolygonsDataFrame ggplot2\n##\n## The ’mosaic’ package masks several functions from core packages in order to add\n## additional features"},{"page":48,"sentence":"The original behavior of these functions should not be affected by this"},{"page":48,"sentence":"1"},{"page":49,"sentence":"##\n## Attaching package: ’mosaic’\n## The following objects are masked from ’package:dplyr’:\n##\n## count, do, tally\n## The following object is masked from ’package:Matrix’:\n##\n## mean\n## The following object is masked from ’package:ggplot2’:\n##\n## stat\n## The following objects are masked from ’package:stats’:\n##\n## binom"},{"page":49,"sentence":"test, cor, cor"},{"page":49,"sentence":"test, cov, fivenum, IQR, median, prop"},{"page":49,"sentence":"test,\n## quantile, sd, t"},{"page":49,"sentence":"test, var\n## The following objects are masked from ’package:base’:\n##\n## max, mean, min, prod, range, sample, sum\nlibrary (dplyr)\nlibrary (ggplot2)\nlibrary (e1071)\nlibrary (leaflet)\nfire_data<- read"},{"page":49,"sentence":"csv (\"https:\/\/raw"},{"page":49,"sentence":"githubusercontent"},{"page":49,"sentence":"com\/aarongelf\/data602-data\/refs\/heads\/main\/fp-historical-wildfire-data-2006-2023"},{"page":49,"sentence":"csv\",header=T,na"},{"page":49,"sentence":"strings= c(\"\",\"NA\"))\n#We have also include the dataset in our submission, in case there is an error accessing the URL"},{"page":49,"sentence":"Question 1 - What is the Relationship Between Wind Speed and Fire Spread Rate\nTo examine the relationship between wind speed and fire spread rate, we can perform a few visual functions,\nto get an idea of the dataset itself"},{"page":49,"sentence":"It is also important to note that data dictionary provided should be used\nto help interpret the columns based on their names, as well as what the values represent"},{"page":49,"sentence":"The data dic-\ntionary can be found at https:\/\/open"},{"page":49,"sentence":"alberta"},{"page":49,"sentence":"ca\/dataset\/a221e7a0-4f46-4be7-9c5a-e29de9a3447e\/resource\/\n1b635b8b-a937-4be4-857e-8aeef77365d2\/download\/fp-historical-wildfire-data-dictionary-2006-2023"},{"page":49,"sentence":"pdf"},{"page":49,"sentence":"head (fire_data)\n## fire_year fire_number fire_name current_size size_class\n## 1 2006 PWF001 <NA> 0"},{"page":49,"sentence":"10 A\n## 2 2006 EWF002 <NA> 0"},{"page":49,"sentence":"20 B\n## 3 2006 EWF001 <NA> 0"},{"page":49,"sentence":"50 B\n## 4 2006 EWF003 <NA> 0"},{"page":49,"sentence":"01 A\n## 5 2006 PWF002 <NA> 0"},{"page":49,"sentence":"10 A\n## 6 2006 CWF001 <NA> 0"},{"page":49,"sentence":"20 B\n## fire_location_latitude fire_location_longitude fire_origin\n2"},{"page":50,"sentence":"## 1 56"},{"page":50,"sentence":"24996 -117"},{"page":50,"sentence":"1820 Private Land\n## 2 53"},{"page":50,"sentence":"60637 -115"},{"page":50,"sentence":"9157 Provincial Land\n## 3 53"},{"page":50,"sentence":"61093 -115"},{"page":50,"sentence":"5943 Provincial Land\n## 4 53"},{"page":50,"sentence":"60887 -115"},{"page":50,"sentence":"6095 Provincial Land\n## 5 56"},{"page":50,"sentence":"24996 -117"},{"page":50,"sentence":"0502 Provincial Land\n## 6 51"},{"page":50,"sentence":"15293 -115"},{"page":50,"sentence":"0346 Indian Reservation\n## general_cause_desc industry_identifier_desc responsible_group_desc\n## 1 Resident <NA> Resident\n## 2 Incendiary <NA> Others (explain in remarks)\n## 3 Incendiary <NA> Others (explain in remarks)\n## 4 Incendiary <NA> Others (explain in remarks)\n## 5 Other Industry Waste Disposal Employees\n## 6 Resident <NA> Resident\n## activity_class true_cause fire_start_date det_agent_type det_agent\n## 1 Grass Permit Related 2006-04-02 12:00 UNP 310\n## 2 Lighting Fires Arson Suspected 2006-04-03 12:10 UNP 310\n## 3 Lighting Fires Arson Suspected 2006-04-03 12:15 UNP 310\n## 4 Lighting Fires Arson Suspected 2006-04-03 12:10 UNP PUB\n## 5 Refuse Permit Related 2006-04-03 17:00 UNP LFS\n## 6 Unclassified Unsafe Fire 2006-04-02 14:25 UNP 310\n## discovered_date discovered_size reported_date dispatched_resource\n## 1 <NA> NA 2006-04-02 20:46 FPD Staff\n## 2 <NA> NA 2006-04-03 12:27 FPD Staff\n## 3 <NA> NA 2006-04-03 12:36 FPD Staff\n## 4 <NA> NA 2006-04-03 13:23 FPD Staff\n## 5 2006-04-03 19:11 NA 2006-04-03 19:12 FPD Staff\n## 6 2006-04-02 14:27 NA 2006-04-02 14:30 FPD Staff\n## dispatch_date start_for_fire_date assessment_resource assessment_datetime\n## 1 2006-04-02 21:10 2006-04-02 21:20 IA Forces 2006-04-02 22:00\n## 2 2006-04-03 12:33 2006-04-03 12:35 IA Forces 2006-04-03 13:20\n## 3 2006-04-03 12:36 2006-04-03 12:42 IA Forces 2006-04-03 13:23\n## 4 2006-04-03 13:50 2006-04-03 13:50 IA Forces 2006-04-03 14:08\n## 5 2006-04-03 19:19 2006-04-03 19:22 Other 2006-04-03 19:57\n## 6 2006-04-02 14:40 2006-04-02 14:45 IA Forces 2006-04-02 16:00\n## assessment_hectares fire_spread_rate fire_type fire_position_on_slope\n## 1 0"},{"page":50,"sentence":"01 0"},{"page":50,"sentence":"0 Surface Flat\n## 2 0"},{"page":50,"sentence":"20 0"},{"page":50,"sentence":"0 Surface Lower 1\/3\n## 3 0"},{"page":50,"sentence":"50 0"},{"page":50,"sentence":"0 Surface Bottom\n## 4 0"},{"page":50,"sentence":"01 0"},{"page":50,"sentence":"0 Surface Flat\n## 5 0"},{"page":50,"sentence":"10 0"},{"page":50,"sentence":"1 Surface Flat\n## 6 0"},{"page":50,"sentence":"20 0"},{"page":50,"sentence":"0 Surface Flat\n## weather_conditions_over_fire temperature relative_humidity wind_direction\n## 1 Clear 18 10 SW\n## 2 Clear 12 22 SW\n## 3 Clear 12 22 SW\n## 4 Clear 12 22 SW\n## 5 Clear 6 37 SW\n## 6 Clear 11 32 S\n## wind_speed fuel_type initial_action_by ia_arrival_at_fire_date ia_access\n## 1 2 O1a Land Owner <NA> <NA>\n## 2 10 O1a Fire Department <NA> <NA>\n## 3 10 O1a Fire Department <NA> <NA>\n## 4 10 O1b Industry <NA> <NA>\n## 5 2 <NA> Fire Department <NA> <NA>\n3"},{"page":51,"sentence":"## 6 20 O1b Fire Department <NA> <NA>\n## fire_fighting_start_date fire_fighting_start_size bucketing_on_fire\n## 1 <NA> NA <NA>\n## 2 <NA> NA <NA>\n## 3 <NA> NA <NA>\n## 4 <NA> NA <NA>\n## 5 <NA> NA <NA>\n## 6 <NA> NA <NA>\n## distance_from_water_source first_bucket_drop_date bh_fs_date\n## 1 NA <NA> 2006-04-02 22:00\n## 2 NA <NA> 2006-04-03 13:20\n## 3 NA <NA> 2006-04-03 13:23\n## 4 NA <NA> 2006-04-03 14:08\n## 5 NA <NA> 2006-04-03 19:57\n## 6 NA <NA> 2006-04-02 16:00\n## bh_hectares uc_fs_date uc_hectares to_fs_date to_hectares\n## 1 0"},{"page":51,"sentence":"01 2006-04-02 22:00 0"},{"page":51,"sentence":"01 <NA> NA\n## 2 0"},{"page":51,"sentence":"20 2006-04-03 13:20 0"},{"page":51,"sentence":"20 <NA> NA\n## 3 0"},{"page":51,"sentence":"50 2006-04-03 13:23 0"},{"page":51,"sentence":"50 <NA> NA\n## 4 0"},{"page":51,"sentence":"01 2006-04-03 14:08 0"},{"page":51,"sentence":"01 <NA> NA\n## 5 0"},{"page":51,"sentence":"10 2006-04-03 20:19 0"},{"page":51,"sentence":"10 2006-04-03 20:20 0"},{"page":51,"sentence":"1\n## 6 0"},{"page":51,"sentence":"20 2006-04-02 16:00 0"},{"page":51,"sentence":"20 <NA> NA\n## ex_fs_date ex_hectares\n## 1 2006-04-03 10:20 0"},{"page":51,"sentence":"10\n## 2 2006-04-03 14:00 0"},{"page":51,"sentence":"20\n## 3 2006-04-03 15:00 0"},{"page":51,"sentence":"50\n## 4 2006-04-03 15:05 0"},{"page":51,"sentence":"01\n## 5 2006-04-05 10:18 0"},{"page":51,"sentence":"10\n## 6 2006-04-03 18:00 0"},{"page":51,"sentence":"20\ncolnames (fire_data)\n## [1] \"fire_year\" \"fire_number\"\n## [3] \"fire_name\" \"current_size\"\n## [5] \"size_class\" \"fire_location_latitude\"\n## [7] \"fire_location_longitude\" \"fire_origin\"\n## [9] \"general_cause_desc\" \"industry_identifier_desc\"\n## [11] \"responsible_group_desc\" \"activity_class\"\n## [13] \"true_cause\" \"fire_start_date\"\n## [15] \"det_agent_type\" \"det_agent\"\n## [17] \"discovered_date\" \"discovered_size\"\n## [19] \"reported_date\" \"dispatched_resource\"\n## [21] \"dispatch_date\" \"start_for_fire_date\"\n## [23] \"assessment_resource\" \"assessment_datetime\"\n## [25] \"assessment_hectares\" \"fire_spread_rate\"\n## [27] \"fire_type\" \"fire_position_on_slope\"\n## [29] \"weather_conditions_over_fire\" \"temperature\"\n## [31] \"relative_humidity\" \"wind_direction\"\n## [33] \"wind_speed\" \"fuel_type\"\n## [35] \"initial_action_by\" \"ia_arrival_at_fire_date\"\n## [37] \"ia_access\" \"fire_fighting_start_date\"\n## [39] \"fire_fighting_start_size\" \"bucketing_on_fire\"\n## [41] \"distance_from_water_source\" \"first_bucket_drop_date\"\n## [43] \"bh_fs_date\" \"bh_hectares\"\n4"},{"page":52,"sentence":"## [45] \"uc_fs_date\" \"uc_hectares\"\n## [47] \"to_fs_date\" \"to_hectares\"\n## [49] \"ex_fs_date\" \"ex_hectares\"\nBased on initial inspection, we are only interested in a few columns, therefore we will create a new data\nframe, focusing on variables that will help examine the relationship between wind speed and fire spread rate"},{"page":52,"sentence":"fire_data_1=fire_data %>%\nselect (wind_speed,fire_spread_rate)\nsum(is"},{"page":52,"sentence":"na (fire_data_1))\n## [1] 5575\nsum(sapply (fire_data_1[ c(\"fire_spread_rate\",\"wind_speed\")],is"},{"page":52,"sentence":"na))\n## [1] 5575\n#Remove rows with NA values"},{"page":52,"sentence":"We won 't include fuel_type for this part, as we are not initially concerned about it"},{"page":52,"sentence":"fire_clean= na"},{"page":52,"sentence":"omit (fire_data_1[, c(\"wind_speed\",\"fire_spread_rate\")])\nsum(is"},{"page":52,"sentence":"na (fire_clean))\n## [1] 0\nsummary (fire_clean)\n## wind_speed fire_spread_rate\n## Min"},{"page":52,"sentence":": 0"},{"page":52,"sentence":"000 Min"},{"page":52,"sentence":": -1"},{"page":52,"sentence":"0000\n## 1st Qu"},{"page":52,"sentence":": 3"},{"page":52,"sentence":"000 1st Qu"},{"page":52,"sentence":": 0"},{"page":52,"sentence":"0000\n## Median : 6"},{"page":52,"sentence":"000 Median : 0"},{"page":52,"sentence":"0000\n## Mean : 8"},{"page":52,"sentence":"813 Mean : 0"},{"page":52,"sentence":"8962\n## 3rd Qu"},{"page":52,"sentence":":12"},{"page":52,"sentence":"000 3rd Qu"},{"page":52,"sentence":": 1"},{"page":52,"sentence":"0000\n## Max"},{"page":52,"sentence":":90"},{"page":52,"sentence":"000 Max"},{"page":52,"sentence":":100"},{"page":52,"sentence":"0000\nBased on our summary statistics, we can see that the minimum value for fire_spread_rate is -1"},{"page":52,"sentence":"This seems\npeculiar, and warrants a bit of further investigation, therefore we will go back to the original data set and\ninspect any rows where fire_spread_rate is -1"},{"page":52,"sentence":"negative_fire_spread_data <- fire_data[ !is"},{"page":52,"sentence":"na (fire_data $fire_spread_rate) &fire_data $fire_spread_rate <0, ]\nhead (negative_fire_spread_data)\n## fire_year fire_number fire_name current_size size_class\n## 12962 2014 RWF022 <NA> 0"},{"page":52,"sentence":"20 B\n## 13717 2015 HWF100 <NA> 0"},{"page":52,"sentence":"02 A\n## 18213 2017 MWF091 <NA> 0"},{"page":52,"sentence":"10 A\n## 20474 2020 CWF038 <NA> 0"},{"page":52,"sentence":"01 A\n## 20778 2019 SWF063 <NA> 0"},{"page":52,"sentence":"01 A\n## 21355 2019 SWF092 <NA> 0"},{"page":52,"sentence":"04 A\n## fire_location_latitude fire_location_longitude fire_origin\n## 12962 52"},{"page":52,"sentence":"37868 -115"},{"page":52,"sentence":"6254 Provincial Land\n## 13717 58"},{"page":52,"sentence":"48312 -114"},{"page":52,"sentence":"4696 Indian Reservation\n5"},{"page":53,"sentence":"## 18213 56"},{"page":53,"sentence":"83563 -111"},{"page":53,"sentence":"7322 Provincial Land\n## 20474 51"},{"page":53,"sentence":"10135 -115"},{"page":53,"sentence":"3091 Provincial Land\n## 20778 55"},{"page":53,"sentence":"94107 -113"},{"page":53,"sentence":"7807 Indian Reservation\n## 21355 56"},{"page":53,"sentence":"79307 -114"},{"page":53,"sentence":"7125 Provincial Land\n## general_cause_desc industry_identifier_desc responsible_group_desc\n## 12962 Undetermined <NA> <NA>\n## 13717 Incendiary <NA> <NA>\n## 18213 Recreation <NA> Others (explain in remarks)\n## 20474 Recreation <NA> Campers\n## 20778 Incendiary <NA> <NA>\n## 21355 Lightning <NA> <NA>\n## activity_class true_cause fire_start_date det_agent_type\n## 12962 <NA> <NA> 2014-05-24 4:00 LKT\n## 13717 Unclassified <NA> 2015-05-18 10:48 LKT\n## 18213 OHV Operation Burning Substance 2017-09-16 16:38 AIR\n## 20474 Cooking and Warming Unsafe Fire 2020-06-27 18:00 UNP\n## 20778 Arson <NA> 2019-05-22 7:00 UNP\n## 21355 <NA> <NA> 2019-06-02 15:40 UNP\n## det_agent discovered_date discovered_size reported_date\n## 12962 RA 2014-05-24 7:28 NA 2014-05-24 7:32\n## 13717 FG 2015-05-18 10:48 NA 2015-05-18 10:50\n## 18213 HAC 2017-09-16 16:45 NA 2017-09-16 16:45\n## 20474 310 <NA> NA 2020-06-28 10:09\n## 20778 LFS <NA> NA 2019-05-22 7:14\n## 21355 PUB 2019-06-02 15:50 NA 2019-06-02 15:50\n## dispatched_resource dispatch_date start_for_fire_date\n## 12962 HAC 2014-05-24 8:14 2014-05-24 8:29\n## 13717 FPD Staff 2015-05-18 11:00 2015-05-18 11:00\n## 18213 HAC 2017-09-16 16:45 2017-09-16 16:45\n## 20474 HAC 2020-06-28 14:30 2020-06-28 15:15\n## 20778 HAC 2019-05-22 9:27 2019-05-22 9:49\n## 21355 HAC 2019-06-02 15:59 2019-06-02 16:00\n## assessment_resource assessment_datetime assessment_hectares\n## 12962 IA Forces 2014-05-24 10:35 0"},{"page":53,"sentence":"20\n## 13717 Other 2015-05-18 11:16 0"},{"page":53,"sentence":"02\n## 18213 IA Forces 2017-09-16 16:45 0"},{"page":53,"sentence":"10\n## 20474 IA Forces 2020-06-28 18:00 0"},{"page":53,"sentence":"01\n## 20778 IA Forces 2019-05-22 10:06 0"},{"page":53,"sentence":"01\n## 21355 IA Forces 2019-06-02 16:05 0"},{"page":53,"sentence":"04\n## fire_spread_rate fire_type fire_position_on_slope\n## 12962 -1 Ground Flat\n## 13717 -1 Surface Flat\n## 18213 -1 Surface Bottom\n## 20474 -1 Surface Bottom\n## 20778 -1 Ground Flat\n## 21355 -1 Surface Flat\n## weather_conditions_over_fire temperature relative_humidity wind_direction\n## 12962 Rainshowers 10"},{"page":53,"sentence":"5 73 N\n## 13717 Clear 20"},{"page":53,"sentence":"0 22 SE\n## 18213 Clear 15"},{"page":53,"sentence":"6 32 S\n## 20474 Cloudy 11"},{"page":53,"sentence":"0 75 W\n## 20778 Clear 17"},{"page":53,"sentence":"0 30 E\n## 21355 Cloudy 18"},{"page":53,"sentence":"0 41 W\n## wind_speed fuel_type initial_action_by ia_arrival_at_fire_date\n6"},{"page":54,"sentence":"## 12962 1 S1 Industry <NA>\n## 13717 10 D1 FPD Staff 2015-05-18 11:14\n## 18213 20 O1b HAC 2017-09-16 16:51\n## 20474 2 <NA> HAC 2020-06-28 17:53\n## 20778 5 M2 HAC 2019-05-22 10:06\n## 21355 15 C2 HAC 2019-06-02 16:05\n## ia_access fire_fighting_start_date fire_fighting_start_size\n## 12962 <NA> <NA> NA\n## 13717 <NA> 2015-05-18 11:16 0"},{"page":54,"sentence":"02\n## 18213 Conventional R\/W 2017-09-16 16:57 0"},{"page":54,"sentence":"10\n## 20474 Ground 2020-06-28 18:00 0"},{"page":54,"sentence":"01\n## 20778 Ground 2019-05-22 10:13 0"},{"page":54,"sentence":"01\n## 21355 Conventional R\/W 2019-06-02 16:10 1"},{"page":54,"sentence":"00\n## bucketing_on_fire distance_from_water_source first_bucket_drop_date\n## 12962 <NA> NA <NA>\n## 13717 Y 0"},{"page":54,"sentence":"2 2015-05-18 11:16\n## 18213 N NA <NA>\n## 20474 N NA <NA>\n## 20778 N NA <NA>\n## 21355 Y 0"},{"page":54,"sentence":"1 2019-06-02 16:25\n## bh_fs_date bh_hectares uc_fs_date uc_hectares to_fs_date\n## 12962 2014-05-24 10:35 0"},{"page":54,"sentence":"20 2014-05-24 11:40 0"},{"page":54,"sentence":"20 <NA>\n## 13717 2015-05-18 11:16 0"},{"page":54,"sentence":"02 2015-05-18 11:50 0"},{"page":54,"sentence":"02 <NA>\n## 18213 2017-09-16 17:09 0"},{"page":54,"sentence":"10 2017-09-16 17:55 0"},{"page":54,"sentence":"20 <NA>\n## 20474 2020-06-28 18:00 0"},{"page":54,"sentence":"01 2020-06-28 18:00 0"},{"page":54,"sentence":"01 <NA>\n## 20778 2019-05-22 10:06 0"},{"page":54,"sentence":"01 2019-05-22 10:06 0"},{"page":54,"sentence":"01 <NA>\n## 21355 2019-06-02 16:05 0"},{"page":54,"sentence":"04 2019-06-02 19:21 0"},{"page":54,"sentence":"04 <NA>\n## to_hectares ex_fs_date ex_hectares\n## 12962 NA 2014-05-24 14:31 0"},{"page":54,"sentence":"20\n## 13717 NA 2015-05-18 13:00 0"},{"page":54,"sentence":"02\n## 18213 NA 2017-09-17 10:50 0"},{"page":54,"sentence":"10\n## 20474 NA 2020-06-28 19:56 0"},{"page":54,"sentence":"01\n## 20778 NA 2019-05-22 10:25 0"},{"page":54,"sentence":"01\n## 21355 NA 2019-06-02 19:50 0"},{"page":54,"sentence":"04\nUpon visual inspection there does not seem to be any pattern related to the fire_spread_rate being -1"},{"page":54,"sentence":"Based on this, and the definition provided in the data dictionary, with fire_spread_rate being ‘The rate of\nspread of the wildfire at the time of initial assessment, capture in metres per minute’, we felt it was safe to\nremove these rows, as this is most likely an error with these entries"},{"page":54,"sentence":"For the fire to have a negative spread\nrate, would mean that the fire is retreating instead of spreading, and given that this rate of spread is a\nmeasure of how fast the fire moves from a point of origin, this seems counter intuitive to how forest fires\nwork"},{"page":54,"sentence":"Given more time, we could reach out to the providers of the data, to try to clarify this area, but for\nthe time being, and since there are only 6 data points, we will remove them"},{"page":54,"sentence":"After we remove the rows with a fire spread rate of -1, we can plot the data for a preliminary visualization"},{"page":54,"sentence":"fire_clean_no_neg=fire_clean[fire_clean[ 'fire_spread_rate ']>=0,]\nggplot (fire_clean_no_neg, aes(x = fire_spread_rate)) +\ngeom_histogram (color= 'red',fill= 'red')\n## ‘stat_bin()‘ using ‘bins = 30‘"},{"page":54,"sentence":"Pick better value with ‘binwidth‘"},{"page":54,"sentence":"7"},{"page":55,"sentence":"05000100001500020000\n0 25 50 75 100\nfire_spread_ratecountBased on our histogram, we can see that the data for fire_spread_rate is heavily skewed"},{"page":55,"sentence":"fire_clean_no_neg=fire_clean[fire_clean[ 'fire_spread_rate ']>=0,]\nggplot (fire_clean_no_neg, aes(x = wind_speed, y = fire_spread_rate)) +\ngeom_point (color= 'red',alpha = 0"},{"page":55,"sentence":"5) +\nlabs (title = \"Relationship between Fire Spread Rate and Wind Speed\",\nx = \"Wind Speed (kilometers per hour)\", # Replace with actual units if known\ny = \"Fire Spread Rate (metres per minute)\")\n8"},{"page":56,"sentence":"0255075100\n0 25 50 75\nWind Speed (kilometers per hour)Fire Spread Rate (metres per minute)Relationship between Fire Spread Rate and Wind SpeedInitial inspection of the scatterplot is difficult to arrive to any meaningful conclusion without further\nanalysis"},{"page":56,"sentence":"Additionally, we will look at the correlation coefficient between fire_spread_rate and wind_speed"},{"page":56,"sentence":"fire_corr= cor(fire_clean_no_neg,use=\"pairwise"},{"page":56,"sentence":"complete"},{"page":56,"sentence":"obs\")\nprint (fire_corr)\n## wind_speed fire_spread_rate\n## wind_speed 1"},{"page":56,"sentence":"0000000 0"},{"page":56,"sentence":"1346716\n## fire_spread_rate 0"},{"page":56,"sentence":"1346716 1"},{"page":56,"sentence":"0000000\nBased on our output we can see a very weak positive relationship between fire spread rate and wind speed"},{"page":56,"sentence":"fire_no_neg_model= lm(fire_spread_rate ~wind_speed, data = fire_clean_no_neg)\nsummary (fire_no_neg_model)\n##\n## Call:\n## lm(formula = fire_spread_rate ~ wind_speed, data = fire_clean_no_neg)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -4"},{"page":56,"sentence":"263 -0"},{"page":56,"sentence":"863 -0"},{"page":56,"sentence":"597 0"},{"page":56,"sentence":"054 99"},{"page":56,"sentence":"261\n##\n9"},{"page":57,"sentence":"## Coefficients:\n## Estimate Std"},{"page":57,"sentence":"Error t value Pr(>|t|)\n## (Intercept) 0"},{"page":57,"sentence":"531266 0"},{"page":57,"sentence":"024815 21"},{"page":57,"sentence":"41 <2e-16 ***\n## wind_speed 0"},{"page":57,"sentence":"041468 0"},{"page":57,"sentence":"002035 20"},{"page":57,"sentence":"38 <2e-16 ***\n## ---\n## Signif"},{"page":57,"sentence":"codes: 0 ’***’ 0"},{"page":57,"sentence":"001 ’**’ 0"},{"page":57,"sentence":"01 ’*’ 0"},{"page":57,"sentence":"05 ’"},{"page":57,"sentence":"’ 0"},{"page":57,"sentence":"1 ’ ’ 1\n##\n## Residual standard error: 2"},{"page":57,"sentence":"571 on 22478 degrees of freedom\n## Multiple R-squared: 0"},{"page":57,"sentence":"01814, Adjusted R-squared: 0"},{"page":57,"sentence":"01809\n## F-statistic: 415"},{"page":57,"sentence":"2 on 1 and 22478 DF, p-value: < 2"},{"page":57,"sentence":"2e-16\nIntercept: The expected value of fire_spread_rate when wind_speed is zero is 0"},{"page":57,"sentence":"53130"},{"page":57,"sentence":"As our p-value is\n<0"},{"page":57,"sentence":"05, this indicates that we can reject the H0thatβ0=0"},{"page":57,"sentence":"Therefore, we accept the H1thatβ0̸= 0and\nconclude that the intercept is statistically significant"},{"page":57,"sentence":"Slope: For each additional kilometer per hour in wind_speed, the fire_spread_rate is expected to increase\nby approximately 0"},{"page":57,"sentence":"04150 meters per minute"},{"page":57,"sentence":"As our p-value is <0"},{"page":57,"sentence":"05, this indicates that we can reject the\nH0thatβ1=0"},{"page":57,"sentence":"Therefore, we accept the H1thatβ1̸= 0and conclude that there is a significant relationship\nbetween wind_speed and fire_spread_rate"},{"page":57,"sentence":"Based on our output table, the equation for our model can be written out as, fire_spread_rate = 0"},{"page":57,"sentence":"53130+\n(0"},{"page":57,"sentence":"04150∗wind_speed )\nOur R-squared value indicates that approximately 1"},{"page":57,"sentence":"81% of the variance in fire_spread_rate is explained by\nwind_speed"},{"page":57,"sentence":"This low value suggests that there are other factors affecting fire spread that are not included\nin our model"},{"page":57,"sentence":"We can plot this model using the following code:\nggplot (fire_clean_no_neg, aes(x = wind_speed, y = fire_spread_rate)) +\ngeom_point (alpha = 0"},{"page":57,"sentence":"5,color= 'red')+\nstat_smooth (method = \"lm\", formula = y ~x)+# Add regression line\nlabs (title = \"Relationship between Fire Spread Rate and Wind Speed\",\nx = \"Wind Speed (km\/h)\",\ny = \"Fire Spread Rate (m\/min)\") +\ntheme_minimal ()\n10"},{"page":58,"sentence":"0255075100\n0 25 50 75\nWind Speed (km\/h)Fire Spread Rate (m\/min)Relationship between Fire Spread Rate and Wind SpeedFrom our output, we can see a weak relationship between wind_speed and fire_spread_rate"},{"page":58,"sentence":"as suggested\nby our correlation statistics"},{"page":58,"sentence":"To determine whether the assumptions of independency and normality are met, we can plot the residual and\nQQ plots"},{"page":58,"sentence":"#Residual plot\nplot (fire_no_neg_model, which =1)\n11"},{"page":59,"sentence":"1 2 3 4020406080100\nFitted valuesResiduals\nlm(fire_spread_rate ~ wind_speed)Residuals vs Fitted\n3130\n1864910693#QQ-plot\nplot (fire_no_neg_model, which =2)\n12"},{"page":60,"sentence":"−4 −2 0 2 4010203040\nTheoretical QuantilesStandardized residuals\nlm(fire_spread_rate ~ wind_speed)Q−Q Residuals\n3130\n1864910693For our residual plot we see a large cluster of points on the upper left side of the figure, as well as some\noutliers"},{"page":60,"sentence":"For our QQ plot, we see that the points stray off far from the line towards the right side of the\nfigure"},{"page":60,"sentence":"Based on these observation, we can suggest that both assumptions of independency and normality\nof residuals fails"},{"page":60,"sentence":"By failing both of these assumptions, it suggests issues in our model that can lead to unreliable results"},{"page":60,"sentence":"Some potential solutions are to transform the data, or to include interaction terms"},{"page":60,"sentence":"Question 2 - What is the Relationship Between Temperature and Fire Spread Rate\nIn this project, we explored the relationship between temperature and fire spread rate in Canada"},{"page":60,"sentence":"We visu-\nalized the distribution of fire spread rate and temperature, calculated the correlation coefficient, performed\na linear regression analysis, and conducted a hypothesis test to determine whether the observed relationship\nis statistically significant"},{"page":60,"sentence":"Additionally, we created a geospatial representation of fire spread rate along with\ntemperature to better understand the spatial patterns and relationships between these variables"},{"page":60,"sentence":"The results of the hypothesis test indicate whether there is a statistically significant relationship between\ntemperature and fire spread rate"},{"page":60,"sentence":"data=fire_data\n# Filter out rows where Fire Spread Rate is negative\ndata<- data %>%\nfilter (fire_spread_rate >=0)\n# Create a scatter plot\nggplot (data, aes(x = temperature, y = fire_spread_rate)) +\ngeom_point (color = \"red\", size = 2) +\n13"},{"page":61,"sentence":"#geom_smooth(method = \"lm\", se = FALSE, color = \"red\")\nlabs (title = \"Relationship between Fire Spread Rate and Temperature\",\nx = \"Fire Spread Rate\",\ny = \"Temperature\") +\ntheme_classic ()\n## Warning: Removed 80 rows containing missing values or values outside the scale range\n## (‘geom_point()‘)"},{"page":61,"sentence":"0255075100\n−40 −20 0 20 40\nFire Spread RateTemperatureRelationship between Fire Spread Rate and Temperature\nEDA\n# Check the structure of the data\nstr(data)\n## ’data"},{"page":61,"sentence":"frame’: 22562 obs"},{"page":61,"sentence":"of 50 variables:\n## $ fire_year : int 2006 2006 2006 2006 2006 2006 2006 2006 2006 2006"},{"page":61,"sentence":"## $ fire_number : chr \"PWF001\" \"EWF002\" \"EWF001\" \"EWF003\""},{"page":61,"sentence":"## $ fire_name : chr NA NA NA NA"},{"page":61,"sentence":"## $ current_size : num 0"},{"page":61,"sentence":"1 0"},{"page":61,"sentence":"2 0"},{"page":61,"sentence":"5 0"},{"page":61,"sentence":"01 0"},{"page":61,"sentence":"1 0"},{"page":61,"sentence":"2 0"},{"page":61,"sentence":"01 0"},{"page":61,"sentence":"01 0"},{"page":61,"sentence":"2 0"},{"page":61,"sentence":"6"},{"page":61,"sentence":"## $ size_class : chr \"A\" \"B\" \"B\" \"A\""},{"page":61,"sentence":"## $ fire_location_latitude : num 56"},{"page":61,"sentence":"2 53"},{"page":61,"sentence":"6 53"},{"page":61,"sentence":"6 53"},{"page":61,"sentence":"6 56"},{"page":61,"sentence":"2"},{"page":61,"sentence":"14"},{"page":62,"sentence":"## $ fire_location_longitude : num -117 -116 -116 -116 -117"},{"page":62,"sentence":"## $ fire_origin : chr \"Private Land\" \"Provincial Land\" \"Provincial Land\" \"Provincial Land\""},{"page":62,"sentence":"## $ general_cause_desc : chr \"Resident\" \"Incendiary\" \"Incendiary\" \"Incendiary\""},{"page":62,"sentence":"## $ industry_identifier_desc : chr NA NA NA NA"},{"page":62,"sentence":"## $ responsible_group_desc : chr \"Resident\" \"Others (explain in remarks)\" \"Others (explain in remarks)\" \"Others (explain in remarks)\""},{"page":62,"sentence":"## $ activity_class : chr \"Grass\" \"Lighting Fires\" \"Lighting Fires\" \"Lighting Fires\""},{"page":62,"sentence":"## $ true_cause : chr \"Permit Related\" \"Arson Suspected\" \"Arson Suspected\" \"Arson Suspected\""},{"page":62,"sentence":"## $ fire_start_date : chr \"2006-04-02 12:00\" \"2006-04-03 12:10\" \"2006-04-03 12:15\" \"2006-04-03 12:10\""},{"page":62,"sentence":"## $ det_agent_type : chr \"UNP\" \"UNP\" \"UNP\" \"UNP\""},{"page":62,"sentence":"## $ det_agent : chr \"310\" \"310\" \"310\" \"PUB\""},{"page":62,"sentence":"## $ discovered_date : chr NA NA NA NA"},{"page":62,"sentence":"## $ discovered_size : num NA NA NA NA NA NA NA NA NA NA"},{"page":62,"sentence":"## $ reported_date : chr \"2006-04-02 20:46\" \"2006-04-03 12:27\" \"2006-04-03 12:36\" \"2006-04-03 13:23\""},{"page":62,"sentence":"## $ dispatched_resource : chr \"FPD Staff\" \"FPD Staff\" \"FPD Staff\" \"FPD Staff\""},{"page":62,"sentence":"## $ dispatch_date : chr \"2006-04-02 21:10\" \"2006-04-03 12:33\" \"2006-04-03 12:36\" \"2006-04-03 13:50\""},{"page":62,"sentence":"## $ start_for_fire_date : chr \"2006-04-02 21:20\" \"2006-04-03 12:35\" \"2006-04-03 12:42\" \"2006-04-03 13:50\""},{"page":62,"sentence":"## $ assessment_resource : chr \"IA Forces\" \"IA Forces\" \"IA Forces\" \"IA Forces\""},{"page":62,"sentence":"## $ assessment_datetime : chr \"2006-04-02 22:00\" \"2006-04-03 13:20\" \"2006-04-03 13:23\" \"2006-04-03 14:08\""},{"page":62,"sentence":"## $ assessment_hectares : num 0"},{"page":62,"sentence":"01 0"},{"page":62,"sentence":"2 0"},{"page":62,"sentence":"5 0"},{"page":62,"sentence":"01 0"},{"page":62,"sentence":"1 0"},{"page":62,"sentence":"2 0"},{"page":62,"sentence":"01 0"},{"page":62,"sentence":"01 0"},{"page":62,"sentence":"2 0"},{"page":62,"sentence":"6"},{"page":62,"sentence":"## $ fire_spread_rate : num 0 0 0 0 0"},{"page":62,"sentence":"1 0 0 0 0 0"},{"page":62,"sentence":"## $ fire_type : chr \"Surface\" \"Surface\" \"Surface\" \"Surface\""},{"page":62,"sentence":"## $ fire_position_on_slope : chr \"Flat\" \"Lower 1\/3\" \"Bottom\" \"Flat\""},{"page":62,"sentence":"## $ weather_conditions_over_fire: chr \"Clear\" \"Clear\" \"Clear\" \"Clear\""},{"page":62,"sentence":"## $ temperature : num 18 12 12 12 6 11 11 16 11 11"},{"page":62,"sentence":"## $ relative_humidity : int 10 22 22 22 37 32 25 17 35 44"},{"page":62,"sentence":"## $ wind_direction : chr \"SW\" \"SW\" \"SW\" \"SW\""},{"page":62,"sentence":"## $ wind_speed : int 2 10 10 10 2 20 10 2 7 4"},{"page":62,"sentence":"## $ fuel_type : chr \"O1a\" \"O1a\" \"O1a\" \"O1b\""},{"page":62,"sentence":"## $ initial_action_by : chr \"Land Owner\" \"Fire Department\" \"Fire Department\" \"Industry\""},{"page":62,"sentence":"## $ ia_arrival_at_fire_date : chr NA NA NA NA"},{"page":62,"sentence":"## $ ia_access : chr NA NA NA NA"},{"page":62,"sentence":"## $ fire_fighting_start_date : chr NA NA NA NA"},{"page":62,"sentence":"## $ fire_fighting_start_size : num NA NA NA NA NA NA NA 0"},{"page":62,"sentence":"01 NA 0"},{"page":62,"sentence":"6"},{"page":62,"sentence":"## $ bucketing_on_fire : chr NA NA NA NA"},{"page":62,"sentence":"## $ distance_from_water_source : num NA NA NA NA NA NA NA NA NA NA"},{"page":62,"sentence":"## $ first_bucket_drop_date : chr NA NA NA NA"},{"page":62,"sentence":"## $ bh_fs_date : chr \"2006-04-02 22:00\" \"2006-04-03 13:20\" \"2006-04-03 13:23\" \"2006-04-03 14:08\""},{"page":62,"sentence":"## $ bh_hectares : num 0"},{"page":62,"sentence":"01 0"},{"page":62,"sentence":"2 0"},{"page":62,"sentence":"5 0"},{"page":62,"sentence":"01 0"},{"page":62,"sentence":"1 0"},{"page":62,"sentence":"2 0"},{"page":62,"sentence":"01 0"},{"page":62,"sentence":"01 0"},{"page":62,"sentence":"2 0"},{"page":62,"sentence":"6"},{"page":62,"sentence":"## $ uc_fs_date : chr \"2006-04-02 22:00\" \"2006-04-03 13:20\" \"2006-04-03 13:23\" \"2006-04-03 14:08\""},{"page":62,"sentence":"## $ uc_hectares : num 0"},{"page":62,"sentence":"01 0"},{"page":62,"sentence":"2 0"},{"page":62,"sentence":"5 0"},{"page":62,"sentence":"01 0"},{"page":62,"sentence":"1 0"},{"page":62,"sentence":"2 0"},{"page":62,"sentence":"01 0"},{"page":62,"sentence":"01 0"},{"page":62,"sentence":"2 0"},{"page":62,"sentence":"6"},{"page":62,"sentence":"## $ to_fs_date : chr NA NA NA NA"},{"page":62,"sentence":"## $ to_hectares : num NA NA NA NA 0"},{"page":62,"sentence":"1 NA NA 0"},{"page":62,"sentence":"01 0"},{"page":62,"sentence":"2 NA"},{"page":62,"sentence":"## $ ex_fs_date : chr \"2006-04-03 10:20\" \"2006-04-03 14:00\" \"2006-04-03 15:00\" \"2006-04-03 15:05\""},{"page":62,"sentence":"## $ ex_hectares : num 0"},{"page":62,"sentence":"1 0"},{"page":62,"sentence":"2 0"},{"page":62,"sentence":"5 0"},{"page":62,"sentence":"01 0"},{"page":62,"sentence":"1 0"},{"page":62,"sentence":"2 0"},{"page":62,"sentence":"01 0"},{"page":62,"sentence":"01 0"},{"page":62,"sentence":"2 0"},{"page":62,"sentence":"6"},{"page":62,"sentence":"# View unique values in Temperature and FireSpreadRate\nunique (data $temperature)\n## [1] 18"},{"page":62,"sentence":"0 12"},{"page":62,"sentence":"0 6"},{"page":62,"sentence":"0 11"},{"page":62,"sentence":"0 16"},{"page":62,"sentence":"0 28"},{"page":62,"sentence":"0 26"},{"page":62,"sentence":"0 25"},{"page":62,"sentence":"0 35"},{"page":62,"sentence":"0 15"},{"page":62,"sentence":"0 10"},{"page":62,"sentence":"0 13"},{"page":62,"sentence":"2\n## [13] 27"},{"page":62,"sentence":"0 20"},{"page":62,"sentence":"0 17"},{"page":62,"sentence":"0 22"},{"page":62,"sentence":"0 24"},{"page":62,"sentence":"0 23"},{"page":62,"sentence":"0 21"},{"page":62,"sentence":"0 29"},{"page":62,"sentence":"0 19"},{"page":62,"sentence":"0 21"},{"page":62,"sentence":"4 14"},{"page":62,"sentence":"5 14"},{"page":62,"sentence":"0\n## [25] 33"},{"page":62,"sentence":"0 31"},{"page":62,"sentence":"0 32"},{"page":62,"sentence":"0 4"},{"page":62,"sentence":"0 24"},{"page":62,"sentence":"5 30"},{"page":62,"sentence":"0 27"},{"page":62,"sentence":"5 22"},{"page":62,"sentence":"5 21"},{"page":62,"sentence":"5 6"},{"page":62,"sentence":"5 9"},{"page":62,"sentence":"0 13"},{"page":62,"sentence":"0\n## [37] 25"},{"page":62,"sentence":"5 2"},{"page":62,"sentence":"0 30"},{"page":62,"sentence":"6 17"},{"page":62,"sentence":"5 5"},{"page":62,"sentence":"0 12"},{"page":62,"sentence":"5 22"},{"page":62,"sentence":"4 36"},{"page":62,"sentence":"0 26"},{"page":62,"sentence":"4 18"},{"page":62,"sentence":"7 16"},{"page":62,"sentence":"1 21"},{"page":62,"sentence":"6\n## [49] 16"},{"page":62,"sentence":"5 19"},{"page":62,"sentence":"5 7"},{"page":62,"sentence":"0 24"},{"page":62,"sentence":"6 -0"},{"page":62,"sentence":"6 20"},{"page":62,"sentence":"5 23"},{"page":62,"sentence":"5 24"},{"page":62,"sentence":"3 22"},{"page":62,"sentence":"1 18"},{"page":62,"sentence":"4 23"},{"page":62,"sentence":"7 26"},{"page":62,"sentence":"5\n## [61] 8"},{"page":62,"sentence":"0 15"},{"page":62,"sentence":"6 22"},{"page":62,"sentence":"8 12"},{"page":62,"sentence":"8 13"},{"page":62,"sentence":"5 29"},{"page":62,"sentence":"5 14"},{"page":62,"sentence":"2 8"},{"page":62,"sentence":"3 11"},{"page":62,"sentence":"5 8"},{"page":62,"sentence":"5 13"},{"page":62,"sentence":"3 17"},{"page":62,"sentence":"6\n15"},{"page":63,"sentence":"## [73] 26"},{"page":63,"sentence":"2 19"},{"page":63,"sentence":"6 9"},{"page":63,"sentence":"4 7"},{"page":63,"sentence":"5 16"},{"page":63,"sentence":"7 21"},{"page":63,"sentence":"2 5"},{"page":63,"sentence":"4 3"},{"page":63,"sentence":"0 1"},{"page":63,"sentence":"0 18"},{"page":63,"sentence":"5 23"},{"page":63,"sentence":"2 16"},{"page":63,"sentence":"3\n## [85] 24"},{"page":63,"sentence":"8 26"},{"page":63,"sentence":"7 19"},{"page":63,"sentence":"8 31"},{"page":63,"sentence":"5 25"},{"page":63,"sentence":"6 28"},{"page":63,"sentence":"2 28"},{"page":63,"sentence":"7 20"},{"page":63,"sentence":"2 22"},{"page":63,"sentence":"7 17"},{"page":63,"sentence":"3 30"},{"page":63,"sentence":"8 24"},{"page":63,"sentence":"7\n## [97] 23"},{"page":63,"sentence":"6 17"},{"page":63,"sentence":"4 22"},{"page":63,"sentence":"3 28"},{"page":63,"sentence":"6 -18"},{"page":63,"sentence":"0 0"},{"page":63,"sentence":"1 -1"},{"page":63,"sentence":"0 30"},{"page":63,"sentence":"9 -8"},{"page":63,"sentence":"0 -7"},{"page":63,"sentence":"0 11"},{"page":63,"sentence":"2 0"},{"page":63,"sentence":"0\n## [109] 19"},{"page":63,"sentence":"4 -10"},{"page":63,"sentence":"0 -5"},{"page":63,"sentence":"0 6"},{"page":63,"sentence":"2 11"},{"page":63,"sentence":"7 -2"},{"page":63,"sentence":"0 14"},{"page":63,"sentence":"4 21"},{"page":63,"sentence":"1 25"},{"page":63,"sentence":"7 26"},{"page":63,"sentence":"6 10"},{"page":63,"sentence":"8 15"},{"page":63,"sentence":"3\n## [121] 0"},{"page":63,"sentence":"2 -7"},{"page":63,"sentence":"3 -4"},{"page":63,"sentence":"0 7"},{"page":63,"sentence":"6 8"},{"page":63,"sentence":"9 -11"},{"page":63,"sentence":"0 28"},{"page":63,"sentence":"5 13"},{"page":63,"sentence":"6 30"},{"page":63,"sentence":"7 -6"},{"page":63,"sentence":"0 -15"},{"page":63,"sentence":"0 -3"},{"page":63,"sentence":"0\n## [133] 5"},{"page":63,"sentence":"5 26"},{"page":63,"sentence":"1 9"},{"page":63,"sentence":"5 14"},{"page":63,"sentence":"9 15"},{"page":63,"sentence":"5 13"},{"page":63,"sentence":"4 16"},{"page":63,"sentence":"9 24"},{"page":63,"sentence":"4 17"},{"page":63,"sentence":"8 19"},{"page":63,"sentence":"9 15"},{"page":63,"sentence":"4 26"},{"page":63,"sentence":"8\n## [145] 25"},{"page":63,"sentence":"4 21"},{"page":63,"sentence":"8 18"},{"page":63,"sentence":"2 27"},{"page":63,"sentence":"2 -3"},{"page":63,"sentence":"5 -12"},{"page":63,"sentence":"0 -14"},{"page":63,"sentence":"0 -13"},{"page":63,"sentence":"0 20"},{"page":63,"sentence":"9 2"},{"page":63,"sentence":"5 14"},{"page":63,"sentence":"6 12"},{"page":63,"sentence":"1\n## [157] 16"},{"page":63,"sentence":"2 12"},{"page":63,"sentence":"2 19"},{"page":63,"sentence":"2 19"},{"page":63,"sentence":"1 10"},{"page":63,"sentence":"6 -9"},{"page":63,"sentence":"0 8"},{"page":63,"sentence":"2 6"},{"page":63,"sentence":"6 20"},{"page":63,"sentence":"6 17"},{"page":63,"sentence":"7 3"},{"page":63,"sentence":"2 20"},{"page":63,"sentence":"7\n## [169] 18"},{"page":63,"sentence":"6 8"},{"page":63,"sentence":"6 20"},{"page":63,"sentence":"1 15"},{"page":63,"sentence":"2 11"},{"page":63,"sentence":"8 22"},{"page":63,"sentence":"6 28"},{"page":63,"sentence":"3 3"},{"page":63,"sentence":"5 -2"},{"page":63,"sentence":"7 6"},{"page":63,"sentence":"1 4"},{"page":63,"sentence":"8 13"},{"page":63,"sentence":"8\n## [181] 10"},{"page":63,"sentence":"5 2"},{"page":63,"sentence":"4 14"},{"page":63,"sentence":"3 28"},{"page":63,"sentence":"9 34"},{"page":63,"sentence":"0 -21"},{"page":63,"sentence":"0 26"},{"page":63,"sentence":"3 -18"},{"page":63,"sentence":"5 7"},{"page":63,"sentence":"4 22"},{"page":63,"sentence":"2 11"},{"page":63,"sentence":"9 24"},{"page":63,"sentence":"1\n## [193] 14"},{"page":63,"sentence":"8 20"},{"page":63,"sentence":"3 18"},{"page":63,"sentence":"3 29"},{"page":63,"sentence":"1 8"},{"page":63,"sentence":"7 7"},{"page":63,"sentence":"2 5"},{"page":63,"sentence":"1 27"},{"page":63,"sentence":"8 15"},{"page":63,"sentence":"7 -20"},{"page":63,"sentence":"0 31"},{"page":63,"sentence":"6 2"},{"page":63,"sentence":"6\n## [205] 5"},{"page":63,"sentence":"7 13"},{"page":63,"sentence":"7 12"},{"page":63,"sentence":"4 27"},{"page":63,"sentence":"4 -33"},{"page":63,"sentence":"0 8"},{"page":63,"sentence":"1 9"},{"page":63,"sentence":"1 NA -25"},{"page":63,"sentence":"0 8"},{"page":63,"sentence":"8 30"},{"page":63,"sentence":"5 14"},{"page":63,"sentence":"1\n## [217] 19"},{"page":63,"sentence":"7 6"},{"page":63,"sentence":"4 4"},{"page":63,"sentence":"5 10"},{"page":63,"sentence":"4 24"},{"page":63,"sentence":"9 24"},{"page":63,"sentence":"2 -17"},{"page":63,"sentence":"0 10"},{"page":63,"sentence":"2 13"},{"page":63,"sentence":"9 18"},{"page":63,"sentence":"1 23"},{"page":63,"sentence":"9 -22"},{"page":63,"sentence":"0\n## [229] 10"},{"page":63,"sentence":"3 -19"},{"page":63,"sentence":"0 8"},{"page":63,"sentence":"4 -16"},{"page":63,"sentence":"0 -30"},{"page":63,"sentence":"0 14"},{"page":63,"sentence":"7 23"},{"page":63,"sentence":"4 20"},{"page":63,"sentence":"4 19"},{"page":63,"sentence":"3 32"},{"page":63,"sentence":"1 16"},{"page":63,"sentence":"6 12"},{"page":63,"sentence":"3\n## [241] 18"},{"page":63,"sentence":"8 25"},{"page":63,"sentence":"8 37"},{"page":63,"sentence":"0 1"},{"page":63,"sentence":"5 16"},{"page":63,"sentence":"4 -1"},{"page":63,"sentence":"5 25"},{"page":63,"sentence":"2 5"},{"page":63,"sentence":"6 29"},{"page":63,"sentence":"4 21"},{"page":63,"sentence":"3 27"},{"page":63,"sentence":"6 28"},{"page":63,"sentence":"1\n## [253] 27"},{"page":63,"sentence":"1 9"},{"page":63,"sentence":"3 18"},{"page":63,"sentence":"9 12"},{"page":63,"sentence":"7 6"},{"page":63,"sentence":"3 27"},{"page":63,"sentence":"7 32"},{"page":63,"sentence":"5 23"},{"page":63,"sentence":"8 33"},{"page":63,"sentence":"2 25"},{"page":63,"sentence":"3 20"},{"page":63,"sentence":"8 17"},{"page":63,"sentence":"9\n## [265] 23"},{"page":63,"sentence":"3 27"},{"page":63,"sentence":"9 29"},{"page":63,"sentence":"3 15"},{"page":63,"sentence":"9 21"},{"page":63,"sentence":"9 17"},{"page":63,"sentence":"1 21"},{"page":63,"sentence":"7 28"},{"page":63,"sentence":"4 17"},{"page":63,"sentence":"2 15"},{"page":63,"sentence":"1 16"},{"page":63,"sentence":"8 0"},{"page":63,"sentence":"5\n## [277] 32"},{"page":63,"sentence":"4 29"},{"page":63,"sentence":"8 30"},{"page":63,"sentence":"4 39"},{"page":63,"sentence":"0 -35"},{"page":63,"sentence":"0 -34"},{"page":63,"sentence":"0 2"},{"page":63,"sentence":"3 13"},{"page":63,"sentence":"1 28"},{"page":63,"sentence":"8 3"},{"page":63,"sentence":"3 6"},{"page":63,"sentence":"7 23"},{"page":63,"sentence":"1\n## [289] 2"},{"page":63,"sentence":"2 29"},{"page":63,"sentence":"2 11"},{"page":63,"sentence":"6 5"},{"page":63,"sentence":"3 -2"},{"page":63,"sentence":"5 29"},{"page":63,"sentence":"6 33"},{"page":63,"sentence":"4 27"},{"page":63,"sentence":"3 11"},{"page":63,"sentence":"1 1"},{"page":63,"sentence":"7 31"},{"page":63,"sentence":"8 22"},{"page":63,"sentence":"9\n## [301] 15"},{"page":63,"sentence":"8 9"},{"page":63,"sentence":"7 29"},{"page":63,"sentence":"7 9"},{"page":63,"sentence":"2 31"},{"page":63,"sentence":"7 -3"},{"page":63,"sentence":"4 35"},{"page":63,"sentence":"4 31"},{"page":63,"sentence":"2 7"},{"page":63,"sentence":"3 30"},{"page":63,"sentence":"1 1"},{"page":63,"sentence":"3 12"},{"page":63,"sentence":"6\n## [313] 5"},{"page":63,"sentence":"8 25"},{"page":63,"sentence":"9 1"},{"page":63,"sentence":"9 31"},{"page":63,"sentence":"3 6"},{"page":63,"sentence":"8 0"},{"page":63,"sentence":"7 3"},{"page":63,"sentence":"6 3"},{"page":63,"sentence":"7 26"},{"page":63,"sentence":"9 -23"},{"page":63,"sentence":"0 25"},{"page":63,"sentence":"1 38"},{"page":63,"sentence":"0\n## [325] 0"},{"page":63,"sentence":"3 34"},{"page":63,"sentence":"5 35"},{"page":63,"sentence":"3 29"},{"page":63,"sentence":"9 39"},{"page":63,"sentence":"9 9"},{"page":63,"sentence":"9 38"},{"page":63,"sentence":"1 1"},{"page":63,"sentence":"6 11"},{"page":63,"sentence":"3 32"},{"page":63,"sentence":"6 5"},{"page":63,"sentence":"9 32"},{"page":63,"sentence":"7\n## [337] 37"},{"page":63,"sentence":"5 4"},{"page":63,"sentence":"7 12"},{"page":63,"sentence":"9 -39"},{"page":63,"sentence":"0 -0"},{"page":63,"sentence":"2 10"},{"page":63,"sentence":"1 7"},{"page":63,"sentence":"9 9"},{"page":63,"sentence":"8\nunique (data $fire_spread_rate)\n## [1] 0"},{"page":63,"sentence":"0 0"},{"page":63,"sentence":"1 1"},{"page":63,"sentence":"0 12"},{"page":63,"sentence":"0 0"},{"page":63,"sentence":"5 1"},{"page":63,"sentence":"5 3"},{"page":63,"sentence":"0 2"},{"page":63,"sentence":"0 5"},{"page":63,"sentence":"0 10"},{"page":63,"sentence":"0 0"},{"page":63,"sentence":"2 35"},{"page":63,"sentence":"0\n## [13] 4"},{"page":63,"sentence":"0 30"},{"page":63,"sentence":"0 0"},{"page":63,"sentence":"4 50"},{"page":63,"sentence":"0 0"},{"page":63,"sentence":"9 8"},{"page":63,"sentence":"0 20"},{"page":63,"sentence":"0 3"},{"page":63,"sentence":"5 7"},{"page":63,"sentence":"0 0"},{"page":63,"sentence":"3 6"},{"page":63,"sentence":"0 11"},{"page":63,"sentence":"0\n## [25] 17"},{"page":63,"sentence":"0 9"},{"page":63,"sentence":"0 25"},{"page":63,"sentence":"0 18"},{"page":63,"sentence":"0 40"},{"page":63,"sentence":"0 2"},{"page":63,"sentence":"5 100"},{"page":63,"sentence":"0 0"},{"page":63,"sentence":"7 15"},{"page":63,"sentence":"0 0"},{"page":63,"sentence":"8 1"},{"page":63,"sentence":"2 1"},{"page":63,"sentence":"1\n## [37] 1"},{"page":63,"sentence":"8 1"},{"page":63,"sentence":"9 13"},{"page":63,"sentence":"0 4"},{"page":63,"sentence":"5 1"},{"page":63,"sentence":"7 8"},{"page":63,"sentence":"5 70"},{"page":63,"sentence":"0 0"},{"page":63,"sentence":"6 2"},{"page":63,"sentence":"2 4"},{"page":63,"sentence":"9 16"},{"page":63,"sentence":"0 65"},{"page":63,"sentence":"0\n## [49] 21"},{"page":63,"sentence":"0 5"},{"page":63,"sentence":"7 34"},{"page":63,"sentence":"0 71"},{"page":63,"sentence":"0 19"},{"page":63,"sentence":"0 60"},{"page":63,"sentence":"0 22"},{"page":63,"sentence":"0 5"},{"page":63,"sentence":"5\nWe will also look at a summary of the data\nsummary (data $temperature)\n## Min"},{"page":63,"sentence":"1st Qu"},{"page":63,"sentence":"Median Mean 3rd Qu"},{"page":63,"sentence":"Max"},{"page":63,"sentence":"NA’s\n## -39"},{"page":63,"sentence":"00 14"},{"page":63,"sentence":"00 19"},{"page":63,"sentence":"00 17"},{"page":63,"sentence":"85 23"},{"page":63,"sentence":"00 39"},{"page":63,"sentence":"90 80\nsummary (data $fire_spread_rate)\n## Min"},{"page":63,"sentence":"1st Qu"},{"page":63,"sentence":"Median Mean 3rd Qu"},{"page":63,"sentence":"Max"},{"page":63,"sentence":"## 0"},{"page":63,"sentence":"0000 0"},{"page":63,"sentence":"0000 0"},{"page":63,"sentence":"0000 0"},{"page":63,"sentence":"8962 1"},{"page":63,"sentence":"0000 100"},{"page":63,"sentence":"0000\n# Plot a histogram\nggplot (data, aes(x = fire_spread_rate)) +\ngeom_histogram (binwidth = 1, fill = \"blue\", color = \"black\", alpha = 0"},{"page":63,"sentence":"7) +\nlabs (title = \"Distribution of Fire Spread Rate\",\nx = \"Fire Spread Rate\",\ny = \"Frequency\") +\ntheme_classic ()\n16"},{"page":64,"sentence":"050001000015000\n0 25 50 75 100\nFire Spread RateFrequencyDistribution of Fire Spread Rate# Alternatively, plot a density plot\nggplot (data, aes(x = fire_spread_rate)) +\ngeom_density (fill = \"blue\", alpha = 0"},{"page":64,"sentence":"5) +\nlabs (title = \"Density Plot of Fire Spread Rate\",\nx = \"Fire Spread Rate\",\ny = \"Density\") +\ntheme_classic ()\n17"},{"page":65,"sentence":"0"},{"page":65,"sentence":"00"},{"page":65,"sentence":"51"},{"page":65,"sentence":"01"},{"page":65,"sentence":"52"},{"page":65,"sentence":"0\n0 25 50 75 100\nFire Spread RateDensityDensity Plot of Fire Spread Rate# Calculate skewness\nspread_rate_skewness <- skewness (data $fire_spread_rate)\nprint (paste (\"Skewness of Fire Spread Rate:\", spread_rate_skewness))\n## [1] \"Skewness of Fire Spread Rate: 11"},{"page":65,"sentence":"2632058482397\"\nThe value 11"},{"page":65,"sentence":"22 suggests that the distribution of fire spread rates is heavily skewed to the right, meaning\nthat most of the fire spread rates are relatively low, but there are a few extremely high values (outliers) that\npull the tail of the distribution to the right"},{"page":65,"sentence":"Before performing a regression analysis, it is important to investigate the correlation between both variables"},{"page":65,"sentence":"To normalize the distribution of the fire spread rate we can attempt a log transformation\n# Log Transformation\ndata $log_fire_spread_rate <- log(data $fire_spread_rate +1)\nlog_spread_rate_skewness <- skewness (data $log_fire_spread_rate)\nprint (paste (\"Skewness of Log Transformed Fire Spread Rate:\", log_spread_rate_skewness))\n## [1] \"Skewness of Log Transformed Fire Spread Rate: 1"},{"page":65,"sentence":"92868885555048\"\nggplot (data, aes(x = log_fire_spread_rate)) +\ngeom_density (fill = \"blue\", alpha = 0"},{"page":65,"sentence":"5) +\nlabs (title = \"Log Transformed Density Plot of Fire Spread Rate\",\n18"},{"page":66,"sentence":"x = \"Log Fire Spread Rate\",\ny = \"Density\") +\ntheme_classic ()\n0123\n0 1 2 3 4\nLog Fire Spread RateDensityLog Transformed Density Plot of Fire Spread Rate\nFollowingthis,wewillcalculatePearsoncorrelationbetweenlog-transformedfirespreadrateandtemperature\ncorrelation_log <- cor(data $log_fire_spread_rate, data $temperature, use = \"complete"},{"page":66,"sentence":"obs\")\nprint (paste (\"Pearson correlation coefficient (Log Fire Spread Rate and Temperature):\", correlation_log))\n## [1] \"Pearson correlation coefficient (Log Fire Spread Rate and Temperature): 0"},{"page":66,"sentence":"250089700065433\"\nWe will now rechecking correlation fire spread rate and temperature to see if the relationship has improved\nnow"},{"page":66,"sentence":"The regression model can be coded as:\n# Fit a linear regression model\nlog_model <- lm(log_fire_spread_rate ~temperature, data = data)\nsummary (log_model)\n##\n## Call:\n## lm(formula = log_fire_spread_rate ~ temperature, data = data)\n##\n## Residuals:\n19"},{"page":67,"sentence":"## Min 1Q Median 3Q Max\n## -0"},{"page":67,"sentence":"7690 -0"},{"page":67,"sentence":"3839 -0"},{"page":67,"sentence":"2119 0"},{"page":67,"sentence":"2326 4"},{"page":67,"sentence":"0652\n##\n## Coefficients:\n## Estimate Std"},{"page":67,"sentence":"Error t value Pr(>|t|)\n## (Intercept) 0"},{"page":67,"sentence":"0389989 0"},{"page":67,"sentence":"0096034 4"},{"page":67,"sentence":"061 4"},{"page":67,"sentence":"9e-05 ***\n## temperature 0"},{"page":67,"sentence":"0191612 0"},{"page":67,"sentence":"0004948 38"},{"page":67,"sentence":"727 < 2e-16 ***\n## ---\n## Signif"},{"page":67,"sentence":"codes: 0 ’***’ 0"},{"page":67,"sentence":"001 ’**’ 0"},{"page":67,"sentence":"01 ’*’ 0"},{"page":67,"sentence":"05 ’"},{"page":67,"sentence":"’ 0"},{"page":67,"sentence":"1 ’ ’ 1\n##\n## Residual standard error: 0"},{"page":67,"sentence":"5651 on 22480 degrees of freedom\n## (80 observations deleted due to missingness)\n## Multiple R-squared: 0"},{"page":67,"sentence":"06254, Adjusted R-squared: 0"},{"page":67,"sentence":"0625\n## F-statistic: 1500 on 1 and 22480 DF, p-value: < 2"},{"page":67,"sentence":"2e-16\nggplot (data, aes(x = temperature, y = log_fire_spread_rate)) +\ngeom_point (color = \"red\") +\ngeom_smooth (method = \"lm\", se = FALSE, color = \"blue\") +\nlabs (title = \"Log Fire Spread Rate vs Temperature\",\nx = \"Temperature\",\ny = \"Log Fire Spread Rate\")\n## ‘geom_smooth()‘ using formula = ’y ~ x’\n## Warning: Removed 80 rows containing non-finite outside the scale range\n## (‘stat_smooth()‘)"},{"page":67,"sentence":"## Warning: Removed 80 rows containing missing values or values outside the scale range\n## (‘geom_point()‘)"},{"page":67,"sentence":"20"},{"page":68,"sentence":"01234\n−40 −20 0 20 40\nTemperatureLog Fire Spread RateLog Fire Spread Rate vs TemperatureThe graph shows the relationship between temperature and the rate of fire spread"},{"page":68,"sentence":"The red dots represent\ndata points where the x-axis represents the temperature and the y-axis represents the log of the fire spread\nrate"},{"page":68,"sentence":"The blue line represents a line of best fit, indicating that there is a positive correlation between the two\nvariables"},{"page":68,"sentence":"This means that as temperature increases, the fire spread rate also increases, and this is illustrated\nby the upward trend of the blue line"},{"page":68,"sentence":"Q-Q Plot and Residuals Plot to check the normality\n# Q-Q plot to check normality of residuals\nqqnorm (residuals (log_model))\nqqline (residuals (log_model), col = \"blue\")\n21"},{"page":69,"sentence":"−4 −2 0 2 401234Normal Q−Q Plot\nTheoretical QuantilesSample Quantiles# Residuals vs Fitted plot\nplot (log_model, which = 1)\n22"},{"page":70,"sentence":"−0"},{"page":70,"sentence":"5 0"},{"page":70,"sentence":"0 0"},{"page":70,"sentence":"5−101234\nFitted valuesResiduals\nlm(log_fire_spread_rate ~ temperature)Residuals vs Fitted\n16449 3129\n17097# Histogram of residuals\nhist (residuals (log_model), main = \"Histogram of Residuals\", xlab = \"Residuals\", col = \"lightblue\")\n23"},{"page":71,"sentence":"Histogram of Residuals\nResidualsFrequency\n−1 0 1 2 3 402000 6000 10000Residual plot: This plot suggests that the linear model is not a good fit for the data, and alternative models\nmight be considered"},{"page":71,"sentence":"Q-Q Residual: This plot indicates that the data is not normally distributed because it deviates from a\nstraight line"},{"page":71,"sentence":"The points are curved and have a few outliers"},{"page":71,"sentence":"The data is skewed to the right as it deviates\nfrom the straight line on the right-hand side"},{"page":71,"sentence":"# Get model summary and extract statistics\nlog_model_summary <- summary (log_model)\nr_squared_log <- log_model_summary $r"},{"page":71,"sentence":"squared\nadj_r_squared_log <- log_model_summary $adj"},{"page":71,"sentence":"r"},{"page":71,"sentence":"squared\np_value_log <- log_model_summary $coefficients[2, 4]\nprint (paste (\"R-squared (log model):\", r_squared_log))\n## [1] \"R-squared (log model): 0"},{"page":71,"sentence":"0625448580788178\"\nprint (paste (\"Adjusted R-squared (log model):\", adj_r_squared_log))\n## [1] \"Adjusted R-squared (log model): 0"},{"page":71,"sentence":"062503156337629\"\nprint (paste (\"p-value for temperature (log model):\", p_value_log))\n## [1] \"p-value for temperature (log model): 1"},{"page":71,"sentence":"1251791730511e-317\"\n24"},{"page":72,"sentence":"To avoid the complexity by temperature variable Adjusted R-squared -the relationship between the temper-\nature and fire spread rate is weak, meaning temperature does not explain much of the variation in fire spread\nrate"},{"page":72,"sentence":"P Value suggests that the temperature is likely statistically significant, meaning it has a real effect on\nthe dependent variable"},{"page":72,"sentence":"To check this since the p-value only reflects the significance of the relationship, it’s also worth considering if\nother variables (like humidity , wind speed , vegetation_type\n# Extra work--Consider including other relevant features\ndata $humidity <- data $relative_humidity\ndata $wind_speed <- data $wind_speed\ndata $vegetation_type <- data $fuel_type\n# Update the model to include additional features\nmodel <- lm(fire_spread_rate ~temperature +humidity +wind_speed +vegetation_type, data = data)\n# Summarize the updated model\nsummary (model)\n##\n## Call:\n## lm(formula = fire_spread_rate ~ temperature + humidity + wind_speed +\n## vegetation_type, data = data)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -4"},{"page":72,"sentence":"849 -1"},{"page":72,"sentence":"028 -0"},{"page":72,"sentence":"475 0"},{"page":72,"sentence":"221 98"},{"page":72,"sentence":"075\n##\n## Coefficients:\n## Estimate Std"},{"page":72,"sentence":"Error t value Pr(>|t|)\n## (Intercept) 1"},{"page":72,"sentence":"241233 0"},{"page":72,"sentence":"161542 7"},{"page":72,"sentence":"684 1"},{"page":72,"sentence":"63e-14 ***\n## temperature 0"},{"page":72,"sentence":"031667 0"},{"page":72,"sentence":"003164 10"},{"page":72,"sentence":"009 < 2e-16 ***\n## humidity -0"},{"page":72,"sentence":"017181 0"},{"page":72,"sentence":"001239 -13"},{"page":72,"sentence":"866 < 2e-16 ***\n## wind_speed 0"},{"page":72,"sentence":"044757 0"},{"page":72,"sentence":"002431 18"},{"page":72,"sentence":"413 < 2e-16 ***\n## vegetation_typeC2 0"},{"page":72,"sentence":"223939 0"},{"page":72,"sentence":"121777 1"},{"page":72,"sentence":"839 0"},{"page":72,"sentence":"065942"},{"page":72,"sentence":"## vegetation_typeC3 -0"},{"page":72,"sentence":"246459 0"},{"page":72,"sentence":"156810 -1"},{"page":72,"sentence":"572 0"},{"page":72,"sentence":"116036\n## vegetation_typeC4 -0"},{"page":72,"sentence":"443133 0"},{"page":72,"sentence":"259062 -1"},{"page":72,"sentence":"711 0"},{"page":72,"sentence":"087185"},{"page":72,"sentence":"## vegetation_typeC7 -0"},{"page":72,"sentence":"845929 0"},{"page":72,"sentence":"621074 -1"},{"page":72,"sentence":"362 0"},{"page":72,"sentence":"173202\n## vegetation_typeD1 -0"},{"page":72,"sentence":"759180 0"},{"page":72,"sentence":"176130 -4"},{"page":72,"sentence":"310 1"},{"page":72,"sentence":"64e-05 ***\n## vegetation_typeM1 -0"},{"page":72,"sentence":"559852 0"},{"page":72,"sentence":"160891 -3"},{"page":72,"sentence":"480 0"},{"page":72,"sentence":"000503 ***\n## vegetation_typeM2 -0"},{"page":72,"sentence":"699145 0"},{"page":72,"sentence":"130445 -5"},{"page":72,"sentence":"360 8"},{"page":72,"sentence":"44e-08 ***\n## vegetation_typeM3 -1"},{"page":72,"sentence":"718422 1"},{"page":72,"sentence":"577507 -1"},{"page":72,"sentence":"089 0"},{"page":72,"sentence":"276024\n## vegetation_typeM4 -0"},{"page":72,"sentence":"739332 2"},{"page":72,"sentence":"726585 -0"},{"page":72,"sentence":"271 0"},{"page":72,"sentence":"786274\n## vegetation_typeO1a -0"},{"page":72,"sentence":"760666 0"},{"page":72,"sentence":"127503 -5"},{"page":72,"sentence":"966 2"},{"page":72,"sentence":"48e-09 ***\n## vegetation_typeO1b -0"},{"page":72,"sentence":"719319 0"},{"page":72,"sentence":"134277 -5"},{"page":72,"sentence":"357 8"},{"page":72,"sentence":"57e-08 ***\n## vegetation_typeS1 -0"},{"page":72,"sentence":"892669 0"},{"page":72,"sentence":"173143 -5"},{"page":72,"sentence":"156 2"},{"page":72,"sentence":"55e-07 ***\n## vegetation_typeS2 -1"},{"page":72,"sentence":"039302 0"},{"page":72,"sentence":"174980 -5"},{"page":72,"sentence":"940 2"},{"page":72,"sentence":"91e-09 ***\n## ---\n## Signif"},{"page":72,"sentence":"codes: 0 ’***’ 0"},{"page":72,"sentence":"001 ’**’ 0"},{"page":72,"sentence":"01 ’*’ 0"},{"page":72,"sentence":"05 ’"},{"page":72,"sentence":"’ 0"},{"page":72,"sentence":"1 ’ ’ 1\n##\n## Residual standard error: 2"},{"page":72,"sentence":"724 on 17918 degrees of freedom\n## (4627 observations deleted due to missingness)\n25"},{"page":73,"sentence":"## Multiple R-squared: 0"},{"page":73,"sentence":"07169, Adjusted R-squared: 0"},{"page":73,"sentence":"07086\n## F-statistic: 86"},{"page":73,"sentence":"48 on 16 and 17918 DF, p-value: < 2"},{"page":73,"sentence":"2e-16\nThis thing concludes that not only one factor is responsible for the fire spread these other factors combiningly\nalso affect that"},{"page":73,"sentence":"Creating a new column according to the size_class to represnt that in the visualization as HIgh or low spread\nin the particular area"},{"page":73,"sentence":"str(data)\n## ’data"},{"page":73,"sentence":"frame’: 22562 obs"},{"page":73,"sentence":"of 53 variables:\n## $ fire_year : int 2006 2006 2006 2006 2006 2006 2006 2006 2006 2006"},{"page":73,"sentence":"## $ fire_number : chr \"PWF001\" \"EWF002\" \"EWF001\" \"EWF003\""},{"page":73,"sentence":"## $ fire_name : chr NA NA NA NA"},{"page":73,"sentence":"## $ current_size : num 0"},{"page":73,"sentence":"1 0"},{"page":73,"sentence":"2 0"},{"page":73,"sentence":"5 0"},{"page":73,"sentence":"01 0"},{"page":73,"sentence":"1 0"},{"page":73,"sentence":"2 0"},{"page":73,"sentence":"01 0"},{"page":73,"sentence":"01 0"},{"page":73,"sentence":"2 0"},{"page":73,"sentence":"6"},{"page":73,"sentence":"## $ size_class : chr \"A\" \"B\" \"B\" \"A\""},{"page":73,"sentence":"## $ fire_location_latitude : num 56"},{"page":73,"sentence":"2 53"},{"page":73,"sentence":"6 53"},{"page":73,"sentence":"6 53"},{"page":73,"sentence":"6 56"},{"page":73,"sentence":"2"},{"page":73,"sentence":"## $ fire_location_longitude : num -117 -116 -116 -116 -117"},{"page":73,"sentence":"## $ fire_origin : chr \"Private Land\" \"Provincial Land\" \"Provincial Land\" \"Provincial Land\""},{"page":73,"sentence":"## $ general_cause_desc : chr \"Resident\" \"Incendiary\" \"Incendiary\" \"Incendiary\""},{"page":73,"sentence":"## $ industry_identifier_desc : chr NA NA NA NA"},{"page":73,"sentence":"## $ responsible_group_desc : chr \"Resident\" \"Others (explain in remarks)\" \"Others (explain in remarks)\" \"Others (explain in remarks)\""},{"page":73,"sentence":"## $ activity_class : chr \"Grass\" \"Lighting Fires\" \"Lighting Fires\" \"Lighting Fires\""},{"page":73,"sentence":"## $ true_cause : chr \"Permit Related\" \"Arson Suspected\" \"Arson Suspected\" \"Arson Suspected\""},{"page":73,"sentence":"## $ fire_start_date : chr \"2006-04-02 12:00\" \"2006-04-03 12:10\" \"2006-04-03 12:15\" \"2006-04-03 12:10\""},{"page":73,"sentence":"## $ det_agent_type : chr \"UNP\" \"UNP\" \"UNP\" \"UNP\""},{"page":73,"sentence":"## $ det_agent : chr \"310\" \"310\" \"310\" \"PUB\""},{"page":73,"sentence":"## $ discovered_date : chr NA NA NA NA"},{"page":73,"sentence":"## $ discovered_size : num NA NA NA NA NA NA NA NA NA NA"},{"page":73,"sentence":"## $ reported_date : chr \"2006-04-02 20:46\" \"2006-04-03 12:27\" \"2006-04-03 12:36\" \"2006-04-03 13:23\""},{"page":73,"sentence":"## $ dispatched_resource : chr \"FPD Staff\" \"FPD Staff\" \"FPD Staff\" \"FPD Staff\""},{"page":73,"sentence":"## $ dispatch_date : chr \"2006-04-02 21:10\" \"2006-04-03 12:33\" \"2006-04-03 12:36\" \"2006-04-03 13:50\""},{"page":73,"sentence":"## $ start_for_fire_date : chr \"2006-04-02 21:20\" \"2006-04-03 12:35\" \"2006-04-03 12:42\" \"2006-04-03 13:50\""},{"page":73,"sentence":"## $ assessment_resource : chr \"IA Forces\" \"IA Forces\" \"IA Forces\" \"IA Forces\""},{"page":73,"sentence":"## $ assessment_datetime : chr \"2006-04-02 22:00\" \"2006-04-03 13:20\" \"2006-04-03 13:23\" \"2006-04-03 14:08\""},{"page":73,"sentence":"## $ assessment_hectares : num 0"},{"page":73,"sentence":"01 0"},{"page":73,"sentence":"2 0"},{"page":73,"sentence":"5 0"},{"page":73,"sentence":"01 0"},{"page":73,"sentence":"1 0"},{"page":73,"sentence":"2 0"},{"page":73,"sentence":"01 0"},{"page":73,"sentence":"01 0"},{"page":73,"sentence":"2 0"},{"page":73,"sentence":"6"},{"page":73,"sentence":"## $ fire_spread_rate : num 0 0 0 0 0"},{"page":73,"sentence":"1 0 0 0 0 0"},{"page":73,"sentence":"## $ fire_type : chr \"Surface\" \"Surface\" \"Surface\" \"Surface\""},{"page":73,"sentence":"## $ fire_position_on_slope : chr \"Flat\" \"Lower 1\/3\" \"Bottom\" \"Flat\""},{"page":73,"sentence":"## $ weather_conditions_over_fire: chr \"Clear\" \"Clear\" \"Clear\" \"Clear\""},{"page":73,"sentence":"## $ temperature : num 18 12 12 12 6 11 11 16 11 11"},{"page":73,"sentence":"## $ relative_humidity : int 10 22 22 22 37 32 25 17 35 44"},{"page":73,"sentence":"## $ wind_direction : chr \"SW\" \"SW\" \"SW\" \"SW\""},{"page":73,"sentence":"## $ wind_speed : int 2 10 10 10 2 20 10 2 7 4"},{"page":73,"sentence":"## $ fuel_type : chr \"O1a\" \"O1a\" \"O1a\" \"O1b\""},{"page":73,"sentence":"## $ initial_action_by : chr \"Land Owner\" \"Fire Department\" \"Fire Department\" \"Industry\""},{"page":73,"sentence":"## $ ia_arrival_at_fire_date : chr NA NA NA NA"},{"page":73,"sentence":"## $ ia_access : chr NA NA NA NA"},{"page":73,"sentence":"## $ fire_fighting_start_date : chr NA NA NA NA"},{"page":73,"sentence":"## $ fire_fighting_start_size : num NA NA NA NA NA NA NA 0"},{"page":73,"sentence":"01 NA 0"},{"page":73,"sentence":"6"},{"page":73,"sentence":"## $ bucketing_on_fire : chr NA NA NA NA"},{"page":73,"sentence":"## $ distance_from_water_source : num NA NA NA NA NA NA NA NA NA NA"},{"page":73,"sentence":"## $ first_bucket_drop_date : chr NA NA NA NA"},{"page":73,"sentence":"26"},{"page":74,"sentence":"## $ bh_fs_date : chr \"2006-04-02 22:00\" \"2006-04-03 13:20\" \"2006-04-03 13:23\" \"2006-04-03 14:08\""},{"page":74,"sentence":"## $ bh_hectares : num 0"},{"page":74,"sentence":"01 0"},{"page":74,"sentence":"2 0"},{"page":74,"sentence":"5 0"},{"page":74,"sentence":"01 0"},{"page":74,"sentence":"1 0"},{"page":74,"sentence":"2 0"},{"page":74,"sentence":"01 0"},{"page":74,"sentence":"01 0"},{"page":74,"sentence":"2 0"},{"page":74,"sentence":"6"},{"page":74,"sentence":"## $ uc_fs_date : chr \"2006-04-02 22:00\" \"2006-04-03 13:20\" \"2006-04-03 13:23\" \"2006-04-03 14:08\""},{"page":74,"sentence":"## $ uc_hectares : num 0"},{"page":74,"sentence":"01 0"},{"page":74,"sentence":"2 0"},{"page":74,"sentence":"5 0"},{"page":74,"sentence":"01 0"},{"page":74,"sentence":"1 0"},{"page":74,"sentence":"2 0"},{"page":74,"sentence":"01 0"},{"page":74,"sentence":"01 0"},{"page":74,"sentence":"2 0"},{"page":74,"sentence":"6"},{"page":74,"sentence":"## $ to_fs_date : chr NA NA NA NA"},{"page":74,"sentence":"## $ to_hectares : num NA NA NA NA 0"},{"page":74,"sentence":"1 NA NA 0"},{"page":74,"sentence":"01 0"},{"page":74,"sentence":"2 NA"},{"page":74,"sentence":"## $ ex_fs_date : chr \"2006-04-03 10:20\" \"2006-04-03 14:00\" \"2006-04-03 15:00\" \"2006-04-03 15:05\""},{"page":74,"sentence":"## $ ex_hectares : num 0"},{"page":74,"sentence":"1 0"},{"page":74,"sentence":"2 0"},{"page":74,"sentence":"5 0"},{"page":74,"sentence":"01 0"},{"page":74,"sentence":"1 0"},{"page":74,"sentence":"2 0"},{"page":74,"sentence":"01 0"},{"page":74,"sentence":"01 0"},{"page":74,"sentence":"2 0"},{"page":74,"sentence":"6"},{"page":74,"sentence":"## $ log_fire_spread_rate : num 0 0 0 0 0"},{"page":74,"sentence":"0953"},{"page":74,"sentence":"## $ humidity : int 10 22 22 22 37 32 25 17 35 44"},{"page":74,"sentence":"## $ vegetation_type : chr \"O1a\" \"O1a\" \"O1a\" \"O1b\""},{"page":74,"sentence":"# Create SpreadCategory based on size_class\ndata $SpreadCategory <- ifelse (data $size_class %in% c (\"D\", \"E\"), \"High\", \"Low\")\nhead (data)\n## fire_year fire_number fire_name current_size size_class\n## 1 2006 PWF001 <NA> 0"},{"page":74,"sentence":"10 A\n## 2 2006 EWF002 <NA> 0"},{"page":74,"sentence":"20 B\n## 3 2006 EWF001 <NA> 0"},{"page":74,"sentence":"50 B\n## 4 2006 EWF003 <NA> 0"},{"page":74,"sentence":"01 A\n## 5 2006 PWF002 <NA> 0"},{"page":74,"sentence":"10 A\n## 6 2006 CWF001 <NA> 0"},{"page":74,"sentence":"20 B\n## fire_location_latitude fire_location_longitude fire_origin\n## 1 56"},{"page":74,"sentence":"24996 -117"},{"page":74,"sentence":"1820 Private Land\n## 2 53"},{"page":74,"sentence":"60637 -115"},{"page":74,"sentence":"9157 Provincial Land\n## 3 53"},{"page":74,"sentence":"61093 -115"},{"page":74,"sentence":"5943 Provincial Land\n## 4 53"},{"page":74,"sentence":"60887 -115"},{"page":74,"sentence":"6095 Provincial Land\n## 5 56"},{"page":74,"sentence":"24996 -117"},{"page":74,"sentence":"0502 Provincial Land\n## 6 51"},{"page":74,"sentence":"15293 -115"},{"page":74,"sentence":"0346 Indian Reservation\n## general_cause_desc industry_identifier_desc responsible_group_desc\n## 1 Resident <NA> Resident\n## 2 Incendiary <NA> Others (explain in remarks)\n## 3 Incendiary <NA> Others (explain in remarks)\n## 4 Incendiary <NA> Others (explain in remarks)\n## 5 Other Industry Waste Disposal Employees\n## 6 Resident <NA> Resident\n## activity_class true_cause fire_start_date det_agent_type det_agent\n## 1 Grass Permit Related 2006-04-02 12:00 UNP 310\n## 2 Lighting Fires Arson Suspected 2006-04-03 12:10 UNP 310\n## 3 Lighting Fires Arson Suspected 2006-04-03 12:15 UNP 310\n## 4 Lighting Fires Arson Suspected 2006-04-03 12:10 UNP PUB\n## 5 Refuse Permit Related 2006-04-03 17:00 UNP LFS\n## 6 Unclassified Unsafe Fire 2006-04-02 14:25 UNP 310\n## discovered_date discovered_size reported_date dispatched_resource\n## 1 <NA> NA 2006-04-02 20:46 FPD Staff\n## 2 <NA> NA 2006-04-03 12:27 FPD Staff\n## 3 <NA> NA 2006-04-03 12:36 FPD Staff\n## 4 <NA> NA 2006-04-03 13:23 FPD Staff\n## 5 2006-04-03 19:11 NA 2006-04-03 19:12 FPD Staff\n## 6 2006-04-02 14:27 NA 2006-04-02 14:30 FPD Staff\n## dispatch_date start_for_fire_date assessment_resource assessment_datetime\n## 1 2006-04-02 21:10 2006-04-02 21:20 IA Forces 2006-04-02 22:00\n27"},{"page":75,"sentence":"## 2 2006-04-03 12:33 2006-04-03 12:35 IA Forces 2006-04-03 13:20\n## 3 2006-04-03 12:36 2006-04-03 12:42 IA Forces 2006-04-03 13:23\n## 4 2006-04-03 13:50 2006-04-03 13:50 IA Forces 2006-04-03 14:08\n## 5 2006-04-03 19:19 2006-04-03 19:22 Other 2006-04-03 19:57\n## 6 2006-04-02 14:40 2006-04-02 14:45 IA Forces 2006-04-02 16:00\n## assessment_hectares fire_spread_rate fire_type fire_position_on_slope\n## 1 0"},{"page":75,"sentence":"01 0"},{"page":75,"sentence":"0 Surface Flat\n## 2 0"},{"page":75,"sentence":"20 0"},{"page":75,"sentence":"0 Surface Lower 1\/3\n## 3 0"},{"page":75,"sentence":"50 0"},{"page":75,"sentence":"0 Surface Bottom\n## 4 0"},{"page":75,"sentence":"01 0"},{"page":75,"sentence":"0 Surface Flat\n## 5 0"},{"page":75,"sentence":"10 0"},{"page":75,"sentence":"1 Surface Flat\n## 6 0"},{"page":75,"sentence":"20 0"},{"page":75,"sentence":"0 Surface Flat\n## weather_conditions_over_fire temperature relative_humidity wind_direction\n## 1 Clear 18 10 SW\n## 2 Clear 12 22 SW\n## 3 Clear 12 22 SW\n## 4 Clear 12 22 SW\n## 5 Clear 6 37 SW\n## 6 Clear 11 32 S\n## wind_speed fuel_type initial_action_by ia_arrival_at_fire_date ia_access\n## 1 2 O1a Land Owner <NA> <NA>\n## 2 10 O1a Fire Department <NA> <NA>\n## 3 10 O1a Fire Department <NA> <NA>\n## 4 10 O1b Industry <NA> <NA>\n## 5 2 <NA> Fire Department <NA> <NA>\n## 6 20 O1b Fire Department <NA> <NA>\n## fire_fighting_start_date fire_fighting_start_size bucketing_on_fire\n## 1 <NA> NA <NA>\n## 2 <NA> NA <NA>\n## 3 <NA> NA <NA>\n## 4 <NA> NA <NA>\n## 5 <NA> NA <NA>\n## 6 <NA> NA <NA>\n## distance_from_water_source first_bucket_drop_date bh_fs_date\n## 1 NA <NA> 2006-04-02 22:00\n## 2 NA <NA> 2006-04-03 13:20\n## 3 NA <NA> 2006-04-03 13:23\n## 4 NA <NA> 2006-04-03 14:08\n## 5 NA <NA> 2006-04-03 19:57\n## 6 NA <NA> 2006-04-02 16:00\n## bh_hectares uc_fs_date uc_hectares to_fs_date to_hectares\n## 1 0"},{"page":75,"sentence":"01 2006-04-02 22:00 0"},{"page":75,"sentence":"01 <NA> NA\n## 2 0"},{"page":75,"sentence":"20 2006-04-03 13:20 0"},{"page":75,"sentence":"20 <NA> NA\n## 3 0"},{"page":75,"sentence":"50 2006-04-03 13:23 0"},{"page":75,"sentence":"50 <NA> NA\n## 4 0"},{"page":75,"sentence":"01 2006-04-03 14:08 0"},{"page":75,"sentence":"01 <NA> NA\n## 5 0"},{"page":75,"sentence":"10 2006-04-03 20:19 0"},{"page":75,"sentence":"10 2006-04-03 20:20 0"},{"page":75,"sentence":"1\n## 6 0"},{"page":75,"sentence":"20 2006-04-02 16:00 0"},{"page":75,"sentence":"20 <NA> NA\n## ex_fs_date ex_hectares log_fire_spread_rate humidity vegetation_type\n## 1 2006-04-03 10:20 0"},{"page":75,"sentence":"10 0"},{"page":75,"sentence":"00000000 10 O1a\n## 2 2006-04-03 14:00 0"},{"page":75,"sentence":"20 0"},{"page":75,"sentence":"00000000 22 O1a\n## 3 2006-04-03 15:00 0"},{"page":75,"sentence":"50 0"},{"page":75,"sentence":"00000000 22 O1a\n## 4 2006-04-03 15:05 0"},{"page":75,"sentence":"01 0"},{"page":75,"sentence":"00000000 22 O1b\n## 5 2006-04-05 10:18 0"},{"page":75,"sentence":"10 0"},{"page":75,"sentence":"09531018 37 <NA>\n## 6 2006-04-03 18:00 0"},{"page":75,"sentence":"20 0"},{"page":75,"sentence":"00000000 32 O1b\n28"},{"page":76,"sentence":"## SpreadCategory\n## 1 Low\n## 2 Low\n## 3 Low\n## 4 Low\n## 5 Low\n## 6 Low\nGeospatial Visualization: Map the fire occurrences geographically with spread rate and temperature as visual\nlayers\n#For the following code, the output is an HTML output, therefore exporting it in a PDF format is not possible"},{"page":76,"sentence":"If you would like to run this interactive visual please run the provided Rmarkdown file in RStudio and run the entire code"},{"page":76,"sentence":"For the sake of saving, and knitting, the code has been masked with # 's"},{"page":76,"sentence":"#data <- data[!is"},{"page":76,"sentence":"na(data$fire_location_longitude) & !is"},{"page":76,"sentence":"na(data$fire_location_latitude), ]\n# Ensure data is not NULL and has the required columns\n#if (!is"},{"page":76,"sentence":"null(data) && all(c(\"fire_location_longitude\", \"fire_location_latitude\", \"fire_spread_rate\", \"SpreadCategory\", \"temperature\") %in% names(data))) {\n# Print debugging information\n# Filter out rows with missing lat\/long\n#data <- data[!is"},{"page":76,"sentence":"na(data$fire_location_longitude) & !is"},{"page":76,"sentence":"na(data$fire_location_latitude), ]\n#leaflet(data) %>%\n#addTiles() %>%\n#addCircleMarkers(~fire_location_longitude, ~fire_location_latitude,\n#radius = ~fire_spread_rate * 0"},{"page":76,"sentence":"1,\n#color = ~ifelse(SpreadCategory == \"High\", \"red\", \"green\"),\n#fillOpacity = 0"},{"page":76,"sentence":"5,\n#popup = ~paste(\"Spread Rate:\", fire_spread_rate, \"<br>\",\n#\"Temperature:\", temperature)) %>%\n#setView(lng = mean(data$fire_location_longitude, na"},{"page":76,"sentence":"rm = TRUE),\n#lat = mean(data$fire_location_latitude, na"},{"page":76,"sentence":"rm = TRUE),\n#zoom = 6) %>%\n#addLegend(\"bottomright\",\n#colors = c(\"red\", \"green\"),\n#labels = c(\"High Spread Rate\", \"Low Spread Rate\"),\n#title = \"Spread Rate Category\")\n#} else {\n#print(\"Data is NULL or required columns are missing"},{"page":76,"sentence":"\")\n#}\nAdded clustering Points for Better Performance on this geospatial visualization"},{"page":76,"sentence":"This will interactively shows\nthe area where the fire spread rate and temperature is high or low"},{"page":76,"sentence":"Hypothesis testing:\n# Extract the p-value for temperature in the transformed model\np_value_log <- summary (log_model) $coefficients[2, 4]\n# Hypothesis testing\nif(p_value_log <0"},{"page":76,"sentence":"05) {\nprint (\"Reject the null hypothesis"},{"page":76,"sentence":"There is a statistically significant relationship between temperature and fire spread rate (log-transformed)"},{"page":76,"sentence":"\")\n}else {\nprint (\"Fail to reject the null hypothesis"},{"page":76,"sentence":"There is no statistically significant relationship between temperature and fire spread rate (log-transformed)"},{"page":76,"sentence":"\")\n}\n29"},{"page":77,"sentence":"## [1] \"Reject the null hypothesis"},{"page":77,"sentence":"There is a statistically significant relationship between temperature and fire spread rate (log-transformed)"},{"page":77,"sentence":"\"\n# Print p-value for confirmation\nprint (paste (\"P-value:\", p_value_log))\n## [1] \"P-value: 1"},{"page":77,"sentence":"1251791730511e-317\"\nThere is a statistically significant relationship between temperature and fire spread rate (log-transformed)"},{"page":77,"sentence":"The analysis of the residual plot and Q-Q residual plot suggests that the linear regression model is not an\nappropriate fit for the data"},{"page":77,"sentence":"The residual plot indicates a poor linear relationship, and the Q-Q residual plot\nreveals that the data is not normally distributed, with a right-skew and the presence of outliers"},{"page":77,"sentence":"Given these\nobservations, alternative modeling approaches, such as non-linear regression or robust regression techniques,\nshouldbeconsideredtobettercapturetheunderlyingpatternsinthedataandavoidtherelianceonnormality\nassumptions"},{"page":77,"sentence":"Question 3 - What is the Relationship Between Fire Size to Response and Extinguished Time\nIntroduction\nAnalyze the relationship between the Fire Size against the Response \/Extinguished Time\nResponse Time\nDuration between the detection of a forest fire and the arrival of firefighting resources at the scene"},{"page":77,"sentence":"Extinguished Time\nDuration between the detection of a forest fire the moment when the fire is completely put out and no longer\nposes a threat"},{"page":77,"sentence":"Data Cleaning and Transformation\nReading the file and converting the blank into NA\ndata1=fire_data\nStep 1: Identifying the targetted Variable:\nBelow are the list of variables which we are focusing to continue our statistical analysis for this problem\nstatement\n•Fire_Size ( in Hectares)\n•fire_start_date\n•discovered date\n•ex_fs_date -(Extinguished time)\n•assessment_datetime-(Actual Response Starts)\n30"},{"page":78,"sentence":"Step 2: Mapping the NA assessment_datetime,ex_fs_date\nIdentified the blank dates with the next earliest date for fire_start_date with Discovered_date, assessment\ndate with the arrival date in the fire control date,bh_fs_date"},{"page":78,"sentence":"Main Objective of this transformation is not\nto eliminate the data which will be really supporting our regression\ndata2 <- data1 %>%\nmutate (discovered_date = ifelse (discovered_date =='NA', reported_date, discovered_date),\nex_fs_date = ifelse (ex_fs_date =='NA', bh_fs_date, ex_fs_date),\nfire_start_date = ifelse (fire_start_date =='NA', discovered_date, fire_start_date),\nassessment_datetime = ifelse (assessment_datetime =='NA', ia_arrival_at_fire_date, assessment_datetime),\ndiscovered_date = ifelse (is"},{"page":78,"sentence":"na (discovered_date), reported_date, discovered_date),\nex_fs_date = ifelse (is"},{"page":78,"sentence":"na (ex_fs_date), bh_fs_date, ex_fs_date),\nfire_start_date = ifelse (is"},{"page":78,"sentence":"na (fire_start_date), discovered_date, fire_start_date),\nassessment_datetime = ifelse (is"},{"page":78,"sentence":"na (assessment_datetime), ia_arrival_at_fire_date, assessment_datetime))\nStep 3: Converting the date variables into date format\ndata2 $ex_fs_date <- as"},{"page":78,"sentence":"POSIXct (data2 $ex_fs_date, format = \"%Y-%m-%d %H:%M\", tz = \"America\/Edmonton\")\ndata2 $discovered_date <- as"},{"page":78,"sentence":"POSIXct (data2 $discovered_date, format = \"%Y-%m-%d %H:%M\", tz = \"America\/Edmonton\")\ndata2 $fire_start_date <- as"},{"page":78,"sentence":"POSIXct (data2 $fire_start_date, format = \"%Y-%m-%d %H:%M\", tz = \"America\/Edmonton\")\ndata2 $assessment_datetime <- as"},{"page":78,"sentence":"POSIXct (data2 $assessment_datetime, format = \"%Y-%m-%d %H:%M\", tz = \"America\/Edmonton\")\n# Check the classes after conversion\nclass (data2 $ex_fs_date)\n## [1] \"POSIXct\" \"POSIXt\"\nclass (data2 $fire_start_date)\n## [1] \"POSIXct\" \"POSIXt\"\nStep 4: Calculating the response and extinguished time in minutes\n•Responsetime = assessment_datetime-fire_start_date\n•Exttime= ex_fs_date-fire_start_date\n# Calculate response time and ext time in minutes\ndata2 $Responsetime <- as"},{"page":78,"sentence":"numeric (difftime (data2 $assessment_datetime, data2 $fire_start_date, units = \"mins\"))\ndata2 $Exttime <- as"},{"page":78,"sentence":"numeric (difftime (data2 $ex_fs_date, data2 $fire_start_date, units = \"mins\"))\nStep 5: Logarthimic Transformation\n•Performed a log linear transformation on the dependent variables(current_size,Responsetime,Exttime)\ndata2 $current_size= log10 (data2 $current_size)\ndata2 $Responsetime= log10 (data2 $Responsetime)\ndata2 $Exttime= log10 (data2 $Exttime)\n31"},{"page":79,"sentence":"Step 6: Filtering Variables\n-Filtering Out the required variables to continue with the further regression analysis of the size and the times\nwhich we are targetting to produce the correlation"},{"page":79,"sentence":"‘\ndata_filtered<- data2 %>%\nselect (fire_number, fire_year, current_size, Responsetime, Exttime)\nhead (data_filtered)\n## fire_number fire_year current_size Responsetime Exttime\n## 1 PWF001 2006 -1"},{"page":79,"sentence":"00000 2"},{"page":79,"sentence":"778151 3"},{"page":79,"sentence":"127105\n## 2 EWF002 2006 -0"},{"page":79,"sentence":"69897 1"},{"page":79,"sentence":"845098 2"},{"page":79,"sentence":"041393\n## 3 EWF001 2006 -0"},{"page":79,"sentence":"30103 1"},{"page":79,"sentence":"832509 2"},{"page":79,"sentence":"217484\n## 4 EWF003 2006 -2"},{"page":79,"sentence":"00000 2"},{"page":79,"sentence":"071882 2"},{"page":79,"sentence":"243038\n## 5 PWF002 2006 -1"},{"page":79,"sentence":"00000 2"},{"page":79,"sentence":"247973 3"},{"page":79,"sentence":"394101\n## 6 CWF001 2006 -0"},{"page":79,"sentence":"69897 1"},{"page":79,"sentence":"977724 3"},{"page":79,"sentence":"218798\nStep 6: Calulating the mean response time and extinguished time\n•To continue analysis of the newly derived variables and conducting analysis, we performed grouping\nthe time with respect to the affected size and storing it into different data frames\n•result1 - (Response Time)\n•result2 - (Extinguished Time)\nBelow are the cleaned data set which are going to be in our further regression Analysis\nresult1 <- data2 %>%\ngroup_by (current_size) %>%\nsummarise (\nmeanresponsetime = mean (Responsetime),\n)\nresult1 <- result1 %>%\nfilter (!is"},{"page":79,"sentence":"na (meanresponsetime), !is"},{"page":79,"sentence":"infinite (meanresponsetime),\n!is"},{"page":79,"sentence":"na (current_size), !is"},{"page":79,"sentence":"infinite (current_size))\nresult2 <- data2 %>%\ngroup_by (current_size) %>%\nsummarise (\nmeanExttime = mean (Exttime),\n)%>%\narrange (meanExttime)\nresult2 <- result2 %>%\nfilter (!is"},{"page":79,"sentence":"na (meanExttime), !is"},{"page":79,"sentence":"infinite (meanExttime),\n!is"},{"page":79,"sentence":"na (current_size), !is"},{"page":79,"sentence":"infinite (current_size))\ncat(\"Data Frame for Response Time\")\n## Data Frame for Response Time\n32"},{"page":80,"sentence":"head (result1)\n## # A tibble: 6 x 2\n## current_size meanresponsetime\n## <dbl> <dbl>\n## 1 -1"},{"page":80,"sentence":"52 2"},{"page":80,"sentence":"34\n## 2 -1"},{"page":80,"sentence":"40 2"},{"page":80,"sentence":"41\n## 3 -1"},{"page":80,"sentence":"22 2"},{"page":80,"sentence":"57\n## 4 -1"},{"page":80,"sentence":"10 2"},{"page":80,"sentence":"38\n## 5 -1"},{"page":80,"sentence":"05 2"},{"page":80,"sentence":"45\n## 6 -0"},{"page":80,"sentence":"959 2"},{"page":80,"sentence":"25\nsummary (result1)\n## current_size meanresponsetime\n## Min"},{"page":80,"sentence":":-1"},{"page":80,"sentence":"5229 Min"},{"page":80,"sentence":":0"},{"page":80,"sentence":"4771\n## 1st Qu"},{"page":80,"sentence":": 0"},{"page":80,"sentence":"7846 1st Qu"},{"page":80,"sentence":":1"},{"page":80,"sentence":"7482\n## Median : 1"},{"page":80,"sentence":"5428 Median :2"},{"page":80,"sentence":"1533\n## Mean : 1"},{"page":80,"sentence":"7219 Mean :2"},{"page":80,"sentence":"3599\n## 3rd Qu"},{"page":80,"sentence":": 2"},{"page":80,"sentence":"5152 3rd Qu"},{"page":80,"sentence":":2"},{"page":80,"sentence":"9807\n## Max"},{"page":80,"sentence":": 5"},{"page":80,"sentence":"7617 Max"},{"page":80,"sentence":":6"},{"page":80,"sentence":"0263\ncat(\""},{"page":80,"sentence":"\\n\")\n##"},{"page":80,"sentence":"cat(\"Data Frame for Extinquished Time\")\n## Data Frame for Extinquished Time\nhead (result2)\n## # A tibble: 6 x 2\n## current_size meanExttime\n## <dbl> <dbl>\n## 1 4"},{"page":80,"sentence":"08 1"},{"page":80,"sentence":"99\n## 2 0"},{"page":80,"sentence":"420 2"},{"page":80,"sentence":"05\n## 3 0"},{"page":80,"sentence":"897 2"},{"page":80,"sentence":"06\n## 4 0"},{"page":80,"sentence":"185 2"},{"page":80,"sentence":"11\n## 5 0"},{"page":80,"sentence":"246 2"},{"page":80,"sentence":"13\n## 6 0"},{"page":80,"sentence":"117 2"},{"page":80,"sentence":"14\nsummary (result2)\n## current_size meanExttime\n## Min"},{"page":80,"sentence":":-1"},{"page":80,"sentence":"6990 Min"},{"page":80,"sentence":":1"},{"page":80,"sentence":"987\n## 1st Qu"},{"page":80,"sentence":": 0"},{"page":80,"sentence":"7645 1st Qu"},{"page":80,"sentence":":3"},{"page":80,"sentence":"650\n## Median : 1"},{"page":80,"sentence":"5358 Median :4"},{"page":80,"sentence":"191\n## Mean : 1"},{"page":80,"sentence":"7056 Mean :4"},{"page":80,"sentence":"200\n## 3rd Qu"},{"page":80,"sentence":": 2"},{"page":80,"sentence":"5110 3rd Qu"},{"page":80,"sentence":":4"},{"page":80,"sentence":"759\n## Max"},{"page":80,"sentence":": 5"},{"page":80,"sentence":"7617 Max"},{"page":80,"sentence":":6"},{"page":80,"sentence":"031\n33"},{"page":81,"sentence":"Regression Analysis\nPlotted the scattered plots to validate the density of the variables being analyzed\nggplot1= ( ggplot (result1, aes(x=meanresponsetime, y = current_size)) +\ngeom_point (color = \"red\") +\nstat_smooth (method = \"lm\", formula = y ~x, geom = \"smooth\") +\nlabs (title = \"Scatter plot of Average Response Time and current_size\",\nx = \"Response Time\", y =\"Average current_size\"))\nggplot1\n0246\n2 4 6\nResponse TimeAverage current_sizeScatter plot of Average Response Time and current_size\nInference:\n-Positivelineartrend"},{"page":81,"sentence":"Responsetimeincreases,thecurrentsizealsoslightlyincreases,thoughtherelationship\nseems weak (the slope of the line is small)"},{"page":81,"sentence":"-Data points (in red) are densely scattered, with many points clustering around lower response times and a\ncurrent size"},{"page":81,"sentence":"However, there are a few points that deviate significantly from this dense cluster, especially for\nhigher response times and current sizes"},{"page":81,"sentence":"ggplot2 =( ggplot (result2, aes(x=meanExttime, y = current_size)) +\ngeom_point (color = \"red\") +\nstat_smooth (method = \"lm\", formula = y ~x, geom = \"smooth\") +\nlabs (title = \"Scatter plot of Average Extinguished time and Average current_size\",\n34"},{"page":82,"sentence":"x = \"Extinguished time\", y =\"Average current_size\"))\nggplot2\n−20246\n2 3 4 5 6\nExtinguished timeAverage current_sizeScatter plot of Average Extinguished time and Average current_size\n### Inference:\n-Strong Positive Trend -Slope of the line is noticeably steeper compared to the response time plot, indicating\nthat changes in extinguished time have a more pronounced effect on the average current size"},{"page":82,"sentence":"Generating Models and Intreprating the Model Summary with Hypothesis Test\nMean Response Time\n-Null Hypothesis (H0): There is no relationship between the Response time and Average current_size"},{"page":82,"sentence":"-Alternative Hypothesis (Ha): There is a relationship between the Response time and Average current_size"},{"page":82,"sentence":"model_clean1 = lm(current_size ~meanresponsetime, data = result1)\nsummary (model_clean1)\n##\n## Call:\n## lm(formula = current_size ~ meanresponsetime, data = result1)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -3"},{"page":82,"sentence":"2433 -0"},{"page":82,"sentence":"9376 -0"},{"page":82,"sentence":"1591 0"},{"page":82,"sentence":"7704 3"},{"page":82,"sentence":"9218\n35"},{"page":83,"sentence":"##\n## Coefficients:\n## Estimate Std"},{"page":83,"sentence":"Error t value Pr(>|t|)\n## (Intercept) 1"},{"page":83,"sentence":"52463 0"},{"page":83,"sentence":"09867 15"},{"page":83,"sentence":"451 <2e-16 ***\n## meanresponsetime 0"},{"page":83,"sentence":"08359 0"},{"page":83,"sentence":"03937 2"},{"page":83,"sentence":"123 0"},{"page":83,"sentence":"0339 *\n## ---\n## Signif"},{"page":83,"sentence":"codes: 0 ’***’ 0"},{"page":83,"sentence":"001 ’**’ 0"},{"page":83,"sentence":"01 ’*’ 0"},{"page":83,"sentence":"05 ’"},{"page":83,"sentence":"’ 0"},{"page":83,"sentence":"1 ’ ’ 1\n##\n## Residual standard error: 1"},{"page":83,"sentence":"274 on 1465 degrees of freedom\n## Multiple R-squared: 0"},{"page":83,"sentence":"003068, Adjusted R-squared: 0"},{"page":83,"sentence":"002388\n## F-statistic: 4"},{"page":83,"sentence":"509 on 1 and 1465 DF, p-value: 0"},{"page":83,"sentence":"03388\nInterpretation:\np-value of 0"},{"page":83,"sentence":"03388 relationship between meanresponsetime and current_size is statistically significant at the\n5% significance level (p < 0"},{"page":83,"sentence":"05)\nModel Fit:\nR-squared value of 0"},{"page":83,"sentence":"002388 indicates a Low Fit"},{"page":83,"sentence":"Extinquished Time\n-Null Hypothesis (H0): There is no relationship between the Extinguished time and Average current_size"},{"page":83,"sentence":"-Alternative Hypothesis (Ha): There is a relationship between the Extinguished time and Average cur-\nrent_size"},{"page":83,"sentence":"model_clean2 = lm(current_size ~meanExttime, data = result2)\nsummary (model_clean2)\n##\n## Call:\n## lm(formula = current_size ~ meanExttime, data = result2)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -2"},{"page":83,"sentence":"9340 -0"},{"page":83,"sentence":"5563 -0"},{"page":83,"sentence":"0782 0"},{"page":83,"sentence":"4719 5"},{"page":83,"sentence":"1584\n##\n## Coefficients:\n## Estimate Std"},{"page":83,"sentence":"Error t value Pr(>|t|)\n## (Intercept) -3"},{"page":83,"sentence":"57474 0"},{"page":83,"sentence":"12930 -27"},{"page":83,"sentence":"65 <2e-16 ***\n## meanExttime 1"},{"page":83,"sentence":"25715 0"},{"page":83,"sentence":"03031 41"},{"page":83,"sentence":"48 <2e-16 ***\n## ---\n## Signif"},{"page":83,"sentence":"codes: 0 ’***’ 0"},{"page":83,"sentence":"001 ’**’ 0"},{"page":83,"sentence":"01 ’*’ 0"},{"page":83,"sentence":"05 ’"},{"page":83,"sentence":"’ 0"},{"page":83,"sentence":"1 ’ ’ 1\n##\n## Residual standard error: 0"},{"page":83,"sentence":"8741 on 1480 degrees of freedom\n## Multiple R-squared: 0"},{"page":83,"sentence":"5376, Adjusted R-squared: 0"},{"page":83,"sentence":"5373\n## F-statistic: 1721 on 1 and 1480 DF, p-value: < 2"},{"page":83,"sentence":"2e-16\n36"},{"page":84,"sentence":"Interpretation:\np-value of 2"},{"page":84,"sentence":"2e-16 is extremely low, indicating strong evidence against the null hypothesis means that Re-\nsponse time has significant effect on the Size of the forest impact\nModel Fit:\nR-squared: 0"},{"page":84,"sentence":"5373 of the variance in current_size which indicates a moderate fit\nAnalyzing the Normal Distribution - QQ Plot for Response Time\nqqnorm (model_clean1 $residuals)\nqqline (model_clean1 $residuals, col = \"red\")\n−3 −2 −1 0 1 2 3−3−2−101234Normal Q−Q Plot\nTheoretical QuantilesSample Quantiles\n### Interpretation: - Model appears to follow a normal distribution reasonably well"},{"page":84,"sentence":"- Some deviations\nat the extreme ends (in the tails) may indicate slight departures from normality, possibly showing mild\noutliers or heavier tails than a normal distribution\nAnalyzing the Normal Distribution - QQ Plot for Extinquished Time\nqqnorm (model_clean2 $residuals)\nqqline (model_clean2 $residuals, col = \"red\")\n37"},{"page":85,"sentence":"−3 −2 −1 0 1 2 3−2024Normal Q−Q Plot\nTheoretical QuantilesSample QuantilesInterpretation:\n•Model is approximately normal\n•Model may have heavier tails or more extreme values than would be expected in a normal distribution-\nWhen the extinguished time increases there will be huge impact on the affected area\nAnalyzing the Normal Distribution - Residual Plot for Response Time\nplot (model_clean1 $fitted"},{"page":85,"sentence":"values, model_clean1 $residuals)\nabline (h = 0, col = \"red\")\n38"},{"page":86,"sentence":"1"},{"page":86,"sentence":"6 1"},{"page":86,"sentence":"7 1"},{"page":86,"sentence":"8 1"},{"page":86,"sentence":"9 2"},{"page":86,"sentence":"0−3−2−101234\nmodel_clean1$fitted"},{"page":86,"sentence":"valuesmodel_clean1$residuals### Inference: -Residuals seem to be randomly scattered around the horizontal line at zero though there\nare many outliers in the data set\nAnalyzing the Normal Distribution - Residual Plot for Extinguished Time\nplot (model_clean2 $fitted"},{"page":86,"sentence":"values, model_clean2 $residuals)\nabline (h = 0, col = \"red\")\n39"},{"page":87,"sentence":"−1 0 1 2 3 4−2024\nmodel_clean2$fitted"},{"page":87,"sentence":"valuesmodel_clean2$residuals### Inference: -Residuals are centered around zero, which is a good sign for a well-fitted model and shows\nthe strong relationship between time and size\nConclusion\n-Overall, Models of Response and Extinguished time has a significant relationship between the affected area\n- size"},{"page":87,"sentence":"-However, the Extinguished Time Model which shows the strong relationship with the relatively low p-value\n-Hence improving the Response and extinguished time of a forest fire involving with following strategies\nideally impact the size of the forest being affected\n-Early detection,Rapid response,Effective firefighting techniques,Training and Coordination & Public aware-\nness\nQuestion 4 - Does Fire Size Relate To The Weather Conditions When The Fire Starts\nThe relationship I will be investigating is if there a potential relationship between the recorded fires size\nonce under control and the weather that was present during the fires start"},{"page":87,"sentence":"I will have uc_hectares as my\ndependent variable and I will use a multivariable regression with the temperature, relative humidity, and\nwind speed as the independent variables"},{"page":87,"sentence":"#assign initial dataset to a new dataset, to prevent errors with preexisting code for the other questions\ndata1=fire_data\n40"},{"page":88,"sentence":"EDA\nhead (data1)\n## fire_year fire_number fire_name current_size size_class\n## 1 2006 PWF001 <NA> 0"},{"page":88,"sentence":"10 A\n## 2 2006 EWF002 <NA> 0"},{"page":88,"sentence":"20 B\n## 3 2006 EWF001 <NA> 0"},{"page":88,"sentence":"50 B\n## 4 2006 EWF003 <NA> 0"},{"page":88,"sentence":"01 A\n## 5 2006 PWF002 <NA> 0"},{"page":88,"sentence":"10 A\n## 6 2006 CWF001 <NA> 0"},{"page":88,"sentence":"20 B\n## fire_location_latitude fire_location_longitude fire_origin\n## 1 56"},{"page":88,"sentence":"24996 -117"},{"page":88,"sentence":"1820 Private Land\n## 2 53"},{"page":88,"sentence":"60637 -115"},{"page":88,"sentence":"9157 Provincial Land\n## 3 53"},{"page":88,"sentence":"61093 -115"},{"page":88,"sentence":"5943 Provincial Land\n## 4 53"},{"page":88,"sentence":"60887 -115"},{"page":88,"sentence":"6095 Provincial Land\n## 5 56"},{"page":88,"sentence":"24996 -117"},{"page":88,"sentence":"0502 Provincial Land\n## 6 51"},{"page":88,"sentence":"15293 -115"},{"page":88,"sentence":"0346 Indian Reservation\n## general_cause_desc industry_identifier_desc responsible_group_desc\n## 1 Resident <NA> Resident\n## 2 Incendiary <NA> Others (explain in remarks)\n## 3 Incendiary <NA> Others (explain in remarks)\n## 4 Incendiary <NA> Others (explain in remarks)\n## 5 Other Industry Waste Disposal Employees\n## 6 Resident <NA> Resident\n## activity_class true_cause fire_start_date det_agent_type det_agent\n## 1 Grass Permit Related 2006-04-02 12:00 UNP 310\n## 2 Lighting Fires Arson Suspected 2006-04-03 12:10 UNP 310\n## 3 Lighting Fires Arson Suspected 2006-04-03 12:15 UNP 310\n## 4 Lighting Fires Arson Suspected 2006-04-03 12:10 UNP PUB\n## 5 Refuse Permit Related 2006-04-03 17:00 UNP LFS\n## 6 Unclassified Unsafe Fire 2006-04-02 14:25 UNP 310\n## discovered_date discovered_size reported_date dispatched_resource\n## 1 <NA> NA 2006-04-02 20:46 FPD Staff\n## 2 <NA> NA 2006-04-03 12:27 FPD Staff\n## 3 <NA> NA 2006-04-03 12:36 FPD Staff\n## 4 <NA> NA 2006-04-03 13:23 FPD Staff\n## 5 2006-04-03 19:11 NA 2006-04-03 19:12 FPD Staff\n## 6 2006-04-02 14:27 NA 2006-04-02 14:30 FPD Staff\n## dispatch_date start_for_fire_date assessment_resource assessment_datetime\n## 1 2006-04-02 21:10 2006-04-02 21:20 IA Forces 2006-04-02 22:00\n## 2 2006-04-03 12:33 2006-04-03 12:35 IA Forces 2006-04-03 13:20\n## 3 2006-04-03 12:36 2006-04-03 12:42 IA Forces 2006-04-03 13:23\n## 4 2006-04-03 13:50 2006-04-03 13:50 IA Forces 2006-04-03 14:08\n## 5 2006-04-03 19:19 2006-04-03 19:22 Other 2006-04-03 19:57\n## 6 2006-04-02 14:40 2006-04-02 14:45 IA Forces 2006-04-02 16:00\n## assessment_hectares fire_spread_rate fire_type fire_position_on_slope\n## 1 0"},{"page":88,"sentence":"01 0"},{"page":88,"sentence":"0 Surface Flat\n## 2 0"},{"page":88,"sentence":"20 0"},{"page":88,"sentence":"0 Surface Lower 1\/3\n## 3 0"},{"page":88,"sentence":"50 0"},{"page":88,"sentence":"0 Surface Bottom\n## 4 0"},{"page":88,"sentence":"01 0"},{"page":88,"sentence":"0 Surface Flat\n## 5 0"},{"page":88,"sentence":"10 0"},{"page":88,"sentence":"1 Surface Flat\n## 6 0"},{"page":88,"sentence":"20 0"},{"page":88,"sentence":"0 Surface Flat\n41"},{"page":89,"sentence":"## weather_conditions_over_fire temperature relative_humidity wind_direction\n## 1 Clear 18 10 SW\n## 2 Clear 12 22 SW\n## 3 Clear 12 22 SW\n## 4 Clear 12 22 SW\n## 5 Clear 6 37 SW\n## 6 Clear 11 32 S\n## wind_speed fuel_type initial_action_by ia_arrival_at_fire_date ia_access\n## 1 2 O1a Land Owner <NA> <NA>\n## 2 10 O1a Fire Department <NA> <NA>\n## 3 10 O1a Fire Department <NA> <NA>\n## 4 10 O1b Industry <NA> <NA>\n## 5 2 <NA> Fire Department <NA> <NA>\n## 6 20 O1b Fire Department <NA> <NA>\n## fire_fighting_start_date fire_fighting_start_size bucketing_on_fire\n## 1 <NA> NA <NA>\n## 2 <NA> NA <NA>\n## 3 <NA> NA <NA>\n## 4 <NA> NA <NA>\n## 5 <NA> NA <NA>\n## 6 <NA> NA <NA>\n## distance_from_water_source first_bucket_drop_date bh_fs_date\n## 1 NA <NA> 2006-04-02 22:00\n## 2 NA <NA> 2006-04-03 13:20\n## 3 NA <NA> 2006-04-03 13:23\n## 4 NA <NA> 2006-04-03 14:08\n## 5 NA <NA> 2006-04-03 19:57\n## 6 NA <NA> 2006-04-02 16:00\n## bh_hectares uc_fs_date uc_hectares to_fs_date to_hectares\n## 1 0"},{"page":89,"sentence":"01 2006-04-02 22:00 0"},{"page":89,"sentence":"01 <NA> NA\n## 2 0"},{"page":89,"sentence":"20 2006-04-03 13:20 0"},{"page":89,"sentence":"20 <NA> NA\n## 3 0"},{"page":89,"sentence":"50 2006-04-03 13:23 0"},{"page":89,"sentence":"50 <NA> NA\n## 4 0"},{"page":89,"sentence":"01 2006-04-03 14:08 0"},{"page":89,"sentence":"01 <NA> NA\n## 5 0"},{"page":89,"sentence":"10 2006-04-03 20:19 0"},{"page":89,"sentence":"10 2006-04-03 20:20 0"},{"page":89,"sentence":"1\n## 6 0"},{"page":89,"sentence":"20 2006-04-02 16:00 0"},{"page":89,"sentence":"20 <NA> NA\n## ex_fs_date ex_hectares\n## 1 2006-04-03 10:20 0"},{"page":89,"sentence":"10\n## 2 2006-04-03 14:00 0"},{"page":89,"sentence":"20\n## 3 2006-04-03 15:00 0"},{"page":89,"sentence":"50\n## 4 2006-04-03 15:05 0"},{"page":89,"sentence":"01\n## 5 2006-04-05 10:18 0"},{"page":89,"sentence":"10\n## 6 2006-04-03 18:00 0"},{"page":89,"sentence":"20\nBased off of the potential relationship I wish to investigate I will create a new data frame with the columns\nof interest"},{"page":89,"sentence":"reg_df= data"},{"page":89,"sentence":"frame (uc_hectares=data1 $uc_hectares,temperature=data1 $temperature,relative_humidity=data1 $relative_humidity,wind_speed=data1 $wind_speed)\nsummary (reg_df)\n## uc_hectares temperature relative_humidity wind_speed\n## Min"},{"page":89,"sentence":": 0"},{"page":89,"sentence":"0 Min"},{"page":89,"sentence":":-39"},{"page":89,"sentence":"00 Min"},{"page":89,"sentence":": 0"},{"page":89,"sentence":"00 Min"},{"page":89,"sentence":": 0"},{"page":89,"sentence":"000\n## 1st Qu"},{"page":89,"sentence":": 0"},{"page":89,"sentence":"0 1st Qu"},{"page":89,"sentence":": 14"},{"page":89,"sentence":"00 1st Qu"},{"page":89,"sentence":": 31"},{"page":89,"sentence":"00 1st Qu"},{"page":89,"sentence":": 3"},{"page":89,"sentence":"000\n## Median : 0"},{"page":89,"sentence":"0 Median : 19"},{"page":89,"sentence":"00 Median : 40"},{"page":89,"sentence":"00 Median : 6"},{"page":89,"sentence":"000\n42"},{"page":90,"sentence":"## Mean : 245"},{"page":90,"sentence":"6 Mean : 17"},{"page":90,"sentence":"85 Mean : 45"},{"page":90,"sentence":"38 Mean : 8"},{"page":90,"sentence":"813\n## 3rd Qu"},{"page":90,"sentence":": 0"},{"page":90,"sentence":"3 3rd Qu"},{"page":90,"sentence":": 23"},{"page":90,"sentence":"00 3rd Qu"},{"page":90,"sentence":": 56"},{"page":90,"sentence":"00 3rd Qu"},{"page":90,"sentence":":12"},{"page":90,"sentence":"000\n## Max"},{"page":90,"sentence":":707648"},{"page":90,"sentence":"0 Max"},{"page":90,"sentence":": 39"},{"page":90,"sentence":"90 Max"},{"page":90,"sentence":":100"},{"page":90,"sentence":"00 Max"},{"page":90,"sentence":":90"},{"page":90,"sentence":"000\n## NA’s :2820 NA’s :2822 NA’s :2823\nBased off of the summary stats the dependent variable uc_hectares seems to be strongly skewed"},{"page":90,"sentence":"To explore\nthe data I will create histograms to display the data’s distributuion"},{"page":90,"sentence":"ggplot (data = reg_df, aes(x = uc_hectares)) +\ngeom_histogram (color= 'blue ')\n## ‘stat_bin()‘ using ‘bins = 30‘"},{"page":90,"sentence":"Pick better value with ‘binwidth‘"},{"page":90,"sentence":"0500010000150002000025000\n0e+00 2e+05 4e+05 6e+05\nuc_hectarescount\nggplot (data = reg_df, aes(x = temperature)) +\ngeom_histogram (color= 'blue ')\n## ‘stat_bin()‘ using ‘bins = 30‘"},{"page":90,"sentence":"Pick better value with ‘binwidth‘"},{"page":90,"sentence":"## Warning: Removed 2820 rows containing non-finite outside the scale range\n## (‘stat_bin()‘)"},{"page":90,"sentence":"43"},{"page":91,"sentence":"01000200030004000\n−25 0 25\ntemperaturecountggplot (data = reg_df, aes(x = relative_humidity)) +\ngeom_histogram (color= 'blue ')\n## ‘stat_bin()‘ using ‘bins = 30‘"},{"page":91,"sentence":"Pick better value with ‘binwidth‘"},{"page":91,"sentence":"## Warning: Removed 2822 rows containing non-finite outside the scale range\n## (‘stat_bin()‘)"},{"page":91,"sentence":"44"},{"page":92,"sentence":"010002000\n0 25 50 75 100\nrelative_humiditycountggplot (data = reg_df, aes(x = wind_speed)) +\ngeom_histogram (color= 'blue ')\n## ‘stat_bin()‘ using ‘bins = 30‘"},{"page":92,"sentence":"Pick better value with ‘binwidth‘"},{"page":92,"sentence":"## Warning: Removed 2823 rows containing non-finite outside the scale range\n## (‘stat_bin()‘)"},{"page":92,"sentence":"45"},{"page":93,"sentence":"020004000\n0 25 50 75\nwind_speedcountUnsurprisingly the distribution of the uc_hectares variable is greatly skewed confirming what could be seen\nin the summary statistics"},{"page":93,"sentence":"Regression Analysis\nreglarge= lm(formula=reg_df $uc_hectares ~reg_df $temperature +reg_df $relative_humidity +reg_df $wind_speed)\nsummary (reglarge)\n##\n## Call:\n## lm(formula = reg_df$uc_hectares ~ reg_df$temperature + reg_df$relative_humidity +\n## reg_df$wind_speed)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -3902 -479 -220 29 705357\n##\n## Coefficients:\n## Estimate Std"},{"page":93,"sentence":"Error t value Pr(>|t|)\n## (Intercept) -279"},{"page":93,"sentence":"842 229"},{"page":93,"sentence":"400 -1"},{"page":93,"sentence":"220 0"},{"page":93,"sentence":"222521\n## reg_df$temperature 23"},{"page":93,"sentence":"514 7"},{"page":93,"sentence":"070 3"},{"page":93,"sentence":"326 0"},{"page":93,"sentence":"000883 ***\n## reg_df$relative_humidity -5"},{"page":93,"sentence":"442 2"},{"page":93,"sentence":"927 -1"},{"page":93,"sentence":"860 0"},{"page":93,"sentence":"062956"},{"page":93,"sentence":"## reg_df$wind_speed 42"},{"page":93,"sentence":"551 6"},{"page":93,"sentence":"231 6"},{"page":93,"sentence":"829 8"},{"page":93,"sentence":"76e-12 ***\n## ---\n## Signif"},{"page":93,"sentence":"codes: 0 ’***’ 0"},{"page":93,"sentence":"001 ’**’ 0"},{"page":93,"sentence":"01 ’*’ 0"},{"page":93,"sentence":"05 ’"},{"page":93,"sentence":"’ 0"},{"page":93,"sentence":"1 ’ ’ 1\n46"},{"page":94,"sentence":"##\n## Residual standard error: 7734 on 22492 degrees of freedom\n## (2825 observations deleted due to missingness)\n## Multiple R-squared: 0"},{"page":94,"sentence":"003188, Adjusted R-squared: 0"},{"page":94,"sentence":"003055\n## F-statistic: 23"},{"page":94,"sentence":"98 on 3 and 22492 DF, p-value: 1"},{"page":94,"sentence":"733e-15\nTostartI’llstatethehypothesistestforallcoefficients, H0: B=0Thecoefficientinquestionisnotstatistically\nsignificant from 0 H1: B!=0 The coefficient is statistically significant from 0\nThe intercept is -279"},{"page":94,"sentence":"8 hectares if all other variables are 0 which does not make sense and it is unsurprisingly\nnot significant with a P value of 0"},{"page":94,"sentence":"22 so we cannot reject the null hypothesis"},{"page":94,"sentence":"The coefficient for temperature,\n23"},{"page":94,"sentence":"5hectaresperdegreeincreaseintemperaturehasaPvalueof0"},{"page":94,"sentence":"00088allowingustostatethatissignificant\nand we can reject the null hypothesis"},{"page":94,"sentence":"The coefficient for relative humidity is -5"},{"page":94,"sentence":"44 hectares per %increase\nin humidity, with a P value of 0"},{"page":94,"sentence":"062 the coefficient is not significant at the 5% level but is close"},{"page":94,"sentence":"Under the\nstated hypothesis test we cannot reject the null hypothesis"},{"page":94,"sentence":"Lastly The coefficient for wind speed is 42"},{"page":94,"sentence":"5\nhectares burned per 1 kilometer per hour increase"},{"page":94,"sentence":"With a P value of near 0 the coefficient is significant and\nwe can reject the null hypothesis"},{"page":94,"sentence":"With an adj R-squared of 0"},{"page":94,"sentence":"003055 indicating the regression only explains 0"},{"page":94,"sentence":"32% of variation in uc_hectares\nis explained by this model, this indicates that the estimated model is likely a very poor fit for the data"},{"page":94,"sentence":"reg_cor= round (cor(reg_df,use = \"complete"},{"page":94,"sentence":"obs\"), 2)\nreg_cor\n## uc_hectares temperature relative_humidity wind_speed\n## uc_hectares 1"},{"page":94,"sentence":"00 0"},{"page":94,"sentence":"03 -0"},{"page":94,"sentence":"03 0"},{"page":94,"sentence":"05\n## temperature 0"},{"page":94,"sentence":"03 1"},{"page":94,"sentence":"00 -0"},{"page":94,"sentence":"28 -0"},{"page":94,"sentence":"02\n## relative_humidity -0"},{"page":94,"sentence":"03 -0"},{"page":94,"sentence":"28 1"},{"page":94,"sentence":"00 -0"},{"page":94,"sentence":"17\n## wind_speed 0"},{"page":94,"sentence":"05 -0"},{"page":94,"sentence":"02 -0"},{"page":94,"sentence":"17 1"},{"page":94,"sentence":"00\nFrom the correlation matrix we can see that there is very little correlation between uc_hectares and any of\nthe independent variables"},{"page":94,"sentence":"To better visualize this I will create scatter plots with estimated models for each\nindependent variable and uc_hectares as visualizing a multivariate regression model is difficult"},{"page":94,"sentence":"ggplot (reg_df, aes(x=temperature, y=uc_hectares )) +\ngeom_point (color = \"red\") + stat_smooth (method = \"lm\",\nformula = y ~x, geom = \"smooth\")\n## Warning: Removed 2820 rows containing non-finite outside the scale range\n## (‘stat_smooth()‘)"},{"page":94,"sentence":"## Warning: Removed 2820 rows containing missing values or values outside the scale range\n## (‘geom_point()‘)"},{"page":94,"sentence":"47"},{"page":95,"sentence":"0e+002e+054e+056e+05\n−40 −20 0 20 40\ntemperatureuc_hectaresggplot (reg_df, aes(x=relative_humidity, y=uc_hectares )) +\ngeom_point (color = \"red\") + stat_smooth (method = \"lm\",\nformula = y ~x, geom = \"smooth\")\n## Warning: Removed 2822 rows containing non-finite outside the scale range\n## (‘stat_smooth()‘)"},{"page":95,"sentence":"## Warning: Removed 2822 rows containing missing values or values outside the scale range\n## (‘geom_point()‘)"},{"page":95,"sentence":"48"},{"page":96,"sentence":"0e+002e+054e+056e+05\n0 25 50 75 100\nrelative_humidityuc_hectaresggplot (reg_df, aes(x=wind_speed, y=uc_hectares)) +\ngeom_point (color = \"red\") + stat_smooth (method = \"lm\",\nformula = y ~x, geom = \"smooth\")\n## Warning: Removed 2823 rows containing non-finite outside the scale range\n## (‘stat_smooth()‘)"},{"page":96,"sentence":"## Warning: Removed 2823 rows containing missing values or values outside the scale range\n## (‘geom_point()‘)"},{"page":96,"sentence":"49"},{"page":97,"sentence":"0e+002e+054e+056e+05\n0 25 50 75\nwind_speeduc_hectaresplot (lm(formula=data1 $uc_hectares ~data1 $temperature +data1 $relative_humidity +data1 $wind_speed))\n50"},{"page":98,"sentence":"−1000 0 1000 2000 3000 40000e+00 4e+05\nFitted valuesResiduals\nlm(data1$uc_hectares ~ data1$temperature + data1$relative_humidity + data1$"},{"page":98,"sentence":"Residuals vs Fitted\n8026\n15583\n2077751"},{"page":99,"sentence":"−4 −2 0 2 4020406080100\nTheoretical QuantilesStandardized residuals\nlm(data1$uc_hectares ~ data1$temperature + data1$relative_humidity + data1$"},{"page":99,"sentence":"Q−Q Residuals\n8026\n15583\n2077752"},{"page":100,"sentence":"−1000 0 1000 2000 3000 400002468\nFitted valuesStandardized residuals\nlm(data1$uc_hectares ~ data1$temperature + data1$relative_humidity + data1$"},{"page":100,"sentence":"Scale−Location\n8026\n15583\n2077753"},{"page":101,"sentence":"0"},{"page":101,"sentence":"000 0"},{"page":101,"sentence":"001 0"},{"page":101,"sentence":"002 0"},{"page":101,"sentence":"003 0"},{"page":101,"sentence":"004020406080100\nLeverageStandardized residuals\nlm(data1$uc_hectares ~ data1$temperature + data1$relative_humidity + data1$"},{"page":101,"sentence":"Cook's distance0"},{"page":101,"sentence":"51Residuals vs Leverage\n8026\n2077715583The plots above show that the residuals are not independent or normally distributed"},{"page":101,"sentence":"The first plot shows\nthat there are some large outliers in the data and the normality plot also shows that the the residuals are\nnot normally distributed"},{"page":101,"sentence":"This indicates that the model is likely unreliable"},{"page":101,"sentence":"A log log transformation could\nperhaps improve this somewhat"},{"page":101,"sentence":"reg_dflog= data"},{"page":101,"sentence":"frame (uc_hectares= log10 (data1 $uc_hectares),temperature=data1 $temperature,relative_humidity=data1 $relative_humidity,wind_speed=data1 $wind_speed)\nreglog= lm(formula=reg_dflog $uc_hectares ~reg_dflog $temperature +reg_dflog $relative_humidity +reg_dflog $wind_speed)\nsummary (reglog)\n##\n## Call:\n## lm(formula = reg_dflog$uc_hectares ~ reg_dflog$temperature +\n## reg_dflog$relative_humidity + reg_dflog$wind_speed)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -3"},{"page":101,"sentence":"1129 -0"},{"page":101,"sentence":"8514 -0"},{"page":101,"sentence":"2214 0"},{"page":101,"sentence":"6036 6"},{"page":101,"sentence":"4842\n##\n## Coefficients:\n## Estimate Std"},{"page":101,"sentence":"Error t value Pr(>|t|)\n## (Intercept) -1"},{"page":101,"sentence":"2367098 0"},{"page":101,"sentence":"0328594 -37"},{"page":101,"sentence":"64 <2e-16 ***\n## reg_dflog$temperature 0"},{"page":101,"sentence":"0193262 0"},{"page":101,"sentence":"0010127 19"},{"page":101,"sentence":"08 <2e-16 ***\n## reg_dflog$relative_humidity -0"},{"page":101,"sentence":"0079249 0"},{"page":101,"sentence":"0004192 -18"},{"page":101,"sentence":"91 <2e-16 ***\n## reg_dflog$wind_speed 0"},{"page":101,"sentence":"0256644 0"},{"page":101,"sentence":"0008925 28"},{"page":101,"sentence":"76 <2e-16 ***\n## ---\n54"},{"page":102,"sentence":"## Signif"},{"page":102,"sentence":"codes: 0 ’***’ 0"},{"page":102,"sentence":"001 ’**’ 0"},{"page":102,"sentence":"01 ’*’ 0"},{"page":102,"sentence":"05 ’"},{"page":102,"sentence":"’ 0"},{"page":102,"sentence":"1 ’ ’ 1\n##\n## Residual standard error: 1"},{"page":102,"sentence":"108 on 22492 degrees of freedom\n## (2825 observations deleted due to missingness)\n## Multiple R-squared: 0"},{"page":102,"sentence":"08394, Adjusted R-squared: 0"},{"page":102,"sentence":"08382\n## F-statistic: 687 on 3 and 22492 DF, p-value: < 2"},{"page":102,"sentence":"2e-16\nTransforming the data in log format did improve the regression and the P values of all coefficients are below\n0"},{"page":102,"sentence":"05 allowing us to state that all 3 coefficients significant along with the intercept but still does not make\nsense in the context of the data"},{"page":102,"sentence":"With an adj R-squared of 0"},{"page":102,"sentence":"083 the fit of the model does improve in this\ncase drastically from the first model"},{"page":102,"sentence":"ggplot (reg_dflog, aes(x=temperature, y=uc_hectares )) +\ngeom_point (color = \"red\") + stat_smooth (method = \"lm\",\nformula = y ~x, geom = \"smooth\")\n## Warning: Removed 2820 rows containing non-finite outside the scale range\n## (‘stat_smooth()‘)"},{"page":102,"sentence":"## Warning: Removed 2820 rows containing missing values or values outside the scale range\n## (‘geom_point()‘)"},{"page":102,"sentence":"−20246\n−40 −20 0 20 40\ntemperatureuc_hectares\nggplot (reg_dflog, aes(x=relative_humidity, y=uc_hectares )) +\ngeom_point (color = \"red\") + stat_smooth (method = \"lm\",\nformula = y ~x, geom = \"smooth\")\n55"},{"page":103,"sentence":"## Warning: Removed 2822 rows containing non-finite outside the scale range\n## (‘stat_smooth()‘)"},{"page":103,"sentence":"## Warning: Removed 2822 rows containing missing values or values outside the scale range\n## (‘geom_point()‘)"},{"page":103,"sentence":"−20246\n0 25 50 75 100\nrelative_humidityuc_hectares\nggplot (reg_dflog, aes(x=wind_speed, y=uc_hectares)) +\ngeom_point (color = \"red\") + stat_smooth (method = \"lm\",\nformula = y ~x, geom = \"smooth\")\n## Warning: Removed 2823 rows containing non-finite outside the scale range\n## (‘stat_smooth()‘)"},{"page":103,"sentence":"## Warning: Removed 2823 rows containing missing values or values outside the scale range\n## (‘geom_point()‘)"},{"page":103,"sentence":"56"},{"page":104,"sentence":"−20246\n0 25 50 75\nwind_speeduc_hectaresreg_corlog= round (cor(reg_dflog,use = \"complete"},{"page":104,"sentence":"obs\"), 2)\nreg_corlog\n## uc_hectares temperature relative_humidity wind_speed\n## uc_hectares 1"},{"page":104,"sentence":"00 0"},{"page":104,"sentence":"16 -0"},{"page":104,"sentence":"20 0"},{"page":104,"sentence":"21\n## temperature 0"},{"page":104,"sentence":"16 1"},{"page":104,"sentence":"00 -0"},{"page":104,"sentence":"28 -0"},{"page":104,"sentence":"02\n## relative_humidity -0"},{"page":104,"sentence":"20 -0"},{"page":104,"sentence":"28 1"},{"page":104,"sentence":"00 -0"},{"page":104,"sentence":"17\n## wind_speed 0"},{"page":104,"sentence":"21 -0"},{"page":104,"sentence":"02 -0"},{"page":104,"sentence":"17 1"},{"page":104,"sentence":"00\nWiththefiresizetransformedintologformthedatashowsslightlymoreofalinearrelationship"},{"page":104,"sentence":"Additionally,\nthe correlation matrix shows an improved correlation between the independent and dependent variables"},{"page":104,"sentence":"plot (lm(formula=reg_dflog $uc_hectares ~reg_dflog $temperature +reg_dflog $relative_humidity +reg_dflog $wind_speed))\n57"},{"page":105,"sentence":"−2 −1 0 1−4−20246\nFitted valuesResiduals\nlm(reg_dflog$uc_hectares ~ reg_dflog$temperature + reg_dflog$relative_humid"},{"page":105,"sentence":"Residuals vs Fitted\n10401 155832483958"},{"page":106,"sentence":"−4 −2 0 2 4−20246\nTheoretical QuantilesStandardized residuals\nlm(reg_dflog$uc_hectares ~ reg_dflog$temperature + reg_dflog$relative_humid"},{"page":106,"sentence":"Q−Q Residuals\n10401155832483959"},{"page":107,"sentence":"−2 −1 0 10"},{"page":107,"sentence":"00"},{"page":107,"sentence":"51"},{"page":107,"sentence":"01"},{"page":107,"sentence":"52"},{"page":107,"sentence":"02"},{"page":107,"sentence":"5\nFitted valuesStandardized residuals\nlm(reg_dflog$uc_hectares ~ reg_dflog$temperature + reg_dflog$relative_humid"},{"page":107,"sentence":"Scale−Location\n10401 155832483960"},{"page":108,"sentence":"0"},{"page":108,"sentence":"000 0"},{"page":108,"sentence":"001 0"},{"page":108,"sentence":"002 0"},{"page":108,"sentence":"003 0"},{"page":108,"sentence":"004−20246\nLeverageStandardized residuals\nlm(reg_dflog$uc_hectares ~ reg_dflog$temperature + reg_dflog$relative_humid"},{"page":108,"sentence":"Cook's distanceResiduals vs Leverage\n1144395068026While still not independent or normally distributed it is still a large improvement on the original model\nwith the untransformed data"},{"page":108,"sentence":"Overall the model with the total dataset does not fit the data well and the visualizations showed that there\nwas almost no linear relationship between the variables and the fire size"},{"page":108,"sentence":"However, once the fire size data\nis transformed so the model is in log linear format the model and the visualizations showed a much better\nrelationship between the weather and fire size"},{"page":108,"sentence":"With the size of the dataset and other variables available\nperhaps a larger or non linear model could be built to better fit the fire size data but given the regressions\nabove temperature, wind speed, and relative humidity alone are not enough to sufficiently explain the data\nwhile there is at least something of a relationship between them"},{"page":108,"sentence":"Conclusion\nBoth questions investigating potential determinants of fire spread rates did have significant coefficients\ntheir R-squared values were low"},{"page":108,"sentence":"The model looking at the relationship between fire size, response, and\nextinguished time did have significant coefficients and did show a good linear relationship between fire size\nand time to extinguishment time"},{"page":108,"sentence":"The multivariable model looking at if weather conditions can predict fire\nsize did show a linear relationship in the variables that were all significant, but the R-squared value was also\nlow"},{"page":108,"sentence":"Overall, many of our results came down to the fact that the skewed nature of much of the data affected our\nlinear model’s ability to fit the data"},{"page":108,"sentence":"Even with transformations and slightly larger multivariable models\nthey were not sufficient"},{"page":108,"sentence":"Perhaps a more comprehensive model containing more of the dataset’s variables or\nperhaps a non-linear model may fit the data better"},{"page":108,"sentence":"61"},{"page":109,"sentence":"References\n1"},{"page":109,"sentence":"Friedman, E"},{"page":109,"sentence":"S"},{"page":109,"sentence":", Kauffman, M"},{"page":109,"sentence":"J"},{"page":109,"sentence":", Burch, J"},{"page":109,"sentence":"W"},{"page":109,"sentence":", & Cottam, R"},{"page":109,"sentence":"(2019)"},{"page":109,"sentence":"Trends in conifer regeneration\nfollowing disturbance in a high-elevation forest: Implications for forest management and restoration"},{"page":109,"sentence":"Canadian Journal of Forest Research, 49(5), 502-511"},{"page":109,"sentence":"https:\/\/doi"},{"page":109,"sentence":"org\/10"},{"page":109,"sentence":"1139\/cjfr-2018-0293\n2"},{"page":109,"sentence":"Government of Alberta"},{"page":109,"sentence":"(n"},{"page":109,"sentence":"d"},{"page":109,"sentence":")"},{"page":109,"sentence":"Wildfire data [Data set]"},{"page":109,"sentence":"Open Alberta"},{"page":109,"sentence":"https:\/\/open"},{"page":109,"sentence":"alberta"},{"page":109,"sentence":"ca\/\nopendata\/wildfire-data#summary\n62"},{"page":110,"sentence":"torontocrimedrivers\nJuly 13, 2025\n1 Dynamics of Crime in T oronto\n1"},{"page":110,"sentence":"1 DA T A 604 Group L01-05\nAaron Gelfand\nDavid Griﬀin\nJackson Meier\nSteen Rasmussen\nV enkateshwaran Balu Soundararajan\n[1]: import pandas as pd\nimport sqlalchemy as sq\nfrom sqlalchemy importcreate_engine\nimport matplotlib"},{"page":110,"sentence":"pyplot as plt\nimport numpy as np\nimport seaborn as sns\nimport statsmodels"},{"page":110,"sentence":"api as sm\nfrom scipy"},{"page":110,"sentence":"stats importlinregress\nimport geopandas as gpd\nfrom shapely"},{"page":110,"sentence":"geometry importshape\nfrom shapely importwkt\nimport json\nimport re\nimport folium\nimport warnings\nimport mysql"},{"page":110,"sentence":"connector\nfrom mysql"},{"page":110,"sentence":"connector importError\nimport plotly"},{"page":110,"sentence":"express as px\nwarnings"},{"page":110,"sentence":"filterwarnings( 'ignore')\nsq"},{"page":110,"sentence":"__version__\n[1]:'2"},{"page":110,"sentence":"0"},{"page":110,"sentence":"36'\n[2]:USERNAME ='project'\nPASSWORD ='ErCjJdGXIcFTr '\n1"},{"page":111,"sentence":"DATABASE ='project'\nPORT=3306\nengine=sq"},{"page":111,"sentence":"create_engine( f'''mysql+mysqlconnector:\/\/ {USERNAME }:\n↪{PASSWORD }@localhost: {PORT }\/{DATABASE }''')\n[3]: # Function to run SQL queries\ndefSQL(query_string):\ntry:\nquery=pd"},{"page":111,"sentence":"read_sql_query(query_string, con =engine)\nreturnquery\nexcept Exception ase:\nprint(\"An error occurred: \", e)\nreturn None\n[4]: # Function to create mysql table using DDL\ndefcreate_table (db_name, table_name,create_table_query):\ntry:\nconnection =mysql"},{"page":111,"sentence":"connector"},{"page":111,"sentence":"connect(\nhost='localhost ',\nuser=USERNAME,\npassword =PASSWORD,\nport=PORT,\ndatabase =db_name\n)\nifconnection"},{"page":111,"sentence":"is_connected():\ncursor=connection"},{"page":111,"sentence":"cursor()\ndrop_table_query =f\"\"\"DROP TABLE IF EXISTS {table_name };\"\"\"\ncursor"},{"page":111,"sentence":"execute(drop_table_query)\nprint(\"Table\"+table_name +\"dropped successfully"},{"page":111,"sentence":"\")\ncursor"},{"page":111,"sentence":"execute(create_table_query)\nconnection"},{"page":111,"sentence":"commit()\nprint(\"Table\"+table_name +\"created successfully"},{"page":111,"sentence":"\")\nexceptError ase:\nprint(f\"Error while connecting to MySQL: {e}\")\nfinally:\nifconnection"},{"page":111,"sentence":"is_connected():\ncursor"},{"page":111,"sentence":"close()\nconnection"},{"page":111,"sentence":"close()\n[5]:SQL(\"SHOW TABLES \")\n[5]: Tables_in_project\n0 data604_Bike_crime\n2"},{"page":112,"sentence":"1 data604_address_points\n2 data604_converted_budget\n3 data604_converted_crime\n4 data604_daily_shelter_occupancy\n5 data604_daily_shelter_occupancy_points\n6 data604_daily_shelter_occupancy_raw\n7 data604_income\n2 Introduction\nThe goal of this project is to investigate the dynamics of crime-related trends and rates in T oronto,\nfocusing on the factors that drive these changes"},{"page":112,"sentence":"By looking at how the severity of crimes varies\nacross T oronto neighbourhoods, we aim to help uncover contributors to crime and reveal high-risk\nareas with the hope of unveiling mitigation strategies"},{"page":112,"sentence":"Specifically , our project will analyze yearly\npolice budgets, household income, household education levels, homeless shelter occupancy rates,\nand current bicycle parking racks to determine what factors most influence crime statistics"},{"page":112,"sentence":"In particular, we will compare trends in annual police funds to crime rates over the same time\nperiod"},{"page":112,"sentence":"W e will also link any correlations between household income and average education level\nto crime rates in the corresponding neighbourhood"},{"page":112,"sentence":"Lastly , we will be looking at whether homeless\nshelter occupancy has any impact on surrounding petty crime and whether bike parking racks and\nbike concentrations have any effect on bike theft rates"},{"page":112,"sentence":"By linking the trends of these variables,\nwe hope to answer the questions regarding crime contributors and how to address the tendencies"},{"page":112,"sentence":"Ultimately , we hope to reveal insights on T oronto crime that may be useful to governing parties to\nhelp make data-informed decisions"},{"page":112,"sentence":"These discoveries and implementations may not only be useful\nfor T oronto neighbourhoods but also for other major Canadian cities with similar challenges"},{"page":112,"sentence":"Guiding Questions Overall Objective of this project is to evaluate the crime statistics in T oronto\nneighbourhoods by analyzing the guiding Questions"},{"page":112,"sentence":"Q1: Police Budget and Crime Data T rends: How does the Operating Budget impact the\ncrime statistics? Research indicates that police budgets have generally increased over the years,\neven as crime rates have fluctuated (T oronto Police Service 2024)"},{"page":112,"sentence":"W e will be analyzing the Police\nBudget with the Crime Rates, so we can compare police budget data with crime trends to see if an\nincrease or decrease in funds plays a role in neighbourhood crime rates for different years"},{"page":112,"sentence":"Q2: Household Income and Crime Rates: How does mean household income change crime\nstatistics? Higher Household income is generally associated with lower crime rates"},{"page":112,"sentence":"Analyzing\nhousehold income data in relation to crime rates can reveal important trends"},{"page":112,"sentence":"W e will analyze\ncensus data from 2020 to see if lower household income results in higher crime rates"},{"page":112,"sentence":"Q3: Shelter Occupancy and Neighbourhood Crime: How does shelter occupancy rate af-\nfect crime statistics per neighbourhood? Investigating the relationship between shelter occupancy\nrates and neighbourhood crime can provide insights into how homelessness and crime are intercon-\nnected"},{"page":112,"sentence":"W e will be Investigating the shelter occupancy rates and link them to crime patterns by\nneighbourhood and year"},{"page":112,"sentence":"Q4: Bike racks and Bikes Theft: How does the presence of bike racks affect bike thefts per\nneighbourhood? Comparing crime data for areas with and without bike racks can help determine\n3"},{"page":113,"sentence":"if the presence of bike racks reduces bike theft"},{"page":113,"sentence":"Studies often show that well-placed bike racks,\ncombined with other security measures, can deter theft and improve overall safety in the area (Bike\nFinder, 2024)"},{"page":113,"sentence":"W e want to examine whether a higher concentration of bike racks helps prevent bike\nthefts"},{"page":113,"sentence":"Q5: Highest Education Level and Crime Rates: How does the highest certificate, diploma,\nor degree per household, affect crime rate per neighbourhood? Generally , higher education levels\nare associated with lower crime rates (Lochner & Moretti, 2004), as education can provide better\neconomic opportunities and reduce the likelihood of engaging in criminal activities"},{"page":113,"sentence":"Analyzing crime\nrates in relation to education levels in each neighbourhood can highlight the impact of education\non crime"},{"page":113,"sentence":"3 Individual Datasets\nW e are using 6 datasets for this project"},{"page":113,"sentence":"All of these datasets are from toronto open data and all\nsubsequently hold the same open data license requiring use of the data to be acknowledged"},{"page":113,"sentence":"Y ou\nwill find links to the datasets in the references below"},{"page":113,"sentence":"Our first dataset contains data on crime\nrates in various neighbourhoods in T oronto from 2014 to 2023"},{"page":113,"sentence":"The dataset comes in the form of\na Geojson, csv, geopackage, and shapefile and contains 158 neighbourhoods and 18 separate crime\nstatistics for each neighbourhood"},{"page":113,"sentence":"Our second dataset contains the toronto police operating budget\nfor 2014-2023 and is downloadable in csv, json, and xml format"},{"page":113,"sentence":"The dataset contains 6 columns\nand 129 rows"},{"page":113,"sentence":"The third dataset contains data on the neighbourhoods in T oronto"},{"page":113,"sentence":"It contains\ninformation on each neighbourhood’s demographic data such as income distribution and education\nlevels and many more"},{"page":113,"sentence":"The dataset is released every 5 years alongside the census and we will be\nusing 2020 dataset"},{"page":113,"sentence":"They can be downloaded in csv, json, and xml and xlsx"},{"page":113,"sentence":"The 2020 dataset has\n158 columns and 2383 rows"},{"page":113,"sentence":"The fourth dataset contains geographic data on bike rack locations\nin T oronto, the dataset has 27 columns and 241 rows"},{"page":113,"sentence":"It can be downloaded as a Geojson, csv,\ngeopackage, and shapefile"},{"page":113,"sentence":"The fifth dataset contains data on daily shelter occupancy in T oronto\nfrom 2017-2020"},{"page":113,"sentence":"The dataset contains information such as shelter name, location and occupancy\non each day"},{"page":113,"sentence":"Each year’s dataset can be downloaded as a csv, json, and xml and the most recent\n2020 dataset contains 13 columns and 41061 rows"},{"page":113,"sentence":"The final dataset contains data on obrt 500,000\naddresses in T oronto"},{"page":113,"sentence":"The dataset contains information on street addresses, as well as geometric\ncoordinates for each address"},{"page":113,"sentence":"Below we have listed the team member that worked on the cleaning of each dataset and the variables\nof interest"},{"page":113,"sentence":"The shelter occupancy and address points datasets were particularly diﬀicult to utilize\nas we needed to attach the geometric coordinates from the address points dataset to the shelter\noccupancy dataset"},{"page":113,"sentence":"As both datasets were very large, any process run on either dataset took\nconsiderable time"},{"page":113,"sentence":"Therefore any mistakes in our code required that additional time when running,\nwhich considerably slowed the process here"},{"page":113,"sentence":"T oronto Crime Data - Jackson Meier - AREA_NAME: Name of the neighbourhood - POPULA-\nTION_2023: Population of neighbourhood - Crime Columns: CRIME_XXXX: the crime followed\nby the year (XXXX)"},{"page":113,"sentence":"Replace CRIME with the following:Assault (ASSAUL T), Auto Theft (AU-\nTOTHEFT), Bike Theft (BIKETHEFT), Break & Enter (BREAKENTER), Homicide (HOMI-\nCIDE), Robbery (ROBBER Y), Shooting (SHOOTING), Theft F rom Motor V ehicle (THEFT-\nFROMMV), Theft Over $5,000 (THEFTOVER)"},{"page":113,"sentence":"Y ears range from 2014-2023 - Each crime has\na rate column, which is the same crime, and same year, but as a rate per 100,000 people"},{"page":113,"sentence":"It is the\ncrime, followed by RA TE then the year (XXXX)"},{"page":113,"sentence":"Example: ASSAUL T_RA TE_XXXX\n4"},{"page":114,"sentence":"Gross Operating Budget - Aaron Gelfand - YEAR: year of the value collected - COUNT: V alue\nof the subtype - SUBTYPE: F actor that is being measured"},{"page":114,"sentence":"Main interest in Gross operating\nbudget ($) andAbsolute change ($)\nNeighbourhood Profiles - David Griﬀin - Neighbourhood Name: name of the neighbourhood\n- Rest of the columns are specific neighbourhoods - A verage total income among recipients ($):\nThe average income among recipients aged 15 and over, in a private household - T otal - Highest\ncertificate, diploma or degree for the population aged 15 years and over in private households - 25%\nsample data: Data on the highest degree obtained in a private household\nBike Rack Data - Steen Rasmussen - ADDRESS_FULL: displays full address of the location of\nthe bike rack - POST AL_CODE: postal code to go along with the address - W ARD_NAME: ward\nthe bike rack is located in - CAP ACITY: number of bikes that can fit on the rack - SHEL TERED:\nwhether or not the bike rack is sheltered\/covered - ST A TUS: whether the bike rack is installed,\napproved or planned"},{"page":114,"sentence":"Only interested in installed"},{"page":114,"sentence":"Shelter Occupancy - V enkateshwaran Balu Soundararajan\/Aaron Gelfand - SHEL-\nTER_ADDRESS: Location of the shelter - OCCUP ANCY: occupancy of the shelter - CAP ACITY:\namount of people the shelter can host\nAddress Points - V enkateshwaran Balu Soundararajan\/Aaron Gelfand - ADDRESS_FULL: The\nfull address of the location - geometry: The geometric coordinate of the respective address\n4 Data Exploration\n4"},{"page":114,"sentence":"1 Data Cleaning and Uploading Datasets to Database T ables\n[6]: #TABLE DEFINITIONS\nCRIMETABLE =\"data604_converted_crime \"\nBUDGETTABLE =\"data604_converted_budget \"\nBIKECRIMETABLE =\"data604_Bike_crime \"\nINCOMETABLE =\"data604_income \"\nSHELTEROCCUPANCYTABLE =\"data604_daily_shelter_occupancy \"\n#ReferenceTable\nADDRESSTABLE =\"data604_address_points \"\nSHELTEROCCUPANCY_RAW =\"data604_daily_shelter_occupancy_raw \"\nSHELTEROCCUPANCY_POINTS =\"data604_daily_shelter_occupancy_points \"\nBudget cleaning and uploading to SQL table\n[7]: ### Creation of budget table\nBUDGETTABLE_CREATE =f\"\"\"CREATE TABLE {BUDGETTABLE }(\nID bigint NOT NULL AUTO_INCREMENT,\nyear bigint(20) DEFAULT NULL,\npercent_change double DEFAULT NULL,\nabsolute_budget_change double DEFAULT ␣\n↪NULL,\nChief double DEFAULT NULL,\n5"},{"page":115,"sentence":"Communities_and_Neighbourhoods double ␣\n↪DEFAULT NULL,\nCommunity_Safety double DEFAULT NULL,\nCommunity_Safety_Command double DEFAULT ␣\n↪NULL,\nCorporate_Services double DEFAULT NULL,\nCorporate_Support double DEFAULT NULL,\nEquipment double DEFAULT NULL,\ngross_operating_budget double DEFAULT ␣\n↪NULL,\nHuman_Resources double DEFAULT NULL,\nInformation_Technology double DEFAULT ␣\n↪NULL,\nMaterials double DEFAULT NULL,\nOperational_Support double DEFAULT NULL,\nPriority_Response double DEFAULT NULL,\nSalaries_and_Benefits double DEFAULT NULL,\nServices_and_Rents double DEFAULT NULL,\nSpecialized_Operations double DEFAULT ␣\n↪NULL,\nPRIMARY KEY (ID)\n);\"\"\"\ncreate_table(DATABASE, BUDGETTABLE,BUDGETTABLE_CREATE)\nTable data604_converted_budget dropped successfully"},{"page":115,"sentence":"Table data604_converted_budget created successfully"},{"page":115,"sentence":"[8]: ### Budget cleaning to SQL table\n#First we want to upload our CSV\nbudgetdf =pd"},{"page":115,"sentence":"read_csv( \"Gross Operating Budget"},{"page":115,"sentence":"csv \")\n#Our csv is not in an ideal format, so we pivot the table so that columns are ␣\n↪now the subtypes, like gross operating budget ($), Absolute Change ($) etc"},{"page":115,"sentence":"budget_df_pivot =budgetdf"},{"page":115,"sentence":"pivot_table(\nindex='YEAR',\ncolumns='SUBTYPE',\nvalues='COUNT_'\n)"},{"page":115,"sentence":"reset_index()\n# some generic cleaning replace NA values w\/0"},{"page":115,"sentence":"Shouldn't be an issue as all ␣\n↪the NA values are for % values\nbudget_df_pivot"},{"page":115,"sentence":"fillna(0, inplace =True)\n#strip and replace blanks with _, and & with and for readability\nbudget_df_pivot"},{"page":115,"sentence":"columns=budget_df_pivot"},{"page":115,"sentence":"columns"},{"page":115,"sentence":"str"},{"page":115,"sentence":"strip()"},{"page":115,"sentence":"str"},{"page":115,"sentence":"replace( '␣\n↪','_')"},{"page":115,"sentence":"str"},{"page":115,"sentence":"replace( '&','and')\n6"},{"page":116,"sentence":"#convert to csv so we have the changed csv for later\nbudget_df_pivot"},{"page":116,"sentence":"to_csv('converted_budget"},{"page":116,"sentence":"csv ',index=False)\n#Change column names to prevent issues with SQL queries\nbudget_df =pd"},{"page":116,"sentence":"read_csv( \"converted_budget"},{"page":116,"sentence":"csv \")\nbudget_df"},{"page":116,"sentence":"rename(columns ={\"YEAR\":\"year\",\"%_Change\":\n↪\"percent_change \",\"Absolute_Change_($) \":\"absolute_budget_change \",\n\"Gross_Operating_Budget_($) \":\n↪\"gross_operating_budget \"},inplace =True)\nbudget_df[ '_id']=budget_df"},{"page":116,"sentence":"index+1\nbudget_df"},{"page":116,"sentence":"rename(columns ={'_id':'ID'}, inplace = True)\n#Upload csv as SQL table\nbudget_df"},{"page":116,"sentence":"to_sql(BUDGETTABLE,engine,index =False,if_exists ='append')\nbudget_table_df =pd"},{"page":116,"sentence":"read_sql_table(BUDGETTABLE,engine)\nbudget_table_df"},{"page":116,"sentence":"head()\n[8]: ID year percent_change absolute_budget_change Chief \\\n0 1 2014 0"},{"page":116,"sentence":"062 63610200"},{"page":116,"sentence":"0 0"},{"page":116,"sentence":"006\n1 2 2015 0"},{"page":116,"sentence":"017 17216200"},{"page":116,"sentence":"0 0"},{"page":116,"sentence":"006\n2 3 2016 0"},{"page":116,"sentence":"026 28666300"},{"page":116,"sentence":"0 0"},{"page":116,"sentence":"008\n3 4 2017 -0"},{"page":116,"sentence":"003 -3267300"},{"page":116,"sentence":"0 0"},{"page":116,"sentence":"010\n4 5 2018 0"},{"page":116,"sentence":"007 8209800"},{"page":116,"sentence":"0 0"},{"page":116,"sentence":"012\nCommunities_and_Neighbourhoods Community_Safety Community_Safety_Command \\\n0 0"},{"page":116,"sentence":"000 0"},{"page":116,"sentence":"540 0"},{"page":116,"sentence":"0\n1 0"},{"page":116,"sentence":"000 0"},{"page":116,"sentence":"536 0"},{"page":116,"sentence":"0\n2 0"},{"page":116,"sentence":"311 0"},{"page":116,"sentence":"000 0"},{"page":116,"sentence":"0\n3 0"},{"page":116,"sentence":"317 0"},{"page":116,"sentence":"000 0"},{"page":116,"sentence":"0\n4 0"},{"page":116,"sentence":"295 0"},{"page":116,"sentence":"000 0"},{"page":116,"sentence":"0\nCorporate_Services Corporate_Support Equipment gross_operating_budget \\\n0 0"},{"page":116,"sentence":"068 0"},{"page":116,"sentence":"000 0"},{"page":116,"sentence":"002 1"},{"page":116,"sentence":"086002e+09\n1 0"},{"page":116,"sentence":"071 0"},{"page":116,"sentence":"000 0"},{"page":116,"sentence":"003 1"},{"page":116,"sentence":"103218e+09\n2 0"},{"page":116,"sentence":"000 0"},{"page":116,"sentence":"101 0"},{"page":116,"sentence":"002 1"},{"page":116,"sentence":"131884e+09\n3 0"},{"page":116,"sentence":"000 0"},{"page":116,"sentence":"103 0"},{"page":116,"sentence":"002 1"},{"page":116,"sentence":"128617e+09\n4 0"},{"page":116,"sentence":"000 0"},{"page":116,"sentence":"102 0"},{"page":116,"sentence":"002 1"},{"page":116,"sentence":"136827e+09\nHuman_Resources Information_Technology Materials Operational_Support \\\n0 0"},{"page":116,"sentence":"000 0"},{"page":116,"sentence":"0 0"},{"page":116,"sentence":"019 0"},{"page":116,"sentence":"191\n1 0"},{"page":116,"sentence":"000 0"},{"page":116,"sentence":"0 0"},{"page":116,"sentence":"018 0"},{"page":116,"sentence":"189\n2 0"},{"page":116,"sentence":"047 0"},{"page":116,"sentence":"0 0"},{"page":116,"sentence":"016 0"},{"page":116,"sentence":"000\n3 0"},{"page":116,"sentence":"044 0"},{"page":116,"sentence":"0 0"},{"page":116,"sentence":"016 0"},{"page":116,"sentence":"000\n4 0"},{"page":116,"sentence":"045 0"},{"page":116,"sentence":"0 0"},{"page":116,"sentence":"016 0"},{"page":116,"sentence":"000\n7"},{"page":117,"sentence":"Priority_Response Salaries_and_Benefits Services_and_Rents \\\n0 0"},{"page":117,"sentence":"000 0"},{"page":117,"sentence":"890 0"},{"page":117,"sentence":"089\n1 0"},{"page":117,"sentence":"000 0"},{"page":117,"sentence":"890 0"},{"page":117,"sentence":"089\n2 0"},{"page":117,"sentence":"386 0"},{"page":117,"sentence":"895 0"},{"page":117,"sentence":"087\n3 0"},{"page":117,"sentence":"374 0"},{"page":117,"sentence":"891 0"},{"page":117,"sentence":"091\n4 0"},{"page":117,"sentence":"374 0"},{"page":117,"sentence":"884 0"},{"page":117,"sentence":"098\nSpecialized_Operations\n0 0"},{"page":117,"sentence":"196\n1 0"},{"page":117,"sentence":"198\n2 0"},{"page":117,"sentence":"147\n3 0"},{"page":117,"sentence":"152\n4 0"},{"page":117,"sentence":"172\nCrime data cleaning and uploading to SQL table\n[9]: ### Creation of crime table\nCRIMETABLE_CREATE =f\"\"\"CREATE TABLE {CRIMETABLE }(\nID BIGINT(20) NOT NULL AUTO_INCREMENT,\nAREA_NAME LONGTEXT DEFAULT NULL,\nHOOD_ID BIGINT(20) DEFAULT NULL,\nPOPULATION_2023 BIGINT(20) DEFAULT NULL,\nGEOMETRY LONGTEXT DEFAULT NULL,\nYEAR BIGINT(20) DEFAULT NULL,\nASSAULT BIGINT(20) DEFAULT NULL,\nASSAULT_RATE DOUBLE DEFAULT NULL,\nAUTOTHEFT DOUBLE DEFAULT NULL,\nAUTOTHEFT_RATE DOUBLE DEFAULT NULL,\nBIKETHEFT DOUBLE DEFAULT NULL,\nBIKETHEFT_RATE DOUBLE DEFAULT NULL,\nBREAKENTER BIGINT(20) DEFAULT NULL,\nBREAKENTER_RATE DOUBLE DEFAULT NULL,\nHOMICIDE DOUBLE DEFAULT NULL,\nHOMICIDE_RATE DOUBLE DEFAULT NULL,\nROBBERY DOUBLE DEFAULT NULL,\nROBBERY_RATE DOUBLE DEFAULT NULL,\nSHOOTING DOUBLE DEFAULT NULL,\nSHOOTING_RATE DOUBLE DEFAULT NULL,\nTHEFTFROMMV BIGINT(20) DEFAULT NULL,\nTHEFTFROMMV_RATE DOUBLE DEFAULT NULL,\nTHEFTOVER DOUBLE DEFAULT NULL,\nTHEFTOVER_RATE DOUBLE DEFAULT NULL,\nPRIMARY KEY (ID)\n);\"\"\"\ncreate_table(DATABASE, CRIMETABLE,CRIMETABLE_CREATE)\nTable data604_converted_crime dropped successfully"},{"page":117,"sentence":"Table data604_converted_crime created successfully"},{"page":117,"sentence":"8"},{"page":118,"sentence":"[10]: #Loading Neighbour Crime Rates\npolygons_gdf =gpd"},{"page":118,"sentence":"read_file( '"},{"page":118,"sentence":"\/neighbourhood-crime-rates"},{"page":118,"sentence":"geojson ')\npolygons_gdf"},{"page":118,"sentence":"dtypes\npolygons_gdf =polygons_gdf"},{"page":118,"sentence":"to_crs(epsg =4326)\npolygons_gdf"},{"page":118,"sentence":"head(5)\npolygons_gdf"},{"page":118,"sentence":"columns\npolygons_gdf"},{"page":118,"sentence":"to_csv(\"neighbourhood-crime-rates"},{"page":118,"sentence":"csv \")\n[11]: ### Crime cleaning to SQL table\n#Clean and add crimeset to database\ncrime_df =pd"},{"page":118,"sentence":"read_csv( \"neighbourhood-crime-rates"},{"page":118,"sentence":"csv \")\ncrime_df"},{"page":118,"sentence":"head\ncrime_df =crime_df"},{"page":118,"sentence":"loc[:,~crime_df"},{"page":118,"sentence":"columns"},{"page":118,"sentence":"str"},{"page":118,"sentence":"contains( '^Unnamed ')]\n#wide_to_long to squish the ASSAULT_2014, ASSAULT_2015, etc"},{"page":118,"sentence":"into just ASSAULT ␣\n↪and add a Year column\nid_cols =['_id','AREA_NAME ','HOOD_ID','POPULATION_2023 ','geometry ']\ncrime_long =pd"},{"page":118,"sentence":"wide_to_long(\ncrime_df,\nstubnames =[\n'ASSAULT','ASSAULT_RATE ','AUTOTHEFT ','AUTOTHEFT_RATE ',\n'BIKETHEFT ','BIKETHEFT_RATE ','BREAKENTER ','BREAKENTER_RATE ',\n'HOMICIDE ','HOMICIDE_RATE ','ROBBERY','ROBBERY_RATE ',\n'SHOOTING ','SHOOTING_RATE ','THEFTFROMMV ','THEFTFROMMV_RATE ',\n'THEFTOVER ','THEFTOVER_RATE '\n],\ni=id_cols,\nj='Year',\nsep='_'\n)"},{"page":118,"sentence":"reset_index()\n#store changes as new csv\ncrime_long"},{"page":118,"sentence":"to_csv('converted_crime"},{"page":118,"sentence":"csv ',index=False)\n#Some general cleaning so the csv has no issues with SQL syntax\ncrime_df =pd"},{"page":118,"sentence":"read_csv( 'converted_crime"},{"page":118,"sentence":"csv ')\ncrime_df"},{"page":118,"sentence":"rename(columns ={\"Year\":\"year\"},inplace =True)\ncrime_df[ '_id']=crime_df"},{"page":118,"sentence":"index+1\ncrime_df"},{"page":118,"sentence":"rename(columns ={'_id':'ID'}, inplace = True)\n# Comfortable replacing the NAs with 0, because if you inspect the data you can ␣\n↪see that the NAs only appear in columns\n# where the totals are low values already"},{"page":118,"sentence":"This makes me believe that the ␣\n↪missing data may simply just be 0's\n9"},{"page":119,"sentence":"crime_df[[ 'ASSAULT','ASSAULT_RATE ','AUTOTHEFT ','AUTOTHEFT_RATE ',\n'BIKETHEFT ','BIKETHEFT_RATE ','BREAKENTER ','BREAKENTER_RATE ',\n'HOMICIDE ','HOMICIDE_RATE ','ROBBERY','ROBBERY_RATE ',\n'SHOOTING ','SHOOTING_RATE ','THEFTFROMMV ','THEFTFROMMV_RATE ',\n'THEFTOVER ','THEFTOVER_RATE ']]=crime_df[[ 'ASSAULT','ASSAULT_RATE ',␣\n↪'AUTOTHEFT ','AUTOTHEFT_RATE ',\n'BIKETHEFT ','BIKETHEFT_RATE ','BREAKENTER ','BREAKENTER_RATE ',\n'HOMICIDE ','HOMICIDE_RATE ','ROBBERY','ROBBERY_RATE ',\n'SHOOTING ','SHOOTING_RATE ','THEFTFROMMV ','THEFTFROMMV_RATE ',\n'THEFTOVER ','THEFTOVER_RATE ']]"},{"page":119,"sentence":"fillna(0)\n#Upload csv as SQL table\ncrime_df"},{"page":119,"sentence":"to_sql(CRIMETABLE,engine,index =False,if_exists ='append',chunksize =1000)\ncrime_table_df =pd"},{"page":119,"sentence":"read_sql_table(CRIMETABLE,engine)\ncrime_table_df"},{"page":119,"sentence":"head(10)\n[11]: ID AREA_NAME HOOD_ID POPULATION_2023 \\\n0 1 South Eglinton-Davisville 174 21987\n1 2 South Eglinton-Davisville 174 21987\n2 3 South Eglinton-Davisville 174 21987\n3 4 South Eglinton-Davisville 174 21987\n4 5 South Eglinton-Davisville 174 21987\n5 6 South Eglinton-Davisville 174 21987\n6 7 South Eglinton-Davisville 174 21987\n7 8 South Eglinton-Davisville 174 21987\n8 9 South Eglinton-Davisville 174 21987\n9 10 South Eglinton-Davisville 174 21987\nGEOMETRY YEAR ASSAULT \\\n0 MULTIPOLYGON (((-79"},{"page":119,"sentence":"3863542900264 43"},{"page":119,"sentence":"697839855… 2014 63\n1 MULTIPOLYGON (((-79"},{"page":119,"sentence":"3863542900264 43"},{"page":119,"sentence":"697839855… 2015 61\n2 MULTIPOLYGON (((-79"},{"page":119,"sentence":"3863542900264 43"},{"page":119,"sentence":"697839855… 2016 70\n3 MULTIPOLYGON (((-79"},{"page":119,"sentence":"3863542900264 43"},{"page":119,"sentence":"697839855… 2017 82\n4 MULTIPOLYGON (((-79"},{"page":119,"sentence":"3863542900264 43"},{"page":119,"sentence":"697839855… 2018 85\n5 MULTIPOLYGON (((-79"},{"page":119,"sentence":"3863542900264 43"},{"page":119,"sentence":"697839855… 2019 70\n6 MULTIPOLYGON (((-79"},{"page":119,"sentence":"3863542900264 43"},{"page":119,"sentence":"697839855… 2020 82\n7 MULTIPOLYGON (((-79"},{"page":119,"sentence":"3863542900264 43"},{"page":119,"sentence":"697839855… 2021 121\n8 MULTIPOLYGON (((-79"},{"page":119,"sentence":"3863542900264 43"},{"page":119,"sentence":"697839855… 2022 128\n9 MULTIPOLYGON (((-79"},{"page":119,"sentence":"3863542900264 43"},{"page":119,"sentence":"697839855… 2023 101\nASSAULT_RATE AUTOTHEFT AUTOTHEFT_RATE … HOMICIDE HOMICIDE_RATE \\\n0 344"},{"page":119,"sentence":"978638 5"},{"page":119,"sentence":"0 27"},{"page":119,"sentence":"379257 … 0"},{"page":119,"sentence":"0 0"},{"page":119,"sentence":"000000\n1 332"},{"page":119,"sentence":"135468 4"},{"page":119,"sentence":"0 21"},{"page":119,"sentence":"779375 … 0"},{"page":119,"sentence":"0 0"},{"page":119,"sentence":"000000\n2 377"},{"page":119,"sentence":"826965 3"},{"page":119,"sentence":"0 16"},{"page":119,"sentence":"192583 … 1"},{"page":119,"sentence":"0 5"},{"page":119,"sentence":"397528\n3 429"},{"page":119,"sentence":"454285 8"},{"page":119,"sentence":"0 41"},{"page":119,"sentence":"897980 … 0"},{"page":119,"sentence":"0 0"},{"page":119,"sentence":"000000\n4 431"},{"page":119,"sentence":"581635 15"},{"page":119,"sentence":"0 76"},{"page":119,"sentence":"161461 … 0"},{"page":119,"sentence":"0 0"},{"page":119,"sentence":"000000\n5 345"},{"page":119,"sentence":"866882 8"},{"page":119,"sentence":"0 39"},{"page":119,"sentence":"527645 … 1"},{"page":119,"sentence":"0 4"},{"page":119,"sentence":"940956\n10"},{"page":120,"sentence":"6 396"},{"page":120,"sentence":"844605 15"},{"page":120,"sentence":"0 72"},{"page":120,"sentence":"593521 … 1"},{"page":120,"sentence":"0 4"},{"page":120,"sentence":"839568\n7 577"},{"page":120,"sentence":"455383 15"},{"page":120,"sentence":"0 71"},{"page":120,"sentence":"585381 … 1"},{"page":120,"sentence":"0 4"},{"page":120,"sentence":"772358\n8 597"},{"page":120,"sentence":"628174 10"},{"page":120,"sentence":"0 46"},{"page":120,"sentence":"689701 … 0"},{"page":120,"sentence":"0 0"},{"page":120,"sentence":"000000\n9 459"},{"page":120,"sentence":"362366 21"},{"page":120,"sentence":"0 95"},{"page":120,"sentence":"510986 … 0"},{"page":120,"sentence":"0 0"},{"page":120,"sentence":"000000\nROBBERY ROBBERY_RATE SHOOTING SHOOTING_RATE THEFTFROMMV \\\n0 12"},{"page":120,"sentence":"0 65"},{"page":120,"sentence":"710220 1"},{"page":120,"sentence":"0 5"},{"page":120,"sentence":"475852 18\n1 10"},{"page":120,"sentence":"0 54"},{"page":120,"sentence":"448437 0"},{"page":120,"sentence":"0 0"},{"page":120,"sentence":"000000 19\n29"},{"page":120,"sentence":"0 48"},{"page":120,"sentence":"577751 1"},{"page":120,"sentence":"0 5"},{"page":120,"sentence":"397528 13\n37"},{"page":120,"sentence":"0 36"},{"page":120,"sentence":"660732 0"},{"page":120,"sentence":"0 0"},{"page":120,"sentence":"000000 17\n4 17"},{"page":120,"sentence":"0 86"},{"page":120,"sentence":"316322 1"},{"page":120,"sentence":"0 5"},{"page":120,"sentence":"077431 19\n55"},{"page":120,"sentence":"0 24"},{"page":120,"sentence":"704779 1"},{"page":120,"sentence":"0 4"},{"page":120,"sentence":"940956 24\n6 16"},{"page":120,"sentence":"0 77"},{"page":120,"sentence":"433090 1"},{"page":120,"sentence":"0 4"},{"page":120,"sentence":"839568 43\n7 11"},{"page":120,"sentence":"0 52"},{"page":120,"sentence":"495945 0"},{"page":120,"sentence":"0 0"},{"page":120,"sentence":"000000 22\n8 16"},{"page":120,"sentence":"0 74"},{"page":120,"sentence":"703522 1"},{"page":120,"sentence":"0 4"},{"page":120,"sentence":"668970 43\n93"},{"page":120,"sentence":"0 13"},{"page":120,"sentence":"644426 0"},{"page":120,"sentence":"0 0"},{"page":120,"sentence":"000000 40\nTHEFTFROMMV_RATE THEFTOVER THEFTOVER_RATE\n0 98"},{"page":120,"sentence":"565331 4"},{"page":120,"sentence":"0 21"},{"page":120,"sentence":"903406\n1 103"},{"page":120,"sentence":"452034 3"},{"page":120,"sentence":"0 16"},{"page":120,"sentence":"334532\n2 70"},{"page":120,"sentence":"167862 4"},{"page":120,"sentence":"0 21"},{"page":120,"sentence":"590111\n3 89"},{"page":120,"sentence":"033203 1"},{"page":120,"sentence":"0 5"},{"page":120,"sentence":"237247\n4 96"},{"page":120,"sentence":"471184 3"},{"page":120,"sentence":"0 15"},{"page":120,"sentence":"232292\n5 118"},{"page":120,"sentence":"582932 3"},{"page":120,"sentence":"0 14"},{"page":120,"sentence":"822866\n6 208"},{"page":120,"sentence":"101440 5"},{"page":120,"sentence":"0 24"},{"page":120,"sentence":"197842\n7 104"},{"page":120,"sentence":"991890 6"},{"page":120,"sentence":"0 28"},{"page":120,"sentence":"634151\n8 195"},{"page":120,"sentence":"570110 3"},{"page":120,"sentence":"0 14"},{"page":120,"sentence":"006910\n9 181"},{"page":120,"sentence":"925690 8"},{"page":120,"sentence":"0 36"},{"page":120,"sentence":"385136\n[10 rows x 24 columns]\nShelter cleaning, addition of neighborhood and uploading to SQL table\n[12]: ### Cleaning Shelter Occupancy data and adding a neighborhood column\n#First we will upload our daily shelter occupancy data for all years\n#daily_shelter_occupancy='daily_shelter_occupancy'\ndf=pd"},{"page":120,"sentence":"read_csv( \"Data_Shelter_Occupancy_Merged"},{"page":120,"sentence":"csv \")\ndf=df"},{"page":120,"sentence":"drop(columns =['FileUniqueID '],errors ='ignore')\ndf['ID']=df"},{"page":120,"sentence":"index+1\n#To upload our df as an SQL we make sure to do it in chunks because the dataset ␣\n↪is too large\ndf"},{"page":120,"sentence":"↪to_sql(SHELTEROCCUPANCY_RAW,engine,index =False,if_exists ='replace',chunksize =10000)\n[12]:156977\n11"},{"page":121,"sentence":"[13]: ### We then upload our address points dataset, so that we can attach geometric ␣\n↪points to the addresses in our shelter data\nADDRESS_POINTS =pd"},{"page":121,"sentence":"read_csv( 'Address Points_Neighbourhoods"},{"page":121,"sentence":"csv ')\n#Only intered in the id, full address, and geometric points\nADDRESS_POINTS2 =ADDRESS_POINTS[[ '_id','ADDRESS_FULL ','geometry ']]\nADDRESS_POINTS2"},{"page":121,"sentence":"rename(columns ={'_id':'ID',\"geometry \":\"GEOMETRY \"}, inplace =␣\n↪True)\n#This needs to be done in chunks due to the size of the dataset\nADDRESS_POINTS2"},{"page":121,"sentence":"↪to_sql(ADDRESSTABLE,engine,index =False,if_exists ='replace',chunksize =10000)\n[13]:525460\n[14]: ### Attempt to load our crime dataset geojson file to our SQL tables\n#geo_test=gpd"},{"page":121,"sentence":"read_file('neighbourhood-crime-rates"},{"page":121,"sentence":"geojson')\n#geo_test"},{"page":121,"sentence":"to_postgis(name=\"geo_test\", con=engine, if_exists=\"replace\")\n# When running this code, we see that we are denied permissions to do this\n# Therefore we will simply do the merging outside of it, then convert it to a ␣\n↪csv and upload the merged\n# dataset to a SQL table\n[15]: #Normalizes the address line so that we can merge occupancy and neighbourhood ␣\n↪geo data\ndefnormalize_address (address):\nifisinstance (address, str):\nabbreviations ={\nr'\\bSt\\b':'Street',\nr'\\bst\\b':'Street',\nr'\\bAve\\b':'Avenue',\nr'\\bAve"},{"page":121,"sentence":"\\b':'Avenue',\nr'\\bBlvd\\b':'Boulevard ',\nr'\\bBlvd"},{"page":121,"sentence":"\\b':'Boulevard ',\nr'\\bRd\\b':'Road',\nr'\\bRd"},{"page":121,"sentence":"\\b':'Road',\nr'\\bLn\\b':'Lane',\nr'\\bLn"},{"page":121,"sentence":"\\b':'Lane',\nr'\\bDr\\b':'Drive',\nr'\\bDr"},{"page":121,"sentence":"\\b':'Drive',\nr'\\bPkwy\\b':'Parkway',\nr'\\bPkwy"},{"page":121,"sentence":"\\b':'Parkway',\nr'\\bPl\\b':'Place',\nr'\\bPl"},{"page":121,"sentence":"\\b':'Place',\nr'\\bCt\\b':'Court',\nr'\\bCt"},{"page":121,"sentence":"\\b':'Court',\n12"},{"page":122,"sentence":"r'\\bCrt\\b':'Court',\nr'\\bW\\b':'West',\nr'\\bE\\b':'East',\nr'\\bN\\b':'North',\nr'\\bS\\b':'South',\nr'\\bBathrust \\b':'Bathurst ',\nr'\\bToronto \\b':'',\nr'\\b2nd\\b':'',\nr'\\bfloor\\b':''\n}\nforabbr, full inabbreviations"},{"page":122,"sentence":"items():\naddress =re"},{"page":122,"sentence":"sub(abbr, full, address)\naddress =re"},{"page":122,"sentence":"sub(r'["},{"page":122,"sentence":",]','',address)\naddress =address"},{"page":122,"sentence":"strip()\nreturnaddress\n[16]: #Normalize our shelter occupancy data\ndf=SQL(f\"\"\"SELECT * FROM {SHELTEROCCUPANCY_RAW };\"\"\")\ndf['Normalized_ADDRESS ']=df['SHELTER_ADDRESS ']"},{"page":122,"sentence":"apply( lambdax:␣\n↪normalize_address( str(x)))\n#Normalize our address points data\ndf2=SQL(f\"\"\"SELECT ADDRESS_FULL, GEOMETRY FROM {ADDRESSTABLE };\"\"\")\ndf2['Normalized_ADDRESS ']=df2['ADDRESS_FULL ']"},{"page":122,"sentence":"apply( lambdax:␣\n↪normalize_address( str(x)))\n#Merge the 2 datasets on the Normalized_ADDRESS column, this ensures that our ␣\n↪shelter occupancy data now has\n#geometric points for all the shelter addresses\nmerged_df =df"},{"page":122,"sentence":"merge(df2[[ 'Normalized_ADDRESS ','GEOMETRY ']],␣\n↪on='Normalized_ADDRESS ', how='left')\n#Upload this dataset as an SQL table\nmerged_df =merged_df"},{"page":122,"sentence":"loc[:,~merged_df"},{"page":122,"sentence":"columns"},{"page":122,"sentence":"str"},{"page":122,"sentence":"contains( '^Unnamed ')]\n#Write DataFrame to SQL in chunks\nmerged_df"},{"page":122,"sentence":"↪to_sql(SHELTEROCCUPANCY_POINTS,engine,index =False,if_exists ='replace',chunksize =10000)\n[16]:159751\n[17]: #Now we will call upon this table, converting the geometric points to a ␣\n↪geometric datatype to be used for merging later\ngeopoints =SQL(f\"\"\"SELECT * FROM {SHELTEROCCUPANCY_POINTS };\"\"\")\n13"},{"page":123,"sentence":"geopoints =geopoints[(geopoints[ 'OCCUPANCY ']!=0)|(geopoints[ 'CAPACITY ']!=␣\n↪0)]\ngeopoints =geopoints"},{"page":123,"sentence":"dropna(subset =['GEOMETRY '])\ngeopoints[ 'GEOMETRY ']=geopoints[ 'GEOMETRY ']"},{"page":123,"sentence":"apply( lambdax: shape(json"},{"page":123,"sentence":"↪loads(x)))\ngeopoints[ 'GEOMETRY ']=geopoints[ 'GEOMETRY ']"},{"page":123,"sentence":"apply(shape)\npoints_gdf =gpd"},{"page":123,"sentence":"GeoDataFrame(geopoints, geometry ='GEOMETRY ')\npoints_gdf"},{"page":123,"sentence":"set_crs(epsg =4326, inplace =True)\n[17]: ID OCCUPANCY_DATE ORGANIZATION_NAME \\\n0 1 2017-01-01 COSTI Immigrant Services\n1 2 2017-01-01 Christie Ossington Neighbourhood Centre\n2 3 2017-01-01 Christie Ossington Neighbourhood Centre\n3 4 2017-01-01 Christie Refugee Welcome Centre, Inc"},{"page":123,"sentence":"4 5 2017-01-01 City of Toronto\n… … … …\n159744 156971 2020-12-31 YWCA Toronto\n159747 156974 2020-12-31 Youth Without Shelter\n159748 156975 2020-12-31 Youth Without Shelter\n159749 156976 2020-12-31 YouthLink\n159750 156977 2020-12-31 YouthLink\nSHELTER_NAME SHELTER_ADDRESS SHELTER_CITY \\\n0 COSTI Reception Centre 100 Lippincott Street Toronto\n1 Christie Ossington Men's Hostel 973 Lansdowne Avenue Toronto\n2 Christie Ossington Men's Hostel 973 Lansdowne Avenue Toronto\n3 Christie Refugee Welcome Centre 43 Christie Street Toronto\n4 Birchmount Residence 1673 Kingston Road Toronto\n… … … …\n159744 YWCA - First Stop Woodlawn 80 Woodlawn Ave"},{"page":123,"sentence":"East Toronto\n159747 Youth Without Shelter 6 Warrendale Court Etobicoke\n159748 Youth Without Shelter 6 Warrendale Court Etobicoke\n159749 YouthLink Shelter 747 Warden Ave Toronto\n159750 YouthLink Shelter 747 Warden Ave Toronto\nSHELTER_PROVINCE SHELTER_POSTAL_CODE FACILITY_NAME \\\n0 ON M5S 2P1 COSTI Reception Centre\n1 ON M6H 3Z5 Christie Ossington Men's Hostel\n2 ON M6H 3Z5 Christie Ossington Men's Hostel\n3 ON M6G 3B1 Christie Refugee Welcome Centre\n4 ON None Birchmount Res 1673 Kingston Rd\n… … … …\n159744 ON M4T 1C1 YWCA-80 Woodlawn Ave"},{"page":123,"sentence":"E"},{"page":123,"sentence":"-Youth\n159747 ON M9V 1P9 Youth w\/o Shelter Emerg Shelter\n159748 ON M9V 1P9 Youth w\/o Shltr Transitional Res\n159749 ON M1L 4A1 YouthLink - 747 Warden Ave\n159750 ON M1L 4A1 YouthLink - 747 Warden Ave\n14"},{"page":124,"sentence":"PROGRAM_NAME SECTOR \\\n0 COSTI Reception Ctr CITY Program Co-ed\n1 Christie Ossington Extreme Weather Program Men\n2 Christie Ossington Men's Hostel Men\n3 Christie Refugee Welcome Ctr - Settlement and … Families\n4 Birchmount Residence Men\n… … …\n159744 YWCA - Youth Shelter Youth\n159747 Youth without Shelter Emergency Shelter Program Youth\n159748 Youth without Shelter Stay In School Program Youth\n159749 YouthLink Emergency Program Co-ed\n159750 YouthLink Transitional Program Co-ed\nOCCUPANCY CAPACITY Normalized_ADDRESS \\\n0 16 16 100 Lippincott Street\n1 13 17 973 Lansdowne Avenue\n2 63 63 973 Lansdowne Avenue\n3 66 70 43 Christie Street\n4 58 60 1673 Kingston Road\n… … … …\n159744 21 24 80 Woodlawn Avenue East\n159747 11 17 6 Warrendale Court\n159748 11 16 6 Warrendale Court\n159749 10 10 747 Warden Avenue\n159750 29 29 747 Warden Avenue\nGEOMETRY\n0 MULTIPOINT (-79"},{"page":124,"sentence":"40716 43"},{"page":124,"sentence":"65766)\n1 MULTIPOINT (-79"},{"page":124,"sentence":"44591 43"},{"page":124,"sentence":"66618)\n2 MULTIPOINT (-79"},{"page":124,"sentence":"44591 43"},{"page":124,"sentence":"66618)\n3 MULTIPOINT (-79"},{"page":124,"sentence":"41885 43"},{"page":124,"sentence":"66516)\n4 MULTIPOINT (-79"},{"page":124,"sentence":"26399 43"},{"page":124,"sentence":"69151)\n… …\n159744 MULTIPOINT (-79"},{"page":124,"sentence":"38971 43"},{"page":124,"sentence":"68478)\n159747 MULTIPOINT (-79"},{"page":124,"sentence":"58027 43"},{"page":124,"sentence":"73636)\n159748 MULTIPOINT (-79"},{"page":124,"sentence":"58027 43"},{"page":124,"sentence":"73636)\n159749 MULTIPOINT (-79"},{"page":124,"sentence":"28283 43"},{"page":124,"sentence":"71784)\n159750 MULTIPOINT (-79"},{"page":124,"sentence":"28283 43"},{"page":124,"sentence":"71784)\n[148683 rows x 15 columns]\n[18]: ### Creation of shelter occupancy table\nSHELTERTABLE_CREATE =f\"\"\"CREATE TABLE {SHELTEROCCUPANCYTABLE }(\nID bigint(20) NOT NULL AUTO_INCREMENT,\nOCCUPANCY_DATE text DEFAULT NULL,\nORGANIZATION_NAME text DEFAULT NULL,\n15"},{"page":125,"sentence":"SHELTER_NAME text DEFAULT NULL,\nSHELTER_ADDRESS text DEFAULT NULL,\nSHELTER_CITY text DEFAULT NULL,\nSHELTER_PROVINCE text DEFAULT NULL,\nSHELTER_POSTAL_CODE text DEFAULT NULL,\nFACILITY_NAME text DEFAULT NULL,\nPROGRAM_NAME text DEFAULT NULL,\nSECTOR text DEFAULT NULL,\nOCCUPANCY bigint(20) DEFAULT NULL,\nCAPACITY bigint(20) DEFAULT NULL,\nNormalized_ADDRESS text DEFAULT NULL,\nindex_right bigint(20) DEFAULT NULL,\nAREA_NAME text DEFAULT NULL,\nPRIMARY KEY (ID)\n);\"\"\"\ncreate_table(DATABASE, SHELTEROCCUPANCYTABLE,SHELTERTABLE_CREATE)\nTable data604_daily_shelter_occupancy dropped successfully"},{"page":125,"sentence":"Table data604_daily_shelter_occupancy created successfully"},{"page":125,"sentence":"[19]: # We will be merging this dataset to our crime dataset on the geometric field, ␣\n↪to see any shelter locations\n# that fall within the geometric polygon of our crime dataset, therefore ␣\n↪telling us which neighborhood this shelter\n# is located\ncrime_geo =gpd"},{"page":125,"sentence":"read_file( 'neighbourhood-crime-rates"},{"page":125,"sentence":"geojson ')\ncrime_geo =crime_geo[[ 'AREA_NAME ','geometry ']]\n#Use a spatial join to determine if a geometric point flls within a certain ␣\n↪geometric polygon\nmerged_df =gpd"},{"page":125,"sentence":"sjoin(points_gdf, crime_geo, how ='inner', predicate ='within')\n#Drop our geometry data as it is no longer needed, and upload data to SQL table\nmerged_df =merged_df"},{"page":125,"sentence":"drop(columns =['GEOMETRY '], errors ='ignore')\nmerged_df[ 'ID']=merged_df"},{"page":125,"sentence":"index+1\n#This needs to be done in chunks due to the size of the dataset\nmerged_df"},{"page":125,"sentence":"↪to_sql(SHELTEROCCUPANCYTABLE,engine,index =False,if_exists ='append',chunksize =10000)\n[19]:148683\nIncome and education cleaning and uploading to SQL table\n[20]: #We begin by uploading our dataset\ndf20=pd"},{"page":125,"sentence":"read_csv( \"neighbourhood-profiles-2021-158-model (1)"},{"page":125,"sentence":"csv \",header=None)\n16"},{"page":126,"sentence":"#Select relevant columns\ndf20_clean =pd"},{"page":126,"sentence":"DataFrame(columns =df20"},{"page":126,"sentence":"columns, data =[df20"},{"page":126,"sentence":"iloc[0,:],df20"},{"page":126,"sentence":"↪iloc[67,:],df20"},{"page":126,"sentence":"iloc[1981,:],df20"},{"page":126,"sentence":"iloc[36,:]])\n#Make neighbourhoods rows\ndisplay(df20_clean)\npivot=df20_clean"},{"page":126,"sentence":"T\nhead=pivot"},{"page":126,"sentence":"iloc[0]\npivot=pivot[1:]\npivot"},{"page":126,"sentence":"columns=head\n#Rename long column names\nincomedf =pivot"},{"page":126,"sentence":"rename(columns ={'Neighbourhood Name ':'Neighbourhood ',\n'Total - Highest certificate, diploma or ␣\n↪degree for the population aged 15 years and over in private households - 25 %␣\n↪sample data ':'Degree',\n'Total - Persons in private households - 25 %␣\n↪sample data ':'Population ',\n'Average after-tax income in 2020 among ␣\n↪recipients ($) ':'Income'})\n#Create year variable\nincomedf[ 'YEAR']=2020\n#Convert number columns to int\nincomedf =incomedf"},{"page":126,"sentence":"astype({ 'Degree':'int'})\nincomedf =incomedf"},{"page":126,"sentence":"astype({ 'Population ':'int'})\nincomedf =incomedf"},{"page":126,"sentence":"astype({ 'Income':'int'})\n#Create degree rate variable\nincomedf[ 'Degree Rate ']=incomedf[ 'Degree']\/incomedf[ 'Population ']\nincomedf"},{"page":126,"sentence":"insert(0,'ID',incomedf"},{"page":126,"sentence":"index)\nincomedf"},{"page":126,"sentence":"rename(columns ={'Degree Rate ':'Degree_Rate '}, inplace =True)\nincomedf\n0 \\\n0 Neighbourhood Name\n67 Average after-tax income in 2020 among rec…\n1981 Total - Highest certificate, diploma or degree…\n36 Total - Persons in private households - 25% sa…\n1 2 \\\n0 West Humber-Clairville Mount Olive-Silverstone-Jamestown\n67 35800 31760\n1981 29000 25655\n36 33300 31345\n3 4 5 \\\n0 Thistletown-Beaumond Heights Rexdale-Kipling Elms-Old Rexdale\n67 36360 36880 36440\n1981 8350 8805 7745\n36 9850 10375 9355\n17"},{"page":127,"sentence":"6 7 \\\n0 Kingsview Village-The Westway Willowridge-Martingrove-Richview\n67 38640 45160\n1981 18090 18945\n36 22005 22445\n8 9 … \\\n0 Humber Heights-Westmount Edenbridge-Humber Valley …\n67 50160 68700 …\n1981 8635 13120 …\n36 10005 15190 …\n149 150 \\\n0 Harbourfront-CityPlace St Lawrence-East Bayfront-The Islands\n67 57700 61650\n1981 26060 29010\n36 28135 31285\n151 152 153 \\\n0 Church-Wellesley Downtown Yonge East Bay-Cloverhill\n67 46360 52900 50960\n1981 21420 16640 15930\n36 22320 17700 16670\n154 155 156 \\\n0 Yonge-Bay Corridor Junction-Wallace Emerson Dovercourt Village\n67 53050 45480 46200\n1981 11675 20105 11015\n36 12645 23180 12380\n157 158\n0 North Toronto South Eglinton-Davisville\n67 48200 54700\n1981 14570 20545\n36 15885 22735\n[4 rows x 159 columns]\n[20]:0 ID Neighbourhood Income Degree Population YEAR \\\n11 West Humber-Clairville 35800 29000 33300 2020\n22 Mount Olive-Silverstone-Jamestown 31760 25655 31345 2020\n33 Thistletown-Beaumond Heights 36360 8350 9850 2020\n44 Rexdale-Kipling 36880 8805 10375 2020\n55 Elms-Old Rexdale 36440 7745 9355 2020"},{"page":127,"sentence":"… … … … … …\n154 154 Yonge-Bay Corridor 53050 11675 12645 2020\n18"},{"page":128,"sentence":"155 155 Junction-Wallace Emerson 45480 20105 23180 2020\n156 156 Dovercourt Village 46200 11015 12380 2020\n157 157 North Toronto 48200 14570 15885 2020\n158 158 South Eglinton-Davisville 54700 20545 22735 2020\n0 Degree_Rate\n1 0"},{"page":128,"sentence":"870871\n2 0"},{"page":128,"sentence":"818472\n3 0"},{"page":128,"sentence":"847716\n4 0"},{"page":128,"sentence":"848675\n5 0"},{"page":128,"sentence":"827900"},{"page":128,"sentence":"…\n154 0"},{"page":128,"sentence":"923290\n155 0"},{"page":128,"sentence":"867343\n156 0"},{"page":128,"sentence":"889742\n157 0"},{"page":128,"sentence":"917218\n158 0"},{"page":128,"sentence":"903673\n[158 rows x 7 columns]\n[21]:INCOMETABLE_CREATE =f\"\"\"CREATE TABLE {INCOMETABLE }(\nID bigint(20) NOT NULL AUTO_INCREMENT,\nNeighbourhood text DEFAULT NULL,\nIncome bigint(20) DEFAULT NULL,\nDegree bigint(20) DEFAULT NULL,\nPopulation bigint(20) DEFAULT NULL,\nYEAR bigint(20) DEFAULT NULL,\nDegree_Rate double DEFAULT NULL,\nPRIMARY KEY (ID)\n);\"\"\"\ncreate_table(DATABASE, INCOMETABLE,INCOMETABLE_CREATE)\nTable data604_income dropped successfully"},{"page":128,"sentence":"Table data604_income created successfully"},{"page":128,"sentence":"[22]: #Make table\nincomedf"},{"page":128,"sentence":"to_sql(INCOMETABLE,engine,index =False,if_exists ='append')\nincome_table =pd"},{"page":128,"sentence":"read_sql_table(INCOMETABLE,engine)\ncrime_table_df =pd"},{"page":128,"sentence":"read_sql_table(CRIMETABLE,engine)\nincomedf\n[22]:0 ID Neighbourhood Income Degree Population YEAR \\\n11 West Humber-Clairville 35800 29000 33300 2020\n22 Mount Olive-Silverstone-Jamestown 31760 25655 31345 2020\n33 Thistletown-Beaumond Heights 36360 8350 9850 2020\n44 Rexdale-Kipling 36880 8805 10375 2020\n55 Elms-Old Rexdale 36440 7745 9355 2020"},{"page":128,"sentence":"… … … … … …\n19"},{"page":129,"sentence":"154 154 Yonge-Bay Corridor 53050 11675 12645 2020\n155 155 Junction-Wallace Emerson 45480 20105 23180 2020\n156 156 Dovercourt Village 46200 11015 12380 2020\n157 157 North Toronto 48200 14570 15885 2020\n158 158 South Eglinton-Davisville 54700 20545 22735 2020\n0 Degree_Rate\n1 0"},{"page":129,"sentence":"870871\n2 0"},{"page":129,"sentence":"818472\n3 0"},{"page":129,"sentence":"847716\n4 0"},{"page":129,"sentence":"848675\n5 0"},{"page":129,"sentence":"827900"},{"page":129,"sentence":"…\n154 0"},{"page":129,"sentence":"923290\n155 0"},{"page":129,"sentence":"867343\n156 0"},{"page":129,"sentence":"889742\n157 0"},{"page":129,"sentence":"917218\n158 0"},{"page":129,"sentence":"903673\n[158 rows x 7 columns]\nBike rack cleaning and uploading to SQL table\n[23]: ### Bike rack cleaning\n# cleann bike rack csv\n# read csv\nbikerack_df =pd"},{"page":129,"sentence":"read_csv( 'Bicycle Parking Racks Data - 4326"},{"page":129,"sentence":"csv ')\n# drop columns that aren't needed\nbikerack_df =bikerack_df"},{"page":129,"sentence":"drop(columns =['ADDRESS_POINT_ID ',␣\n↪'ADDRESS_NUMBER ','LINEAR_NAME_FULL ','CENTRELINE_ID ','LO_NUM','LO_NUM_SUF ','HI_NUM','HI_NUM_SUF ','LINEAR_NAME_ID ','MI_PRINX ','OBJECTID ','MULTIMODAL ','SEASONAL ','SURFACE','LOCATION ','NOTES'])\nbikerack_df_cleaned =bikerack_df[bikerack_df[ 'STATUS']"},{"page":129,"sentence":"str"},{"page":129,"sentence":"lower() ==␣\n↪'installed '] # make sure the bike rack is installed\n# drop rows with missing values\nbikerack_df_cleaned =bikerack_df_cleaned"},{"page":129,"sentence":"dropna(subset =['ADDRESS_FULL ',␣\n↪'POSTAL_CODE ','WARD_NAME '])\n#make sure capacity is a number\nbikerack_df_cleaned[ 'CAPACITY ']=pd"},{"page":129,"sentence":"↪to_numeric(bikerack_df_cleaned[ 'CAPACITY '], errors ='coerce')\nbikerack_df_cleaned =bikerack_df_cleaned"},{"page":129,"sentence":"dropna(subset =['CAPACITY ']) # get rid ␣\n↪of rows with no capacity\nbikerack_df_cleaned =bikerack_df_cleaned"},{"page":129,"sentence":"reset_index(drop =True)\n20"},{"page":130,"sentence":"# save new csv\nbikerack_df_cleaned"},{"page":130,"sentence":"to_csv('Cleaned_Bicycle_Parking_Racks_Data"},{"page":130,"sentence":"csv ', index =␣\n↪False)\n### Crime data pivot and clean\n# read geojson\ncrime_df =gpd"},{"page":130,"sentence":"read_file( 'neighbourhood-crime-rates"},{"page":130,"sentence":"geojson ')\n# set column names\nid_cols =['_id','AREA_NAME ','HOOD_ID','POPULATION_2023 ','geometry ']\n#wide_to_long to squish the ASSAULT_2014, ASSAULT_2015, etc"},{"page":130,"sentence":"into just ASSAULT ␣\n↪and add a Year column\ncrime_long =pd"},{"page":130,"sentence":"wide_to_long(\ncrime_df,\nstubnames =[\n'ASSAULT','ASSAULT_RATE ','AUTOTHEFT ','AUTOTHEFT_RATE ',\n'BIKETHEFT ','BIKETHEFT_RATE ','BREAKENTER ','BREAKENTER_RATE ',\n'HOMICIDE ','HOMICIDE_RATE ','ROBBERY','ROBBERY_RATE ',\n'SHOOTING ','SHOOTING_RATE ','THEFTFROMMV ','THEFTFROMMV_RATE ',\n'THEFTOVER ','THEFTOVER_RATE '],\ni=id_cols,\nj='Year', #makes it so Year is a column\nsep='_'\n)"},{"page":130,"sentence":"reset_index()\n# save new csv\ncrime_long"},{"page":130,"sentence":"to_csv('crime_long2"},{"page":130,"sentence":"csv ', index=False)\n### clean crime_long2\n#read file\ncrime_df =pd"},{"page":130,"sentence":"read_csv( 'crime_long2"},{"page":130,"sentence":"csv ')\n# drop rows with missing values\ncrime_df =crime_df"},{"page":130,"sentence":"dropna(subset =['BIKETHEFT ','BIKETHEFT_RATE ','HOOD_ID'])\n# drop unnecessary columns\ncolumns_to_drop =['ASSAULT','ASSAULT_RATE ','AUTOTHEFT ','AUTOTHEFT_RATE ',\n'BREAKENTER ','BREAKENTER_RATE ',\n'HOMICIDE ','HOMICIDE_RATE ','ROBBERY','ROBBERY_RATE ',\n'SHOOTING ','SHOOTING_RATE ','THEFTFROMMV ','THEFTFROMMV_RATE ',\n'THEFTOVER ','THEFTOVER_RATE ']\ncrime_df_cleaned =crime_df"},{"page":130,"sentence":"drop(columns =columns_to_drop)\n21"},{"page":131,"sentence":"# convert POPULATION_2023 column to numeric\ncrime_df_cleaned[ 'POPULATION_2023 ']=pd"},{"page":131,"sentence":"↪to_numeric(crime_df_cleaned[ 'POPULATION_2023 '], errors ='coerce')\ncrime_df_cleaned =crime_df_cleaned"},{"page":131,"sentence":"dropna(subset =['POPULATION_2023 '])\n# reset the index\ncrime_df_cleaned =crime_df_cleaned"},{"page":131,"sentence":"reset_index(drop =True)\n# save new csv\ncrime_df_cleaned"},{"page":131,"sentence":"to_csv('Cleaned_crime_long_Data"},{"page":131,"sentence":"csv ', index=False)\n### Merging Bike and crime\n# read cleaned files\nbikerack_df =pd"},{"page":131,"sentence":"read_csv( 'Cleaned_Bicycle_Parking_Racks_Data"},{"page":131,"sentence":"csv ')\ncrime_stats_df =pd"},{"page":131,"sentence":"read_csv( 'Cleaned_crime_long_Data"},{"page":131,"sentence":"csv ')\n# turn geometry to a string for bike racks\nifisinstance (bikerack_df[ 'geometry ']"},{"page":131,"sentence":"iloc[0],str):\ntry:\nbikerack_df[ 'geometry ']=bikerack_df[ 'geometry ']"},{"page":131,"sentence":"apply( lambdax:␣\n↪shape(json"},{"page":131,"sentence":"loads(x)))\nexcept(json"},{"page":131,"sentence":"JSONDecodeError, TypeError ):\nbikerack_df[ 'geometry ']=gpd"},{"page":131,"sentence":"GeoSeries"},{"page":131,"sentence":"↪from_wkt(bikerack_df[ 'geometry '])\n# turn geometry to a string for crime\nifisinstance (crime_stats_df[ 'geometry ']"},{"page":131,"sentence":"iloc[0],str):\ntry:\ncrime_stats_df[ 'geometry ']=crime_stats_df[ 'geometry ']"},{"page":131,"sentence":"apply( lambdax:␣\n↪shape(json"},{"page":131,"sentence":"loads(x)))\nexcept(json"},{"page":131,"sentence":"JSONDecodeError, TypeError ):\ncrime_stats_df[ 'geometry ']=gpd"},{"page":131,"sentence":"GeoSeries"},{"page":131,"sentence":"↪from_wkt(crime_stats_df[ 'geometry '])\n# turn dataframes into geodataframes\nbikerack_gdf =gpd"},{"page":131,"sentence":"GeoDataFrame(bikerack_df, geometry ='geometry ')\ncrime_stats_gdf =gpd"},{"page":131,"sentence":"GeoDataFrame(crime_stats_df, geometry ='geometry ')\n# set coordinate reference systen\nbikerack_gdf =bikerack_gdf"},{"page":131,"sentence":"set_crs(epsg =4326)\ncrime_stats_gdf =crime_stats_gdf"},{"page":131,"sentence":"set_crs(epsg =4326)\n# function to check if points are inside polygons\ndefcheck_points_in_polygons (points_gdf, polygons_gdf, output_file =None):\n22"},{"page":132,"sentence":"if notisinstance (points_gdf, gpd"},{"page":132,"sentence":"GeoDataFrame) or not␣\n↪isinstance (polygons_gdf, gpd"},{"page":132,"sentence":"GeoDataFrame):\nraise ValueError (\"Both inputs must be GeoDataFrames"},{"page":132,"sentence":"\")\n# join on points and polygons\nresult=gpd"},{"page":132,"sentence":"sjoin(points_gdf, polygons_gdf, how ='inner',␣\n↪predicate ='within')\n# save file to right type\nifoutput_file:\nifoutput_file"},{"page":132,"sentence":"endswith( '"},{"page":132,"sentence":"csv'):\nresult"},{"page":132,"sentence":"to_csv(output_file, index =False)\nelifoutput_file"},{"page":132,"sentence":"endswith( '"},{"page":132,"sentence":"geojson '):\nresult"},{"page":132,"sentence":"to_file(output_file, driver ='GeoJSON')\nelifoutput_file"},{"page":132,"sentence":"endswith( '"},{"page":132,"sentence":"shp'):\nresult"},{"page":132,"sentence":"to_file(output_file)\nelse:\nraise ValueError (\"Unsupported file format"},{"page":132,"sentence":"Use"},{"page":132,"sentence":"csv,"},{"page":132,"sentence":"geojson, or"},{"page":132,"sentence":"↪shp"},{"page":132,"sentence":"\")\nreturnresult\n# save new joined csv\noutput=check_points_in_polygons(bikerack_gdf, crime_stats_gdf, ␣\n↪output_file ='Bike_crime"},{"page":132,"sentence":"csv ')\n[24]:BIKETABLE_CREATE =f\"\"\"CREATE TABLE {BIKECRIMETABLE }(\nID bigint(20) NOT NULL AUTO_INCREMENT,\nid_left bigint(20) DEFAULT NULL,\nADDRESS_FULL text DEFAULT NULL,\nPOSTAL_CODE text DEFAULT NULL,\nMUNICIPALITY text DEFAULT NULL,\nCITY text DEFAULT NULL,\nWARD_NAME text DEFAULT NULL,\nCAPACITY bigint(20) DEFAULT NULL,\nSHELTERED text DEFAULT NULL,\nSTATUS text DEFAULT NULL,\nMAP_CLASS text DEFAULT NULL,\ngeometry text DEFAULT NULL,\nindex_right bigint(20) DEFAULT NULL,\nid_right bigint(20) DEFAULT NULL,\nAREA_NAME text DEFAULT NULL,\nHOOD_ID double DEFAULT NULL,\nPOPULATION_2023 bigint(20) DEFAULT NULL,\nYear bigint(20) DEFAULT NULL,\nBIKETHEFT bigint(20) DEFAULT NULL,\nBIKETHEFT_RATE double DEFAULT NULL,\nPRIMARY KEY (ID)\n23"},{"page":133,"sentence":");\"\"\"\ncreate_table(DATABASE, BIKECRIMETABLE,BIKETABLE_CREATE)\nTable data604_Bike_crime dropped successfully"},{"page":133,"sentence":"Table data604_Bike_crime created successfully"},{"page":133,"sentence":"[25]: ### Create Bike_crime table\n# read file\ndf=pd"},{"page":133,"sentence":"read_csv( 'Bike_crime"},{"page":133,"sentence":"csv ')\ndf"},{"page":133,"sentence":"insert(0,'ID',df"},{"page":133,"sentence":"index+1)\ndf"},{"page":133,"sentence":"rename(columns ={'_id_left ':'id_left','_id_right ':'id_right '}, inplace =␣\n↪True)\n# save file to a table\ndf"},{"page":133,"sentence":"to_sql(BIKECRIMETABLE, engine, if_exists ='append', index=False)\n[25]:1390\n[26]:SQL(\"SHOW TABLES \")\n[26]: Tables_in_project\n0 data604_Bike_crime\n1 data604_address_points\n2 data604_converted_budget\n3 data604_converted_crime\n4 data604_daily_shelter_occupancy\n5 data604_daily_shelter_occupancy_points\n6 data604_daily_shelter_occupancy_raw\n7 data604_income\n24"},{"page":134,"sentence":"4"},{"page":134,"sentence":"1"},{"page":134,"sentence":"1 Entity relationship Diagram\n4"},{"page":134,"sentence":"2 Data Exploration for Each Guiding Question\nPolice Budget vs Crime Statistics - Aaron Gelfand\n[27]: # query for inspecting relationship between police budget and crime stats\n# create a dataframe from our budget table and crime table which looks at all ␣\n↪crime total counts and avg crime rates\n#Also take our total budget in billions and budget change in billions\n# merges the two into one table using the year column\ncrime_query =f\"\"\"\nWITH CrimeTotals AS (\nSELECT\nyear,\nSUM(ASSAULT) as total_assault,\nSUM(AUTOTHEFT) as total_autotheft,\nSUM(BIKETHEFT) as total_biketheft,\nSUM(BREAKENTER) as total_breakenter,\nSUM(HOMICIDE) as total_homicide,\n25"},{"page":135,"sentence":"SUM(ROBBERY) as total_robbery,\nSUM(SHOOTING) as total_shooting,\nSUM(THEFTFROMMV) as total_theftfrommv,\nSUM(THEFTOVER) as total_theftover,\nAVG(ASSAULT_RATE) as avg_assault_rate,\nAVG(AUTOTHEFT_RATE) as avg_autotheft_rate,\nAVG(BIKETHEFT_RATE) as avg_biketheft_rate,\nAVG(BREAKENTER_RATE) as avg_breakenter_rate,\nAVG(HOMICIDE_RATE) as avg_homicide_rate,\nAVG(ROBBERY_RATE) as avg_robbery_rate,\nAVG(SHOOTING_RATE) as avg_shooting_rate,\nAVG(THEFTFROMMV_RATE) as avg_theftfrommv_rate,\nAVG(THEFTOVER_RATE) as avg_theftover_rate\nFROM {CRIMETABLE }\nGROUP BY year\n),\nBudgetData AS (\nSELECT\nyear,\nCAST(SUM(gross_operating_budget) \/ 1000000000 AS FLOAT) AS ␣\n↪total_budget_in_billions,\nCAST(SUM(absolute_budget_change) \/ 1000000000 AS FLOAT) AS ␣\n↪budget_change_in_billions,\npercent_change\nFROM {BUDGETTABLE }\nGROUP BY year\n)\nSELECT\nB"},{"page":135,"sentence":"year,\nB"},{"page":135,"sentence":"total_budget_in_billions,\nB"},{"page":135,"sentence":"budget_change_in_billions,\nB"},{"page":135,"sentence":"percent_change,\nC"},{"page":135,"sentence":"total_assault,\nC"},{"page":135,"sentence":"total_autotheft,\nC"},{"page":135,"sentence":"total_biketheft,\nC"},{"page":135,"sentence":"total_breakenter,\nC"},{"page":135,"sentence":"total_homicide,\nC"},{"page":135,"sentence":"total_robbery,\nC"},{"page":135,"sentence":"total_shooting,\nC"},{"page":135,"sentence":"total_theftfrommv,\nC"},{"page":135,"sentence":"total_theftover,\nC"},{"page":135,"sentence":"avg_assault_rate,\nC"},{"page":135,"sentence":"avg_autotheft_rate,\nC"},{"page":135,"sentence":"avg_biketheft_rate,\nC"},{"page":135,"sentence":"avg_breakenter_rate,\n26"},{"page":136,"sentence":"C"},{"page":136,"sentence":"avg_homicide_rate,\nC"},{"page":136,"sentence":"avg_robbery_rate,\nC"},{"page":136,"sentence":"avg_shooting_rate,\nC"},{"page":136,"sentence":"avg_theftfrommv_rate,\nC"},{"page":136,"sentence":"avg_theftover_rate\nFROM BudgetData B\nJoin CrimeTotals C\nOn B"},{"page":136,"sentence":"year=C"},{"page":136,"sentence":"year\nORDER BY B"},{"page":136,"sentence":"year;\n\"\"\"\nresult_df =SQL(crime_query)\nSQL(crime_query)\n[27]: year total_budget_in_billions budget_change_in_billions percent_change \\\n0 2014 1"},{"page":136,"sentence":"08600 0"},{"page":136,"sentence":"063610 0"},{"page":136,"sentence":"062000\n1 2015 1"},{"page":136,"sentence":"10322 0"},{"page":136,"sentence":"017216 0"},{"page":136,"sentence":"017000\n2 2016 1"},{"page":136,"sentence":"13188 0"},{"page":136,"sentence":"028666 0"},{"page":136,"sentence":"026000\n3 2017 1"},{"page":136,"sentence":"12862 -0"},{"page":136,"sentence":"003267 -0"},{"page":136,"sentence":"003000\n4 2018 1"},{"page":136,"sentence":"13683 0"},{"page":136,"sentence":"008210 0"},{"page":136,"sentence":"007000\n5 2019 1"},{"page":136,"sentence":"20194 0"},{"page":136,"sentence":"065113 0"},{"page":136,"sentence":"057000\n6 2020 1"},{"page":136,"sentence":"22122 0"},{"page":136,"sentence":"019276 0"},{"page":136,"sentence":"016000\n7 2021 1"},{"page":136,"sentence":"22000 -0"},{"page":136,"sentence":"001215 -0"},{"page":136,"sentence":"000995\n8 2022 1"},{"page":136,"sentence":"26243 0"},{"page":136,"sentence":"042427 0"},{"page":136,"sentence":"033610\n9 2023 1"},{"page":136,"sentence":"33063 0"},{"page":136,"sentence":"068197 0"},{"page":136,"sentence":"054020\ntotal_assault total_autotheft total_biketheft total_breakenter \\\n0 16530"},{"page":136,"sentence":"0 3576"},{"page":136,"sentence":"0 3023"},{"page":136,"sentence":"0 7185"},{"page":136,"sentence":"0\n1 17875"},{"page":136,"sentence":"0 3262"},{"page":136,"sentence":"0 3294"},{"page":136,"sentence":"0 6911"},{"page":136,"sentence":"0\n2 18626"},{"page":136,"sentence":"0 3311"},{"page":136,"sentence":"0 3798"},{"page":136,"sentence":"0 6402"},{"page":136,"sentence":"0\n3 18928"},{"page":136,"sentence":"0 3568"},{"page":136,"sentence":"0 3856"},{"page":136,"sentence":"0 6883"},{"page":136,"sentence":"0\n4 19586"},{"page":136,"sentence":"0 4774"},{"page":136,"sentence":"0 3967"},{"page":136,"sentence":"0 7565"},{"page":136,"sentence":"0\n5 20602"},{"page":136,"sentence":"0 5285"},{"page":136,"sentence":"0 3704"},{"page":136,"sentence":"0 8438"},{"page":136,"sentence":"0\n6 17974"},{"page":136,"sentence":"0 5731"},{"page":136,"sentence":"0 3915"},{"page":136,"sentence":"0 6914"},{"page":136,"sentence":"0\n7 19012"},{"page":136,"sentence":"0 6579"},{"page":136,"sentence":"0 3154"},{"page":136,"sentence":"0 5671"},{"page":136,"sentence":"0\n8 21024"},{"page":136,"sentence":"0 9662"},{"page":136,"sentence":"0 2940"},{"page":136,"sentence":"0 6038"},{"page":136,"sentence":"0\n9 24376"},{"page":136,"sentence":"0 12013"},{"page":136,"sentence":"0 3008"},{"page":136,"sentence":"0 7632"},{"page":136,"sentence":"0\ntotal_homicide total_robbery … total_theftover avg_assault_rate \\\n0 58"},{"page":136,"sentence":"0 3668"},{"page":136,"sentence":"0 … 993"},{"page":136,"sentence":"0 610"},{"page":136,"sentence":"401795\n1 59"},{"page":136,"sentence":"0 3472"},{"page":136,"sentence":"0 … 1035"},{"page":136,"sentence":"0 656"},{"page":136,"sentence":"997006\n2 75"},{"page":136,"sentence":"0 3654"},{"page":136,"sentence":"0 … 1030"},{"page":136,"sentence":"0 670"},{"page":136,"sentence":"169852\n3 65"},{"page":136,"sentence":"0 4008"},{"page":136,"sentence":"0 … 1167"},{"page":136,"sentence":"0 673"},{"page":136,"sentence":"530257\n4 98"},{"page":136,"sentence":"0 3623"},{"page":136,"sentence":"0 … 1230"},{"page":136,"sentence":"0 680"},{"page":136,"sentence":"128628\n5 79"},{"page":136,"sentence":"0 3508"},{"page":136,"sentence":"0 … 1368"},{"page":136,"sentence":"0 706"},{"page":136,"sentence":"708804\n6 71"},{"page":136,"sentence":"0 2773"},{"page":136,"sentence":"0 … 1209"},{"page":136,"sentence":"0 605"},{"page":136,"sentence":"126466\n7 85"},{"page":136,"sentence":"0 2243"},{"page":136,"sentence":"0 … 1053"},{"page":136,"sentence":"0 637"},{"page":136,"sentence":"650870\n27"},{"page":137,"sentence":"8 71"},{"page":137,"sentence":"0 2807"},{"page":137,"sentence":"0 … 1444"},{"page":137,"sentence":"0 703"},{"page":137,"sentence":"030473\n9 72"},{"page":137,"sentence":"0 3149"},{"page":137,"sentence":"0 … 1724"},{"page":137,"sentence":"0 806"},{"page":137,"sentence":"310513\navg_autotheft_rate avg_biketheft_rate avg_breakenter_rate \\\n0 122"},{"page":137,"sentence":"894735 127"},{"page":137,"sentence":"664053 268"},{"page":137,"sentence":"183005\n1 113"},{"page":137,"sentence":"846110 133"},{"page":137,"sentence":"504008 255"},{"page":137,"sentence":"802629\n2 113"},{"page":137,"sentence":"862644 149"},{"page":137,"sentence":"693942 234"},{"page":137,"sentence":"708454\n3 120"},{"page":137,"sentence":"558686 148"},{"page":137,"sentence":"402819 248"},{"page":137,"sentence":"018052\n4 159"},{"page":137,"sentence":"456077 150"},{"page":137,"sentence":"450802 264"},{"page":137,"sentence":"205776\n5 175"},{"page":137,"sentence":"019654 135"},{"page":137,"sentence":"200693 293"},{"page":137,"sentence":"590049\n6 186"},{"page":137,"sentence":"981110 142"},{"page":137,"sentence":"251404 241"},{"page":137,"sentence":"965059\n7 217"},{"page":137,"sentence":"026578 112"},{"page":137,"sentence":"199870 193"},{"page":137,"sentence":"507392\n8 316"},{"page":137,"sentence":"850521 105"},{"page":137,"sentence":"244566 205"},{"page":137,"sentence":"555160\n9 382"},{"page":137,"sentence":"173675 102"},{"page":137,"sentence":"847534 258"},{"page":137,"sentence":"216067\navg_homicide_rate avg_robbery_rate avg_shooting_rate \\\n0 2"},{"page":137,"sentence":"112469 136"},{"page":137,"sentence":"057003 6"},{"page":137,"sentence":"274449\n1 2"},{"page":137,"sentence":"212523 124"},{"page":137,"sentence":"980440 10"},{"page":137,"sentence":"707640\n2 2"},{"page":137,"sentence":"696912 131"},{"page":137,"sentence":"174051 14"},{"page":137,"sentence":"310603\n3 2"},{"page":137,"sentence":"438607 141"},{"page":137,"sentence":"363362 13"},{"page":137,"sentence":"704951\n4 3"},{"page":137,"sentence":"630148 127"},{"page":137,"sentence":"874208 14"},{"page":137,"sentence":"227553\n5 2"},{"page":137,"sentence":"882434 120"},{"page":137,"sentence":"688364 16"},{"page":137,"sentence":"807147\n6 2"},{"page":137,"sentence":"220783 92"},{"page":137,"sentence":"661019 14"},{"page":137,"sentence":"691605\n7 2"},{"page":137,"sentence":"974706 75"},{"page":137,"sentence":"648864 13"},{"page":137,"sentence":"390221\n8 2"},{"page":137,"sentence":"344280 92"},{"page":137,"sentence":"461004 12"},{"page":137,"sentence":"401718\n9 2"},{"page":137,"sentence":"251066 103"},{"page":137,"sentence":"874248 11"},{"page":137,"sentence":"212980\navg_theftfrommv_rate avg_theftover_rate\n0 353"},{"page":137,"sentence":"516855 36"},{"page":137,"sentence":"385880\n1 320"},{"page":137,"sentence":"224055 37"},{"page":137,"sentence":"096303\n2 276"},{"page":137,"sentence":"356090 36"},{"page":137,"sentence":"700544\n3 294"},{"page":137,"sentence":"381803 40"},{"page":137,"sentence":"144456\n4 312"},{"page":137,"sentence":"275849 41"},{"page":137,"sentence":"853118\n5 339"},{"page":137,"sentence":"260389 46"},{"page":137,"sentence":"163937\n6 345"},{"page":137,"sentence":"983044 40"},{"page":137,"sentence":"760462\n7 270"},{"page":137,"sentence":"300717 34"},{"page":137,"sentence":"193171\n8 300"},{"page":137,"sentence":"305751 46"},{"page":137,"sentence":"940361\n9 277"},{"page":137,"sentence":"921576 54"},{"page":137,"sentence":"832638\n[10 rows x 22 columns]\n[28]: #Plot out operating budget vs avg crime rates, with budget as bars and crime ␣\n↪rates as lines, so you can see the change in both over time\nfig, axs =plt"},{"page":137,"sentence":"subplots( 2,2,figsize =(15,12))\naxs[0,0]"},{"page":137,"sentence":"bar(result_df[ 'year'], result_df[ 'total_budget_in_billions '],␣\n↪color='tab:blue ', alpha=0"},{"page":137,"sentence":"4, label='Total Budget (Billions) ')\n28"},{"page":138,"sentence":"axs[0,0]"},{"page":138,"sentence":"set_xlabel( 'Year')\naxs[0,0]"},{"page":138,"sentence":"set_ylabel( 'Total Budget (in billions) ', color='tab:blue ')\naxs[0,0]"},{"page":138,"sentence":"tick_params(axis ='y', labelcolor ='tab:blue ')\nax2=axs[0,0]"},{"page":138,"sentence":"twinx()\nax2"},{"page":138,"sentence":"plot(result_df[ 'year'], result_df[ 'avg_assault_rate '], label ='Average␣\n↪Assault Rates ', color='magenta', linewidth =2)\nax2"},{"page":138,"sentence":"set_ylabel( 'Crime Rates ', color='green')\nax2"},{"page":138,"sentence":"tick_params(axis ='y', labelcolor ='green')\naxs[0,0]"},{"page":138,"sentence":"set_title( 'Operating Budget vs"},{"page":138,"sentence":"Average Assault Rates per 100,000 ␣\n↪Population ')\naxs[0,1]"},{"page":138,"sentence":"bar(result_df[ 'year'], result_df[ 'total_budget_in_billions '],␣\n↪color='tab:blue ', alpha=0"},{"page":138,"sentence":"4)\naxs[0,1]"},{"page":138,"sentence":"set_xlabel( 'Year')\naxs[0,1]"},{"page":138,"sentence":"set_ylabel( 'Total Budget (in billions) ', color='tab:blue ')\naxs[0,1]"},{"page":138,"sentence":"tick_params(axis ='y', labelcolor ='tab:blue ')\nax2=axs[0,1]"},{"page":138,"sentence":"twinx()\nax2"},{"page":138,"sentence":"plot(result_df[ 'year'], result_df[ 'avg_autotheft_rate '], label ='Average␣\n↪Auto Theft Rates ', color='tab:orange ', linewidth =2)\nax2"},{"page":138,"sentence":"plot(result_df[ 'year'], result_df[ 'avg_breakenter_rate '], label ='Average␣\n↪Break and Enter Rates ', color='tab:green ', linewidth =2)\nax2"},{"page":138,"sentence":"plot(result_df[ 'year'], result_df[ 'avg_biketheft_rate '], label ='Average␣\n↪Bike Theft Rates ', color='tab:red', linewidth =2)\nax2"},{"page":138,"sentence":"plot(result_df[ 'year'], result_df[ 'avg_robbery_rate '], label ='Average␣\n↪Robbery Rates ', color='tab:blue ', linewidth =2)\nax2"},{"page":138,"sentence":"plot(result_df[ 'year'], result_df[ 'avg_theftfrommv_rate '], label ='Average␣\n↪Theft from Moving Vehicle Rates ', color='black', linewidth =2)\nax2"},{"page":138,"sentence":"plot(result_df[ 'year'], result_df[ 'avg_theftover_rate '], label ='Average␣\n↪Thefts Over $5000 Rates ', color='tab:brown ', linewidth =2)\nax2"},{"page":138,"sentence":"set_ylabel( 'Crime Rates ', color='green')\nax2"},{"page":138,"sentence":"tick_params(axis ='y', labelcolor ='green')\naxs[0,1]"},{"page":138,"sentence":"set_title( 'Operating Budget vs"},{"page":138,"sentence":"Average Rates for Multiple Crimes per ␣\n↪100,000 Population ')\naxs[1,0]"},{"page":138,"sentence":"bar(result_df[ 'year'], result_df[ 'total_budget_in_billions '],␣\n↪color='tab:blue ', alpha=0"},{"page":138,"sentence":"4)\naxs[1,0]"},{"page":138,"sentence":"set_xlabel( 'Year')\naxs[1,0]"},{"page":138,"sentence":"set_ylabel( 'Total Budget (in billions) ', color='tab:blue ')\naxs[1,0]"},{"page":138,"sentence":"tick_params(axis ='y', labelcolor ='tab:blue ')\nax2=axs[1,0]"},{"page":138,"sentence":"twinx()\nax2"},{"page":138,"sentence":"plot(result_df[ 'year'], result_df[ 'avg_homicide_rate '], label ='Average␣\n↪Homicide Rates ', color='purple', linewidth =2)\nax2"},{"page":138,"sentence":"plot(result_df[ 'year'], result_df[ 'avg_shooting_rate '], label ='Average␣\n↪Shooting Rates ', color='teal', linewidth =2)\nax2"},{"page":138,"sentence":"set_ylabel( 'Crime Rates ', color='green')\nax2"},{"page":138,"sentence":"tick_params(axis ='y', labelcolor ='green')\n29"},{"page":139,"sentence":"axs[1,0]"},{"page":139,"sentence":"set_title( 'Operating Budget vs"},{"page":139,"sentence":"Average Homicide and Shooting Rates ␣\n↪per 100,000 Population ')\naxs[1,1]"},{"page":139,"sentence":"axis('off')\nfig"},{"page":139,"sentence":"suptitle( 'Operating Budget vs"},{"page":139,"sentence":"Average Crime Statistic Rates per 100,000 ␣\n↪Population Over Time ', fontsize =16)\nfig"},{"page":139,"sentence":"tight_layout(rect =[0,0,1,0"},{"page":139,"sentence":"96]) # Adjust layout to avoid overlap\nfig"},{"page":139,"sentence":"legend(loc ='upper left ', bbox_to_anchor =(0"},{"page":139,"sentence":"6,0"},{"page":139,"sentence":"4))\nplt"},{"page":139,"sentence":"show()\n[29]: # Our sample size for budgetary data is too small (n=10) therefore we decided ␣\n↪to run bootstrapping\ntarget_columns =[\n'avg_assault_rate ','avg_autotheft_rate ','avg_biketheft_rate ',␣\n↪'avg_breakenter_rate ',\n'avg_homicide_rate ','avg_robbery_rate ','avg_shooting_rate ',␣\n↪'avg_theftfrommv_rate ',\n30"},{"page":140,"sentence":"'avg_theftover_rate '\n]\nn_iter=1000\nboot_results ={}\nfortarget intarget_columns:\ny=result_df[target]\nX=result_df[[ 'total_budget_in_billions ']]\nX=sm"},{"page":140,"sentence":"add_constant(X)\nboot_coefs =[]\nfor_ inrange(n_iter):\nresample_indices =np"},{"page":140,"sentence":"random"},{"page":140,"sentence":"choice(len(result_df), ␣\n↪len(result_df),replace =True)\nX_resample =X"},{"page":140,"sentence":"iloc[resample_indices]\ny_resample =y"},{"page":140,"sentence":"iloc[resample_indices]\nmodel=sm"},{"page":140,"sentence":"OLS(y_resample, X_resample)"},{"page":140,"sentence":"fit()\nboot_coefs"},{"page":140,"sentence":"append(model"},{"page":140,"sentence":"params"},{"page":140,"sentence":"values)\nboot_coefs_df =pd"},{"page":140,"sentence":"DataFrame(boot_coefs,columns =['Intercept ','Slope'])\nboot_results[target] =boot_coefs_df\nintercept_mean =boot_coefs_df[ 'Intercept ']"},{"page":140,"sentence":"mean()\nintercept_std =boot_coefs_df[ 'Intercept ']"},{"page":140,"sentence":"std()\nslope_mean =boot_coefs_df[ 'Slope']"},{"page":140,"sentence":"mean()\nslope_std =boot_coefs_df[ 'Slope']"},{"page":140,"sentence":"std()\nprint(f\"Bootstrap Results for {target }:\")\nprint(f\"Intercept: Mean = {intercept_mean :"},{"page":140,"sentence":"3f }, Std Dev = {intercept_std :"},{"page":140,"sentence":"↪3f }\")\nprint(f\"Slope: Mean = {slope_mean :"},{"page":140,"sentence":"3f }, Std Dev = {slope_std :"},{"page":140,"sentence":"3f }\")\nprint(f\"95% CI for Slope: {np"},{"page":140,"sentence":"percentile(boot_coefs_df[ 'Slope'],[2"},{"page":140,"sentence":"5,97"},{"page":140,"sentence":"↪5])}\")\nprint()\nBootstrap Results for avg_assault_rate:\nIntercept: Mean = 200"},{"page":140,"sentence":"268, Std Dev = 295"},{"page":140,"sentence":"023\nSlope: Mean = 399"},{"page":140,"sentence":"191, Std Dev = 256"},{"page":140,"sentence":"663\n95% CI for Slope: [-219"},{"page":140,"sentence":"29111869 723"},{"page":140,"sentence":"56022077]\nBootstrap Results for avg_autotheft_rate:\nIntercept: Mean = -1089"},{"page":140,"sentence":"792, Std Dev = 210"},{"page":140,"sentence":"396\nSlope: Mean = 1080"},{"page":140,"sentence":"958, Std Dev = 181"},{"page":140,"sentence":"100\n95% CI for Slope: [ 587"},{"page":140,"sentence":"81773088 1344"},{"page":140,"sentence":"30914803]\nBootstrap Results for avg_biketheft_rate:\nIntercept: Mean = 323"},{"page":140,"sentence":"732, Std Dev = 87"},{"page":140,"sentence":"799\nSlope: Mean = -162"},{"page":140,"sentence":"449, Std Dev = 74"},{"page":140,"sentence":"914\n31"},{"page":141,"sentence":"95% CI for Slope: [-290"},{"page":141,"sentence":"01173223 -5"},{"page":141,"sentence":"53325095]\nBootstrap Results for avg_breakenter_rate:\nIntercept: Mean = 400"},{"page":141,"sentence":"265, Std Dev = 151"},{"page":141,"sentence":"882\nSlope: Mean = -130"},{"page":141,"sentence":"903, Std Dev = 133"},{"page":141,"sentence":"942\n95% CI for Slope: [-414"},{"page":141,"sentence":"43424544 80"},{"page":141,"sentence":"83283158]\nBootstrap Results for avg_homicide_rate:\nIntercept: Mean = 3"},{"page":141,"sentence":"224, Std Dev = 2"},{"page":141,"sentence":"802\nSlope: Mean = -0"},{"page":141,"sentence":"515, Std Dev = 2"},{"page":141,"sentence":"346\n95% CI for Slope: [-5"},{"page":141,"sentence":"15405213 4"},{"page":141,"sentence":"147113 ]\nBootstrap Results for avg_robbery_rate:\nIntercept: Mean = 384"},{"page":141,"sentence":"456, Std Dev = 97"},{"page":141,"sentence":"799\nSlope: Mean = -228"},{"page":141,"sentence":"910, Std Dev = 84"},{"page":141,"sentence":"969\n95% CI for Slope: [-433"},{"page":141,"sentence":"54062493 -114"},{"page":141,"sentence":"94065184]\nBootstrap Results for avg_shooting_rate:\nIntercept: Mean = 0"},{"page":141,"sentence":"052, Std Dev = 19"},{"page":141,"sentence":"554\nSlope: Mean = 10"},{"page":141,"sentence":"984, Std Dev = 16"},{"page":141,"sentence":"467\n95% CI for Slope: [-15"},{"page":141,"sentence":"91244638 48"},{"page":141,"sentence":"76534223]\nBootstrap Results for avg_theftfrommv_rate:\nIntercept: Mean = 456"},{"page":141,"sentence":"387, Std Dev = 157"},{"page":141,"sentence":"016\nSlope: Mean = -125"},{"page":141,"sentence":"196, Std Dev = 135"},{"page":141,"sentence":"189\n95% CI for Slope: [-338"},{"page":141,"sentence":"05800975 187"},{"page":141,"sentence":"33348451]\nBootstrap Results for avg_theftover_rate:\nIntercept: Mean = -23"},{"page":141,"sentence":"802, Std Dev = 24"},{"page":141,"sentence":"808\nSlope: Mean = 55"},{"page":141,"sentence":"020, Std Dev = 21"},{"page":141,"sentence":"780\n95% CI for Slope: [-2"},{"page":141,"sentence":"67892237 79"},{"page":141,"sentence":"21359648]\n[30]: #Plotted out our significant relationships from the output of our bootstrapped ␣\n↪analysis (instances where 95% CI did not contain 0)\n#These were auto theft, bike theft, theft over $5000, and robbery\n#Plotted out 100 of the bootstrapped regression lines, as well as the mean ␣\n↪regression line\ndefadd_bootstrap_lines (ax, x_data, boot_results, n_lines =100, color='gray',␣\n↪alpha=0"},{"page":141,"sentence":"2):\n\"\"\"Add bootstrapped regression lines to the plot\"\"\"\nfori inrange(min(n_lines, len(boot_results))):\nslope=boot_results"},{"page":141,"sentence":"iloc[i][ 'Slope']\nintercept =boot_results"},{"page":141,"sentence":"iloc[i][ 'Intercept ']\nx_vals=np"},{"page":141,"sentence":"array([x_data"},{"page":141,"sentence":"min(), x_data"},{"page":141,"sentence":"max()])\ny_vals=slope*x_vals+intercept\nax"},{"page":141,"sentence":"plot(x_vals, y_vals, color =color, alpha =alpha)\n32"},{"page":142,"sentence":"defadd_mean_regression_line (ax, x_data, boot_results, data_color, label ='Mean␣\n↪Regression Line '):\n\"\"\"Add the mean regression line to the plot\"\"\"\nmean_slope =boot_results[ 'Slope']"},{"page":142,"sentence":"mean()\nmean_intercept =boot_results[ 'Intercept ']"},{"page":142,"sentence":"mean()\nx_vals=np"},{"page":142,"sentence":"array([x_data"},{"page":142,"sentence":"min(), x_data"},{"page":142,"sentence":"max()])\ny_vals=mean_slope *x_vals+mean_intercept\nax"},{"page":142,"sentence":"plot(x_vals, y_vals, color =data_color, label =label, linewidth =2)\nfig, axs =plt"},{"page":142,"sentence":"subplots( 2,1, figsize =(10,12))\naxs[0]"},{"page":142,"sentence":"scatter(result_df[ 'total_budget_in_billions '],␣\n↪result_df[ 'avg_autotheft_rate '],\ncolor='tab:orange ', label='Auto Theft Rates ')\nadd_bootstrap_lines(axs[ 0], result_df[ 'total_budget_in_billions '],␣\n↪boot_results[ 'avg_autotheft_rate '])\nadd_mean_regression_line(axs[ 0], result_df[ 'total_budget_in_billions '],\nboot_results[ 'avg_autotheft_rate '], data_color ='tab:\n↪orange')\naxs[0]"},{"page":142,"sentence":"scatter(result_df[ 'total_budget_in_billions '],␣\n↪result_df[ 'avg_biketheft_rate '],\ncolor='tab:green ', label='Bike Theft Rates ')\nadd_bootstrap_lines(axs[ 0], result_df[ 'total_budget_in_billions '],␣\n↪boot_results[ 'avg_biketheft_rate '])\nadd_mean_regression_line(axs[ 0], result_df[ 'total_budget_in_billions '],\nboot_results[ 'avg_biketheft_rate '], data_color ='tab:\n↪green')\naxs[0]"},{"page":142,"sentence":"set_xlabel( 'Total Budget (in billions) ', fontsize =14)\naxs[0]"},{"page":142,"sentence":"set_ylabel( 'Average Crime Rates ', fontsize =14)\naxs[0]"},{"page":142,"sentence":"set_title( 'Operating Budget vs"},{"page":142,"sentence":"Average Rates of Auto and Bike ␣\n↪Theft',fontsize =14)\naxs[1]"},{"page":142,"sentence":"scatter(result_df[ 'total_budget_in_billions '],␣\n↪result_df[ 'avg_theftover_rate '],\ncolor='purple', label='Theft Over $5000 Rates ')\nadd_bootstrap_lines(axs[ 1], result_df[ 'total_budget_in_billions '],␣\n↪boot_results[ 'avg_theftover_rate '])\nadd_mean_regression_line(axs[ 1], result_df[ 'total_budget_in_billions '],\nboot_results[ 'avg_theftover_rate '],␣\n↪data_color ='purple')\naxs[1]"},{"page":142,"sentence":"scatter(result_df[ 'total_budget_in_billions '],␣\n↪result_df[ 'avg_robbery_rate '],\ncolor='teal', label='Robbery Rates ')\nadd_bootstrap_lines(axs[ 1], result_df[ 'total_budget_in_billions '],␣\n↪boot_results[ 'avg_robbery_rate '])\n33"},{"page":143,"sentence":"add_mean_regression_line(axs[ 1], result_df[ 'total_budget_in_billions '],\nboot_results[ 'avg_robbery_rate '], data_color ='teal')\naxs[1]"},{"page":143,"sentence":"set_xlabel( 'Total Budget (in billions) ', fontsize =14)\naxs[1]"},{"page":143,"sentence":"set_ylabel( 'Average Crime Rates ', fontsize =14)\naxs[1]"},{"page":143,"sentence":"set_title( 'Operating Budget vs"},{"page":143,"sentence":"Theft Over $5000 and Robbery ␣\n↪Rates',fontsize =14)\nfig"},{"page":143,"sentence":"suptitle( 'Bootstrapped Regression Analysis of Operating Budget Vs"},{"page":143,"sentence":"Crime ␣\n↪Statistic Rates ', fontsize =16)\nfig"},{"page":143,"sentence":"tight_layout(rect =[0,0,1,0"},{"page":143,"sentence":"96])\nfig"},{"page":143,"sentence":"legend(loc ='upper left ', bbox_to_anchor =(0"},{"page":143,"sentence":"1,0"},{"page":143,"sentence":"9), fontsize =12)\nplt"},{"page":143,"sentence":"show()\n34"},{"page":144,"sentence":"Income vs Crime Statistics - David Griﬀin\n[31]: #join crime and income datasets and create dataframe\nquery=f\"\"\"\nWITH CrimeTotals AS (\nSELECT\nAREA_NAME,\n35"},{"page":145,"sentence":"year,\nASSAULT,\nAUTOTHEFT,\nBIKETHEFT,\nBREAKENTER,\nHOMICIDE,\nROBBERY,\nSHOOTING,\nTHEFTFROMMV,\nTHEFTOVER,\nASSAULT_RATE,\nHOMICIDE_RATE,\nROBBERY_RATE,\nSHOOTING_RATE,\nAUTOTHEFT_RATE,\nBREAKENTER_RATE\nFROM {CRIMETABLE }\nWHERE year= '2020'\n),\nIncomeData AS (\nSELECT\nNeighbourhood,\nIncome,\nYEAR,\nPopulation\nFROM {INCOMETABLE }\n)\nSELECT\nI"},{"page":145,"sentence":"YEAR,\nI"},{"page":145,"sentence":"Neighbourhood,\nI"},{"page":145,"sentence":"Income,\nI"},{"page":145,"sentence":"Population,\nC"},{"page":145,"sentence":"ASSAULT,\nC"},{"page":145,"sentence":"HOMICIDE,\nC"},{"page":145,"sentence":"ROBBERY,\nC"},{"page":145,"sentence":"AUTOTHEFT,\nC"},{"page":145,"sentence":"ASSAULT_RATE,\nC"},{"page":145,"sentence":"HOMICIDE_RATE,\nC"},{"page":145,"sentence":"ROBBERY_RATE,\nC"},{"page":145,"sentence":"AUTOTHEFT_RATE,\nC"},{"page":145,"sentence":"BREAKENTER,\nC"},{"page":145,"sentence":"BREAKENTER_RATE\nFROM IncomeData I\nJoin CrimeTotals C\nOn I"},{"page":145,"sentence":"Neighbourhood=C"},{"page":145,"sentence":"AREA_NAME\nORDER BY I"},{"page":145,"sentence":"Neighbourhood;\n36"},{"page":146,"sentence":"\"\"\"\ncrime_df =pd"},{"page":146,"sentence":"read_sql_query(query, engine)\ncrime_df"},{"page":146,"sentence":"describe()\n[31]: YEAR Income Population ASSAULT HOMICIDE \\\ncount 151"},{"page":146,"sentence":"0 151"},{"page":146,"sentence":"000000 151"},{"page":146,"sentence":"000000 151"},{"page":146,"sentence":"000000 151"},{"page":146,"sentence":"000000\nmean 2020"},{"page":146,"sentence":"0 50083"},{"page":146,"sentence":"642384 17526"},{"page":146,"sentence":"456954 113"},{"page":146,"sentence":"576159 0"},{"page":146,"sentence":"456954\nstd 0"},{"page":146,"sentence":"0 18275"},{"page":146,"sentence":"444527 6225"},{"page":146,"sentence":"065451 98"},{"page":146,"sentence":"205800 0"},{"page":146,"sentence":"745968\nmin 2020"},{"page":146,"sentence":"0 30800"},{"page":146,"sentence":"000000 6260"},{"page":146,"sentence":"000000 11"},{"page":146,"sentence":"000000 0"},{"page":146,"sentence":"000000\n25% 2020"},{"page":146,"sentence":"0 37100"},{"page":146,"sentence":"000000 12395"},{"page":146,"sentence":"000000 55"},{"page":146,"sentence":"500000 0"},{"page":146,"sentence":"000000\n50% 2020"},{"page":146,"sentence":"0 45760"},{"page":146,"sentence":"000000 16670"},{"page":146,"sentence":"000000 85"},{"page":146,"sentence":"000000 0"},{"page":146,"sentence":"000000\n75% 2020"},{"page":146,"sentence":"0 55375"},{"page":146,"sentence":"000000 22325"},{"page":146,"sentence":"000000 133"},{"page":146,"sentence":"000000 1"},{"page":146,"sentence":"000000\nmax 2020"},{"page":146,"sentence":"0 141200"},{"page":146,"sentence":"000000 33300"},{"page":146,"sentence":"000000 756"},{"page":146,"sentence":"000000 3"},{"page":146,"sentence":"000000\nROBBERY AUTOTHEFT ASSAULT_RATE HOMICIDE_RATE ROBBERY_RATE \\\ncount 151"},{"page":146,"sentence":"000000 151"},{"page":146,"sentence":"000000 151"},{"page":146,"sentence":"000000 151"},{"page":146,"sentence":"000000 151"},{"page":146,"sentence":"000000\nmean 17"},{"page":146,"sentence":"443709 37"},{"page":146,"sentence":"099338 601"},{"page":146,"sentence":"820149 2"},{"page":146,"sentence":"230829 91"},{"page":146,"sentence":"718967\nstd 16"},{"page":146,"sentence":"628744 40"},{"page":146,"sentence":"088694 471"},{"page":146,"sentence":"090176 3"},{"page":146,"sentence":"530964 80"},{"page":146,"sentence":"170084\nmin 1"},{"page":146,"sentence":"000000 4"},{"page":146,"sentence":"000000 110"},{"page":146,"sentence":"430679 0"},{"page":146,"sentence":"000000 11"},{"page":146,"sentence":"983224\n25% 7"},{"page":146,"sentence":"000000 17"},{"page":146,"sentence":"000000 339"},{"page":146,"sentence":"540222 0"},{"page":146,"sentence":"000000 52"},{"page":146,"sentence":"815395\n50% 15"},{"page":146,"sentence":"000000 26"},{"page":146,"sentence":"000000 508"},{"page":146,"sentence":"151611 0"},{"page":146,"sentence":"000000 77"},{"page":146,"sentence":"433090\n75% 21"},{"page":146,"sentence":"500000 44"},{"page":146,"sentence":"500000 689"},{"page":146,"sentence":"026428 4"},{"page":146,"sentence":"691375 108"},{"page":146,"sentence":"235043\nmax 136"},{"page":146,"sentence":"000000 407"},{"page":146,"sentence":"000000 3582"},{"page":146,"sentence":"768555 15"},{"page":146,"sentence":"490267 644"},{"page":146,"sentence":"519226\nAUTOTHEFT_RATE BREAKENTER BREAKENTER_RATE\ncount 151"},{"page":146,"sentence":"000000 151"},{"page":146,"sentence":"000000 151"},{"page":146,"sentence":"000000\nmean 190"},{"page":146,"sentence":"831371 43"},{"page":146,"sentence":"748344 240"},{"page":146,"sentence":"835126\nstd 141"},{"page":146,"sentence":"915053 36"},{"page":146,"sentence":"576170 182"},{"page":146,"sentence":"616767\nmin 37"},{"page":146,"sentence":"606354 3"},{"page":146,"sentence":"000000 29"},{"page":146,"sentence":"228371\n25% 103"},{"page":146,"sentence":"571892 21"},{"page":146,"sentence":"000000 116"},{"page":146,"sentence":"272907\n50% 160"},{"page":146,"sentence":"057831 34"},{"page":146,"sentence":"000000 196"},{"page":146,"sentence":"055359\n75% 232"},{"page":146,"sentence":"629288 50"},{"page":146,"sentence":"500000 304"},{"page":146,"sentence":"359421\nmax 1139"},{"page":146,"sentence":"545288 204"},{"page":146,"sentence":"000000 1105"},{"page":146,"sentence":"997681\n[32]: #create variable that sorts each neighbourhoods income into quantiles\ncrime_df[ 'Income Group ']=0\nfori inrange(len(crime_df)):\nifcrime_df[ 'Income'][i]<=37100:\ncrime_df"},{"page":146,"sentence":"iloc[i,14]=1\nifcrime_df[ 'Income'][i]>37100 andcrime_df[ 'Income'][i]<=45760:\ncrime_df"},{"page":146,"sentence":"iloc[i,14]=2\nifcrime_df[ 'Income'][i]>45760 andcrime_df[ 'Income'][i]<=55375:\ncrime_df"},{"page":146,"sentence":"iloc[i,14]=3\nifcrime_df[ 'Income'][i]>55375:\ncrime_df"},{"page":146,"sentence":"iloc[i,14]=4\n37"},{"page":147,"sentence":"[33]: #make scatter plots for assault, robbery, autotheft and break and enter rates ␣\n↪with regressions for each plot\nfig, axes =plt"},{"page":147,"sentence":"subplots( 2,2, figsize =(12,10))\naxes[0,0]"},{"page":147,"sentence":"scatter(crime_df[ 'Income'],crime_df[ 'ASSAULT_RATE '], color ='tab:blue ')\naxes[0,0]"},{"page":147,"sentence":"set_xlabel( 'Income')\naxes[0,0]"},{"page":147,"sentence":"set_ylabel( 'Assault Rate ')\nslope, intercept,r1,p1,_ =linregress(crime_df[ 'Income'],␣\n↪crime_df[ 'ASSAULT_RATE '])\nx_vals=np"},{"page":147,"sentence":"array([min(crime_df[ 'Income']),max(crime_df[ 'Income'])])\ny_vals=slope*x_vals+intercept\naxes[0,0]"},{"page":147,"sentence":"plot(x_vals,y_vals, color ='tab:blue ', linestyle ='-',␣\n↪label='Regression Line ')\naxes[0,1]"},{"page":147,"sentence":"scatter(crime_df[ 'Income'],crime_df[ 'AUTOTHEFT_RATE '], color ='tab:\n↪blue',)\naxes[0,1]"},{"page":147,"sentence":"set_xlabel( 'Income')\naxes[0,1]"},{"page":147,"sentence":"set_ylabel( 'Auto Rate ')\nslope, intercept,r2,p2,_ =linregress(crime_df[ 'Income'],␣\n↪crime_df[ 'AUTOTHEFT_RATE '])\nx_vals=np"},{"page":147,"sentence":"array([min(crime_df[ 'Income']),max(crime_df[ 'Income'])])\ny_vals=slope*x_vals+intercept\naxes[0,1]"},{"page":147,"sentence":"plot(x_vals,y_vals, color ='tab:blue ', linestyle ='-',␣\n↪label='Regression Line ')\naxes[1,0]"},{"page":147,"sentence":"scatter(crime_df[ 'Income'],crime_df[ 'ROBBERY_RATE '], color ='tab:\n↪blue',)\naxes[1,0]"},{"page":147,"sentence":"set_xlabel( 'Income')\naxes[1,0]"},{"page":147,"sentence":"set_ylabel( 'Robbery Rate ')\nslope, intercept,r3,p3,_ =linregress(crime_df[ 'Income'],␣\n↪crime_df[ 'ROBBERY_RATE '])\nx_vals=np"},{"page":147,"sentence":"array([min(crime_df[ 'Income']),max(crime_df[ 'Income'])])\ny_vals=slope*x_vals+intercept\naxes[1,0]"},{"page":147,"sentence":"plot(x_vals,y_vals, color ='tab:blue ', linestyle ='-',␣\n↪label='Regression Line ')\naxes[1,1]"},{"page":147,"sentence":"scatter(crime_df[ 'Income'],crime_df[ 'BREAKENTER_RATE '], color ='tab:\n↪blue',)\naxes[1,1]"},{"page":147,"sentence":"set_xlabel( 'Income')\naxes[1,1]"},{"page":147,"sentence":"set_ylabel( 'Break and Enter Rate ')\nslope, intercept,r4,p4,_ =linregress(crime_df[ 'Income'],␣\n↪crime_df[ 'BREAKENTER_RATE '])\nx_vals=np"},{"page":147,"sentence":"array([min(crime_df[ 'Income']),max(crime_df[ 'Income'])])\ny_vals=slope*x_vals+intercept\naxes[1,1]"},{"page":147,"sentence":"plot(x_vals,y_vals, color ='tab:blue ', linestyle ='-',␣\n↪label='Regression Line ')\\\n38"},{"page":148,"sentence":"plt"},{"page":148,"sentence":"show()\nprint(f\"Assault R-squared: {r1**2}, coefficient P-value: {p1 }\")\nprint(f\"Autotheft R-squared: {r2**2}, coefficient P-value: {p2}\")\nprint(f\"Robbery R-squared: {r3**2}, coefficient P-value: {p3 }\")\nprint(f\"Break and Enter R-squared: {r4**2}, coefficient P-value: {p4 }\")\nAssault R-squared:0"},{"page":148,"sentence":"017645701711067212, coefficient P-value:0"},{"page":148,"sentence":"1039539860617245\nAutotheft R-squared:0"},{"page":148,"sentence":"021867904397415174, coefficient\nP-value:0"},{"page":148,"sentence":"06998142980679437\nRobbery R-squared:0"},{"page":148,"sentence":"0039613181600412035, coefficient P-value:0"},{"page":148,"sentence":"4426404066165349\nBreak and Enter R-squared:0"},{"page":148,"sentence":"06665997361769427, coefficient\nP-value:0"},{"page":148,"sentence":"001370828658722553\n[34]: #plot crime rates against income quartiles\ncrime_dfg =crime_df"},{"page":148,"sentence":"drop(columns =['YEAR','Neighbourhood '])\ngroup1=crime_dfg"},{"page":148,"sentence":"groupby( 'Income Group ',as_index =False)"},{"page":148,"sentence":"mean()\nfig, axes =plt"},{"page":148,"sentence":"subplots( 2,2, figsize =(16,10))\naxes[0,0]"},{"page":148,"sentence":"bar(group1[ 'Income Group ']"},{"page":148,"sentence":"unique() -0"},{"page":148,"sentence":"↪15,group1[ 'ASSAULT_RATE '],width=0"},{"page":148,"sentence":"1,label='Assault Rate ')\n39"},{"page":149,"sentence":"axes[0,0]"},{"page":149,"sentence":"bar(group1[ 'Income Group ']"},{"page":149,"sentence":"unique() -0"},{"page":149,"sentence":"↪05,group1[ 'AUTOTHEFT_RATE '],width=0"},{"page":149,"sentence":"1,label='Autotheft Rate ')\naxes[0,0]"},{"page":149,"sentence":"bar(group1[ 'Income Group ']"},{"page":149,"sentence":"unique() +0"},{"page":149,"sentence":"↪05,group1[ 'ROBBERY_RATE '],width=0"},{"page":149,"sentence":"1,label='Robbery Rate ')\naxes[0,0]"},{"page":149,"sentence":"bar(group1[ 'Income Group ']"},{"page":149,"sentence":"unique() +0"},{"page":149,"sentence":"↪15,group1[ 'BREAKENTER_RATE '],width=0"},{"page":149,"sentence":"1,label='Break and Enter Rate ')\naxes[0,0]"},{"page":149,"sentence":"set_xticks(group1[ 'Income Group ']"},{"page":149,"sentence":"unique(),( '<25%Income','25%-50%␣\n↪Income','50%-75%Income','75%Income'))\naxes[0,0]"},{"page":149,"sentence":"set_xlabel( 'Income Groups ')\naxes[0,0]"},{"page":149,"sentence":"set_ylabel( 'Crime Rate Average ')\nfig"},{"page":149,"sentence":"delaxes(axes[ 0,1])\nfig"},{"page":149,"sentence":"delaxes(axes[ 1,0])\nfig"},{"page":149,"sentence":"delaxes(axes[ 1,1])\nfig"},{"page":149,"sentence":"legend(bbox_to_anchor =(0"},{"page":149,"sentence":"63,0"},{"page":149,"sentence":"84))\nplt"},{"page":149,"sentence":"show()\n[35]: #plot monicide rates against income for each neighbourhood\nincome_sort =crime_df"},{"page":149,"sentence":"sort_values(by ='Income', ascending =False)\nfig, ax1 =plt"},{"page":149,"sentence":"subplots(figsize =(14,8))\nx=np"},{"page":149,"sentence":"arange(len(income_sort[ 'Neighbourhood ']))\nwidth=0"},{"page":149,"sentence":"4\nremove=[]\nax1"},{"page":149,"sentence":"bar(x-width\/2, income_sort[ 'Income'], width, color ='tab:blue ',␣\n↪label='Income')\nax1"},{"page":149,"sentence":"set_xlabel( 'Neighbourhood ', fontsize =14)\nax1"},{"page":149,"sentence":"set_ylabel( 'Income', color='tab:blue ', fontsize =14)\n40"},{"page":150,"sentence":"ax1"},{"page":150,"sentence":"tick_params(axis ='y', labelcolor ='tab:blue ')\nax1"},{"page":150,"sentence":"set_xticks(x)\nax1"},{"page":150,"sentence":"set_xticklabels(remove)\nax2=ax1"},{"page":150,"sentence":"twinx()\nax2"},{"page":150,"sentence":"bar(x+width\/2, income_sort[ 'HOMICIDE_RATE '], width, color ='tab:red',␣\n↪label='Homicide Rate ')\nax2"},{"page":150,"sentence":"set_ylabel( 'Homicide rate ', color='tab:blue ', fontsize =14)\nax2"},{"page":150,"sentence":"tick_params(axis ='y', labelcolor ='tab:blue ')\nfig"},{"page":150,"sentence":"suptitle( 'Income and Homicide rate by Neighbourhood ', fontsize =16)\nfig"},{"page":150,"sentence":"legend(loc =\"upper center \", bbox_to_anchor =(0"},{"page":150,"sentence":"5,1"},{"page":150,"sentence":"05), ncol=2, fontsize =12)\nplt"},{"page":150,"sentence":"tight_layout()\nEducation Level vs Crime Statistics - V enkateshwaran Balu Soundararajan This Anal-\nysis examines the relationship between the highest certificate, diploma, or degree per household\nand the crime rate per neighborhood in T oronto"},{"page":150,"sentence":"It aims to highlight the impact of education on\ncrime rates across different neighborhoods in T oronto"},{"page":150,"sentence":"T o begin our analysis we extracted the crime statistics from the database"},{"page":150,"sentence":"In this step, we execute\nan SQL query to join two tables: one containing crime statistics (CRIMET ABLE) and the other\ncontaining income and education data (INCOMET ABLE)"},{"page":150,"sentence":"The objective is to create a comprehen-\nsive dataset that includes information on crime rates, education levels, and other relevant variables\nfor each neighborhood"},{"page":150,"sentence":"This resulting dataset will be used for further analysis, including calculat-\ning correlation matrices, performing regression analysis, and creating visualizations to understand\n41"},{"page":151,"sentence":"the relationship between education and crime in T oronto neighborhoods"},{"page":151,"sentence":"[36]:degreeandcrimestats =pd"},{"page":151,"sentence":"read_sql_query( f\"\"\"SELECT\nccr"},{"page":151,"sentence":"area_name,\nccr"},{"page":151,"sentence":"geometry,\nine"},{"page":151,"sentence":"Degree_Rate,\nPopulation,\nASSAULT_RATE,\nAUTOTHEFT_RATE,\nBIKETHEFT_RATE,\nBREAKENTER_RATE,\nHOMICIDE_RATE,\nROBBERY_RATE,\nSHOOTING_RATE,\nTHEFTFROMMV_RATE,\nTHEFTOVER_RATE\nFROM\n{CRIMETABLE }ccr\nINNER JOIN\n{INCOMETABLE }ine ON ccr"},{"page":151,"sentence":"AREA_NAME = ine"},{"page":151,"sentence":"Neighbourhood\nAND ccr"},{"page":151,"sentence":"year = ine"},{"page":151,"sentence":"year; \"\"\",engine)\ndegreeandcrimestats"},{"page":151,"sentence":"head(5)\n[36]: area_name \\\n0 South Eglinton-Davisville\n1 North Toronto\n2 Dovercourt Village\n3 Junction-Wallace Emerson\n4 Yonge-Bay Corridor\ngeometry Degree_Rate Population \\\n0 MULTIPOLYGON (((-79"},{"page":151,"sentence":"3863542900264 43"},{"page":151,"sentence":"697839855… 0"},{"page":151,"sentence":"903673 22735\n1 MULTIPOLYGON (((-79"},{"page":151,"sentence":"3974398976879 43"},{"page":151,"sentence":"706938508… 0"},{"page":151,"sentence":"917218 15885\n2 MULTIPOLYGON (((-79"},{"page":151,"sentence":"4341164165158 43"},{"page":151,"sentence":"660153857… 0"},{"page":151,"sentence":"889742 12380\n3 MULTIPOLYGON (((-79"},{"page":151,"sentence":"4387032547807 43"},{"page":151,"sentence":"667669388… 0"},{"page":151,"sentence":"867343 23180\n4 MULTIPOLYGON (((-79"},{"page":151,"sentence":"3840431592607 43"},{"page":151,"sentence":"644973675… 0"},{"page":151,"sentence":"923290 12645\nASSAULT_RATE AUTOTHEFT_RATE BIKETHEFT_RATE BREAKENTER_RATE \\\n0 396"},{"page":151,"sentence":"844605 72"},{"page":151,"sentence":"593521 454"},{"page":151,"sentence":"919434 338"},{"page":151,"sentence":"769775\n1 525"},{"page":151,"sentence":"969727 80"},{"page":151,"sentence":"356491 365"},{"page":151,"sentence":"256775 642"},{"page":151,"sentence":"851929\n2 542"},{"page":151,"sentence":"731018 130"},{"page":151,"sentence":"255447 202"},{"page":151,"sentence":"619583 340"},{"page":151,"sentence":"111450\n3 661"},{"page":151,"sentence":"992248 172"},{"page":151,"sentence":"353012 211"},{"page":151,"sentence":"524155 430"},{"page":151,"sentence":"882538\n4 2842"},{"page":151,"sentence":"933594 103"},{"page":151,"sentence":"919243 1284"},{"page":151,"sentence":"144897 1105"},{"page":151,"sentence":"997681\nHOMICIDE_RATE ROBBERY_RATE SHOOTING_RATE THEFTFROMMV_RATE \\\n0 4"},{"page":151,"sentence":"839568 77"},{"page":151,"sentence":"433090 4"},{"page":151,"sentence":"839568 208"},{"page":151,"sentence":"101440\n1 7"},{"page":151,"sentence":"305136 21"},{"page":151,"sentence":"915407 0"},{"page":151,"sentence":"000000 175"},{"page":151,"sentence":"323257\n42"},{"page":152,"sentence":"2 7"},{"page":152,"sentence":"236413 108"},{"page":152,"sentence":"546204 0"},{"page":152,"sentence":"000000 484"},{"page":152,"sentence":"839722\n3 0"},{"page":152,"sentence":"000000 86"},{"page":152,"sentence":"176506 19"},{"page":152,"sentence":"585569 544"},{"page":152,"sentence":"478821\n4 0"},{"page":152,"sentence":"000000 408"},{"page":152,"sentence":"254150 14"},{"page":152,"sentence":"845606 1002"},{"page":152,"sentence":"078369\nTHEFTOVER_RATE\n0 24"},{"page":152,"sentence":"197842\n1 43"},{"page":152,"sentence":"830814\n2 21"},{"page":152,"sentence":"709240\n3 35"},{"page":152,"sentence":"254025\n4259"},{"page":152,"sentence":"798096\nCorrelation Analysis\nW e then created a correlation matrix to examine the strength and direction of the relationships\nbetween the degree rate and various crime rates"},{"page":152,"sentence":"The correlation matrix provides valuable insights\ninto how education impacts different types of crime"},{"page":152,"sentence":"[37]: import seaborn as sns\nimport matplotlib"},{"page":152,"sentence":"pyplot as plt\ncorrelation_matrix =degreeandcrimestats[[ 'Degree_Rate ','ASSAULT_RATE ',␣\n↪'AUTOTHEFT_RATE ','BIKETHEFT_RATE ','BREAKENTER_RATE ',\n'HOMICIDE_RATE ','ROBBERY_RATE ',␣\n↪'SHOOTING_RATE ','THEFTFROMMV_RATE ',\n'THEFTOVER_RATE ']]"},{"page":152,"sentence":"corr()\nplt"},{"page":152,"sentence":"figure(figsize =(10,8))\nsns"},{"page":152,"sentence":"heatmap(correlation_matrix, annot =True, cmap='coolwarm ', center =0,␣\n↪linewidths =0"},{"page":152,"sentence":"5)\nplt"},{"page":152,"sentence":"title('Correlation Between Education and TheftRates ')\nplt"},{"page":152,"sentence":"show()\n43"},{"page":153,"sentence":"F rom the correlation matrix we infer that SHOOTING_RA TE has a weaker negative correlation (-\n0"},{"page":153,"sentence":"26) with education, indicating that higher education levels may be associated with lower shooting\nincidents"},{"page":153,"sentence":"Conversely , metrics like BIKETHEFT_RA TE (0"},{"page":153,"sentence":"55) and BREAKENTER_RA TE (0"},{"page":153,"sentence":"54)\ndemonstrate moderate positive correlations, suggesting these crimes might be more prevalent in\nareas with higher education levels, possibly due to economic factors or population density\nRegression Analysis\nW e then performed regression analyses to verify the significance of the relationships observed"},{"page":153,"sentence":"By\nfitting regression models for each crime rate variable against the degree rate, we determined the\nstatistical significance and the extent to which education levels explain the variability in crime\nrates"},{"page":153,"sentence":"[38]: import statsmodels"},{"page":153,"sentence":"api as sm\nvariables =['ASSAULT_RATE ','AUTOTHEFT_RATE ','BIKETHEFT_RATE ',␣\n↪'BREAKENTER_RATE ','HOMICIDE_RATE ',\n44"},{"page":154,"sentence":"'ROBBERY_RATE ','SHOOTING_RATE ','THEFTFROMMV_RATE ',␣\n↪'THEFTOVER_RATE ']\nX=degreeandcrimestats[ 'Degree_Rate ']\nX=sm"},{"page":154,"sentence":"add_constant(X)\nforvar invariables:\ny=degreeandcrimestats[var]\nmodel_assault =sm"},{"page":154,"sentence":"OLS(y, X)"},{"page":154,"sentence":"fit()\np_value=model_assault"},{"page":154,"sentence":"pvalues[ 1]\nadj_r_squared =model_assault"},{"page":154,"sentence":"rsquared_adj\nprint(f\"Regression Results for {var }:\")\nprint(f\"p-value for Degree_Rate: {p_value :"},{"page":154,"sentence":"4f }\")\nprint(f\"Adjusted R-squared: {adj_r_squared :"},{"page":154,"sentence":"4f }\")\nprint('-'*40)\nRegression Results for ASSAULT_RATE:\np-value for Degree_Rate: 0"},{"page":154,"sentence":"0000\nAdjusted R-squared: 0"},{"page":154,"sentence":"1190\n----------------------------------------\nRegression Results for AUTOTHEFT_RATE:\np-value for Degree_Rate: 0"},{"page":154,"sentence":"0839\nAdjusted R-squared: 0"},{"page":154,"sentence":"0133\n----------------------------------------\nRegression Results for BIKETHEFT_RATE:\np-value for Degree_Rate: 0"},{"page":154,"sentence":"0000\nAdjusted R-squared: 0"},{"page":154,"sentence":"3260\n----------------------------------------\nRegression Results for BREAKENTER_RATE:\np-value for Degree_Rate: 0"},{"page":154,"sentence":"0000\nAdjusted R-squared: 0"},{"page":154,"sentence":"2822\n----------------------------------------\nRegression Results for HOMICIDE_RATE:\np-value for Degree_Rate: 0"},{"page":154,"sentence":"7003\nAdjusted R-squared: -0"},{"page":154,"sentence":"0057\n----------------------------------------\nRegression Results for ROBBERY_RATE:\np-value for Degree_Rate: 0"},{"page":154,"sentence":"0001\nAdjusted R-squared: 0"},{"page":154,"sentence":"0917\n----------------------------------------\nRegression Results for SHOOTING_RATE:\np-value for Degree_Rate: 0"},{"page":154,"sentence":"0014\nAdjusted R-squared: 0"},{"page":154,"sentence":"0601\n----------------------------------------\nRegression Results for THEFTFROMMV_RATE:\np-value for Degree_Rate: 0"},{"page":154,"sentence":"0132\nAdjusted R-squared: 0"},{"page":154,"sentence":"0341\n----------------------------------------\nRegression Results for THEFTOVER_RATE:\n45"},{"page":155,"sentence":"p-value for Degree_Rate: 0"},{"page":155,"sentence":"0000\nAdjusted R-squared: 0"},{"page":155,"sentence":"1319\n----------------------------------------\nF ollowing the correlation and regression analyses, we visualized the relationships between degree\nrate and various crime rates"},{"page":155,"sentence":"This step involved creating a series of regression plots to provide a\nclear and intuitive representation of how education levels correlate with different types of crime\nacross neighborhoods in T oronto"},{"page":155,"sentence":"W e use the seaborn and matplotlib libraries to create a 3x3 grid of subplots, each displaying a\nregression plot for a specific crime rate variable against the degree rate"},{"page":155,"sentence":"The regression plots help\nus visually assess the impact of education levels on different types of crime"},{"page":155,"sentence":"[39]:fig, axes =plt"},{"page":155,"sentence":"subplots( 3,3, figsize =(12,12))\ncolors=['tab:purple ','tab:red','tab:green ','tab:orange ','tab:blue ','tab:\n↪pink','tab:brown ','tab:gray ','tab:olive ']\nfori, var inenumerate (variables):\nrow, col =divmod(i,3)\nsns"},{"page":155,"sentence":"regplot(y =var, x='Degree_Rate ', data=degreeandcrimestats, ax =axes[row, ␣\n↪col],color =colors[i])\naxes[row, col]"},{"page":155,"sentence":"set_title( f'{var }vs Degree_Rate ')\nplt"},{"page":155,"sentence":"tight_layout()\nplt"},{"page":155,"sentence":"show()\n46"},{"page":156,"sentence":"T o further enhance our understanding, we create spatial visualizations that map the distribution\nof crime rates and degree rates across different neighborhoods"},{"page":156,"sentence":"These visualizations provide a\ngeographical perspective, highlighting areas with high concentrations of crime and education levels\n[40]:geopolygon =pd"},{"page":156,"sentence":"read_sql_query( f'''SELECT\nccr"},{"page":156,"sentence":"AREA_NAME,\nccr"},{"page":156,"sentence":"geometry,\nine"},{"page":156,"sentence":"Degree,\nine"},{"page":156,"sentence":"Degree_Rate,\n(SUM(ASSAULT_RATE) + SUM(AUTOTHEFT_RATE) + ␣\n↪SUM(BIKETHEFT_RATE) + SUM(BREAKENTER_RATE) + SUM(HOMICIDE_RATE) +\nSUM(ROBBERY_RATE) + SUM(SHOOTING_RATE) + ␣\n↪SUM(THEFTFROMMV_RATE) + SUM(THEFTOVER_RATE)) \/ 9 AS AVG_CRIME_RATE\n47"},{"page":157,"sentence":"FROM\n{CRIMETABLE }ccr\nINNER JOIN\n{INCOMETABLE }ine ON ccr"},{"page":157,"sentence":"AREA_NAME = ine"},{"page":157,"sentence":"↪Neighbourhood\nAND ccr"},{"page":157,"sentence":"year = ine"},{"page":157,"sentence":"year\nGROUP BY ccr"},{"page":157,"sentence":"AREA_NAME,ccr"},{"page":157,"sentence":"geometry,ine"},{"page":157,"sentence":"↪Degree,ine"},{"page":157,"sentence":"Degree_Rate\nORDER BY degree_rate DESC; ''', engine)\ngeopolygon"},{"page":157,"sentence":"dtypes\ngeopolygon[ 'geometry ']=geopolygon[ 'geometry ']"},{"page":157,"sentence":"apply(wkt"},{"page":157,"sentence":"loads)\ngeopolygon_gdf =gpd"},{"page":157,"sentence":"GeoDataFrame(geopolygon, geometry ='geometry ')\ngeopolygon_gdf =geopolygon_gdf"},{"page":157,"sentence":"set_crs(epsg =4326)\ngeopolygon_gdf"},{"page":157,"sentence":"head()\n[40]: AREA_NAME \\\n0 Church-Wellesley\n1 Wellington Place\n2 Bay-Cloverhill\n3 Downtown Yonge East\n4 Fort York-Liberty Village\ngeometry Degree Degree_Rate \\\n0 MULTIPOLYGON (((-79"},{"page":157,"sentence":"38168 43"},{"page":157,"sentence":"6614, -79"},{"page":157,"sentence":"38184 4… 21420 0"},{"page":157,"sentence":"959677\n1 MULTIPOLYGON (((-79"},{"page":157,"sentence":"4007 43"},{"page":157,"sentence":"64094, -79"},{"page":157,"sentence":"40143 4… 24440 0"},{"page":157,"sentence":"955808\n2 MULTIPOLYGON (((-79"},{"page":157,"sentence":"38743 43"},{"page":157,"sentence":"66052, -79"},{"page":157,"sentence":"3905 4… 15930 0"},{"page":157,"sentence":"955609\n3 MULTIPOLYGON (((-79"},{"page":157,"sentence":"37656 43"},{"page":157,"sentence":"66202, -79"},{"page":157,"sentence":"3759 4… 16640 0"},{"page":157,"sentence":"940113\n4 MULTIPOLYGON (((-79"},{"page":157,"sentence":"40793 43"},{"page":157,"sentence":"6401, -79"},{"page":157,"sentence":"4078 43… 18710 0"},{"page":157,"sentence":"939493\nAVG_CRIME_RATE\n0345"},{"page":157,"sentence":"769547\n1379"},{"page":157,"sentence":"555556\n2195"},{"page":157,"sentence":"020355\n3756"},{"page":157,"sentence":"388558\n4153"},{"page":157,"sentence":"465399\n[41]: # Create subplots\nfig, axes =plt"},{"page":157,"sentence":"subplots( 1,2, figsize =(20,10))\n# Plot the AVG_CRIME_RATE\ngeopolygon_gdf"},{"page":157,"sentence":"plot(column =\"AVG_CRIME_RATE \", cmap=\"Blues\", legend =True,␣\n↪ax=axes[0])\naxes[0]"},{"page":157,"sentence":"set_title( \"Crime Rates by Area \", fontsize =16)\naxes[0]"},{"page":157,"sentence":"set_xlabel( \"Longitude \")\naxes[0]"},{"page":157,"sentence":"set_ylabel( \"Latitude \")\n# Plot the Degree_Rate\n48"},{"page":158,"sentence":"geopolygon_gdf"},{"page":158,"sentence":"plot(column =\"Degree_Rate \", cmap=\"Blues\", legend =True, ax=axes[1])\naxes[1]"},{"page":158,"sentence":"set_title( \"Degree Rates by Area \", fontsize =16)\naxes[1]"},{"page":158,"sentence":"set_xlabel( \"Longitude \")\naxes[1]"},{"page":158,"sentence":"set_ylabel( \"Latitude \")\n# Adjust layout and show the plot\nplt"},{"page":158,"sentence":"tight_layout()\nplt"},{"page":158,"sentence":"show()\nShelter Occupancy vs Crime Statistics - Jackson Meier\n[42]: #creating combined table with shelter and crime data joined on neighbourhood\nsheltercrime =(\"\"\"WITH CrimeTotals AS (\nSELECT\nAREA_NAME,\nyear,\nASSAULT_RATE,\nHOMICIDE_RATE,\nROBBERY_RATE,\nSHOOTING_RATE,\nAUTOTHEFT_RATE,\nBREAKENTER_RATE\nFROM data604_converted_crime\nWHERE year= '2020'\n),\nShelterData AS (\nSELECT\nOccupancy_Date,\nShelter_Name,\n49"},{"page":159,"sentence":"Sector,\nOccupancy,\nCapacity,\nAREA_NAME\nFROM data604_daily_shelter_occupancy\n)\nSELECT\nS"},{"page":159,"sentence":"Occupancy_Date,\nS"},{"page":159,"sentence":"Shelter_Name,\nS"},{"page":159,"sentence":"Sector,\nS"},{"page":159,"sentence":"Occupancy,\nS"},{"page":159,"sentence":"Capacity,\nS"},{"page":159,"sentence":"AREA_NAME,\nC"},{"page":159,"sentence":"AREA_NAME,\nC"},{"page":159,"sentence":"ASSAULT_RATE,\nC"},{"page":159,"sentence":"HOMICIDE_RATE,\nC"},{"page":159,"sentence":"ROBBERY_RATE,\nC"},{"page":159,"sentence":"AUTOTHEFT_RATE,\nC"},{"page":159,"sentence":"BREAKENTER_RATE\nFROM ShelterData S\nJoin CrimeTotals C\nOn S"},{"page":159,"sentence":"AREA_NAME=C"},{"page":159,"sentence":"AREA_NAME\nORDER BY S"},{"page":159,"sentence":"AREA_NAME; \"\"\")\n[43]:shelter_crime_df =SQL(sheltercrime)\n[44]: #drop duplicate AREA_NAME column\nshelter_crime_df =shelter_crime_df"},{"page":159,"sentence":"loc[:,~shelter_crime_df"},{"page":159,"sentence":"columns"},{"page":159,"sentence":"↪duplicated()]\n[45]:shelter_crime_df"},{"page":159,"sentence":"head(3)\n[45]: Occupancy_Date Shelter_Name Sector Occupancy \\\n0 2017-01-01 Christie Refugee Welcome Centre Families 66\n1 2017-01-01 Toronto Community Hostel Families 26\n2 2017-01-01 YMCA Sprott House Youth 24\nCapacity AREA_NAME ASSAULT_RATE HOMICIDE_RATE ROBBERY_RATE \\\n0 70 Annex 795"},{"page":159,"sentence":"62561 0"},{"page":159,"sentence":"0 122"},{"page":159,"sentence":"876541\n1 24 Annex 795"},{"page":159,"sentence":"62561 0"},{"page":159,"sentence":"0 122"},{"page":159,"sentence":"876541\n2 25 Annex 795"},{"page":159,"sentence":"62561 0"},{"page":159,"sentence":"0 122"},{"page":159,"sentence":"876541\nAUTOTHEFT_RATE BREAKENTER_RATE\n0119"},{"page":159,"sentence":"804626 626"},{"page":159,"sentence":"670349\n1119"},{"page":159,"sentence":"804626 626"},{"page":159,"sentence":"670349\n2119"},{"page":159,"sentence":"804626 626"},{"page":159,"sentence":"670349\n50"},{"page":160,"sentence":"[46]: #creating occupancy rate\nshelter_crime_df[ 'Occupancy_Rate ']=shelter_crime_df[ 'Occupancy ']\/\n↪shelter_crime_df[ 'Capacity ']\n#clean data - drop 'inf' rows\nshelter_crime_df[ 'Occupancy_Rate ']=shelter_crime_df[ 'Occupancy_Rate ']"},{"page":160,"sentence":"↪replace([np"},{"page":160,"sentence":"inf,-np"},{"page":160,"sentence":"inf],np"},{"page":160,"sentence":"nan)\nshelter_crime_df =shelter_crime_df"},{"page":160,"sentence":"dropna(subset =['Occupancy_Rate '])\n[47]:occupancy_sorted =shelter_crime_df"},{"page":160,"sentence":"groupby( 'AREA_NAME ',as_index =␣\n↪False)[['Occupancy_Rate ','ASSAULT_RATE ','HOMICIDE_RATE ','ROBBERY_RATE ','AUTOTHEFT_RATE ','BREAKENTER_RATE ']]"},{"page":160,"sentence":"↪mean()"},{"page":160,"sentence":"sort_values(by ='Occupancy_Rate ',ascending =False)\noccupancy_sorted[(occupancy_sorted !=0)"},{"page":160,"sentence":"all(axis =1)]"},{"page":160,"sentence":"shape\n[47]:(16, 7)\n[48]: import matplotlib"},{"page":160,"sentence":"pyplot as plt\nimport numpy as np\nfrom scipy"},{"page":160,"sentence":"stats importlinregress\n# List of crime rates to plot\ncrime_columns =['ASSAULT_RATE ','HOMICIDE_RATE ','ROBBERY_RATE ',\n'AUTOTHEFT_RATE ','BREAKENTER_RATE ']\n# Create subplots\nfig, axes =plt"},{"page":160,"sentence":"subplots(nrows =2, ncols=3, figsize =(15,10)) # Adjust rows\/\n↪columns as needed\naxes=axes"},{"page":160,"sentence":"flatten()\n# Plot each crime rate against Occupancy_Rate with correlation line\nfori, crime inenumerate (crime_columns):\n# Scatter plot\naxes[i]"},{"page":160,"sentence":"scatter(occupancy_sorted[ 'Occupancy_Rate '],␣\n↪occupancy_sorted[crime], alpha =0"},{"page":160,"sentence":"7)\n# Calculate the linear regression line\nslope, intercept, r_value, p_value, std_err =␣\n↪linregress(occupancy_sorted[ 'Occupancy_Rate '], occupancy_sorted[crime])\n# Generate the line using the slope and intercept\nline=slope*occupancy_sorted[ 'Occupancy_Rate ']+intercept\naxes[i]"},{"page":160,"sentence":"plot(occupancy_sorted[ 'Occupancy_Rate '], line, label =f'{crime }fit␣\n↪line', linestyle ='--')\n# Titles and labels\naxes[i]"},{"page":160,"sentence":"set_title( f'{crime }vs Occupancy Rate ')\naxes[i]"},{"page":160,"sentence":"set_xlabel( 'Occupancy Rate ')\naxes[i]"},{"page":160,"sentence":"set_ylabel(crime)\n51"},{"page":161,"sentence":"# Remove empty subplot (if any)\nforj inrange(len(crime_columns), len(axes)):\nfig"},{"page":161,"sentence":"delaxes(axes[j])\nplt"},{"page":161,"sentence":"tight_layout()\nplt"},{"page":161,"sentence":"show()\n[49]: #calculate correlation and p-vals\nfrom scipy"},{"page":161,"sentence":"stats importpearsonr\ncorrelations ={}\np_values ={}\nforcrime incrime_columns:\ncorr, p_value =pearsonr(occupancy_sorted[ 'Occupancy_Rate '],␣\n↪occupancy_sorted[crime])\ncorrelations[crime] =corr\np_values[crime] =p_value\n# Print the correlations and p-values\nforcrime incrime_columns:\nprint(f\"Correlation between Occupancy Rate and {crime }:␣\n↪{correlations[crime] :"},{"page":161,"sentence":"2f }\")\n52"},{"page":162,"sentence":"print(f\"P-value for {crime }: {p_values[crime] :"},{"page":162,"sentence":"4f }\")\nifp_values[crime] <0"},{"page":162,"sentence":"05:\nprint(\"The correlation is statistically significant"},{"page":162,"sentence":"\")\nelse:\nprint(\"The correlation is not statistically significant"},{"page":162,"sentence":"\")\nprint()\nCorrelation between Occupancy Rate and ASSAULT_RATE: -0"},{"page":162,"sentence":"11\nP-value for ASSAULT_RATE: 0"},{"page":162,"sentence":"5110\nThe correlation is not statistically significant"},{"page":162,"sentence":"Correlation between Occupancy Rate and HOMICIDE_RATE: -0"},{"page":162,"sentence":"02\nP-value for HOMICIDE_RATE: 0"},{"page":162,"sentence":"9287\nThe correlation is not statistically significant"},{"page":162,"sentence":"Correlation between Occupancy Rate and ROBBERY_RATE: -0"},{"page":162,"sentence":"08\nP-value for ROBBERY_RATE: 0"},{"page":162,"sentence":"6475\nThe correlation is not statistically significant"},{"page":162,"sentence":"Correlation between Occupancy Rate and AUTOTHEFT_RATE: 0"},{"page":162,"sentence":"02\nP-value for AUTOTHEFT_RATE: 0"},{"page":162,"sentence":"9241\nThe correlation is not statistically significant"},{"page":162,"sentence":"Correlation between Occupancy Rate and BREAKENTER_RATE: -0"},{"page":162,"sentence":"40\nP-value for BREAKENTER_RATE: 0"},{"page":162,"sentence":"0173\nThe correlation is statistically significant"},{"page":162,"sentence":"Bike Theft vs Bike Crimes - Steen Rasmussen\n[50]: # query for negihbourhoods with the most bike rack capacity\ncapacity_query =pd"},{"page":162,"sentence":"read_sql_query( f\"\"\"\nSELECT\nAREA_NAME,\nSUM(CAPACITY) AS total_bike_rack_capacity,\nSUM(BIKETHEFT) AS total_bike_thefts,\nSUM(POPULATION_2023) AS total_population\nFROM\n{BIKECRIMETABLE }\nWHERE\nYear = 2023\nGROUP BY\nAREA_NAME\n\"\"\", engine)\ndisplay(capacity_query)\ncapacity_query"},{"page":162,"sentence":"to_csv('capacity_query"},{"page":162,"sentence":"csv ', index=False)\n53"},{"page":163,"sentence":"AREA_NAME total_bike_rack_capacity \\\n0 Annex 109"},{"page":163,"sentence":"0\n1 Avondale 8"},{"page":163,"sentence":"0\n2 Bendale-Glen Andrew 8"},{"page":163,"sentence":"0\n3 Birchcliffe-Cliffside 8"},{"page":163,"sentence":"0\n4 Cabbagetown-South St"},{"page":163,"sentence":"James Town 16"},{"page":163,"sentence":"0\n5 Church-Wellesley 8"},{"page":163,"sentence":"0\n6 Danforth 50"},{"page":163,"sentence":"0\n7 Dovercourt Village 42"},{"page":163,"sentence":"0\n8 Downtown Yonge East 61"},{"page":163,"sentence":"0\n9 Dufferin Grove 8"},{"page":163,"sentence":"0\n10 Harbourfront-CityPlace 48"},{"page":163,"sentence":"0\n11 High Park North 20"},{"page":163,"sentence":"0\n12 Humber Bay Shores 8"},{"page":163,"sentence":"0\n13 Junction-Wallace Emerson 44"},{"page":163,"sentence":"0\n14 Kensington-Chinatown 116"},{"page":163,"sentence":"0\n15 Lawrence Park North 8"},{"page":163,"sentence":"0\n16 Little Portugal 64"},{"page":163,"sentence":"0\n17 Mimico-Queensway 16"},{"page":163,"sentence":"0\n18 Moss Park 70"},{"page":163,"sentence":"0\n19 Mount Olive-Silverstone-Jamestown 32"},{"page":163,"sentence":"0\n20 New Toronto 8"},{"page":163,"sentence":"0\n21 O'Connor-Parkview 8"},{"page":163,"sentence":"0\n22 Palmerston-Little Italy 118"},{"page":163,"sentence":"0\n23 Roncesvalles 8"},{"page":163,"sentence":"0\n24 Rosedale-Moore Park 8"},{"page":163,"sentence":"0\n25 South Riverdale 40"},{"page":163,"sentence":"0\n26 St Lawrence-East Bayfront-The Islands 124"},{"page":163,"sentence":"0\n27 Steeles 16"},{"page":163,"sentence":"0\n28 Tam O'Shanter-Sullivan 8"},{"page":163,"sentence":"0\n29 The Beaches 8"},{"page":163,"sentence":"0\n30 Thorncliffe Park 16"},{"page":163,"sentence":"0\n31 Trinity-Bellwoods 46"},{"page":163,"sentence":"0\n32 University 30"},{"page":163,"sentence":"0\n33 Wellington Place 114"},{"page":163,"sentence":"0\n34 West Queen West 56"},{"page":163,"sentence":"0\n35 Willowdale West 64"},{"page":163,"sentence":"0\n36 Yonge-Bay Corridor 224"},{"page":163,"sentence":"0\n37 Yonge-Eglinton 56"},{"page":163,"sentence":"0\n38 Yonge-St"},{"page":163,"sentence":"Clair 18"},{"page":163,"sentence":"0\ntotal_bike_thefts total_population\n0 891"},{"page":163,"sentence":"0 379522"},{"page":163,"sentence":"0\n1 9"},{"page":163,"sentence":"0 16149"},{"page":163,"sentence":"0\n2 10"},{"page":163,"sentence":"0 20773"},{"page":163,"sentence":"0\n3 6"},{"page":163,"sentence":"0 23417"},{"page":163,"sentence":"0\n4 62"},{"page":163,"sentence":"0 23936"},{"page":163,"sentence":"0\n5 102"},{"page":163,"sentence":"0 22938"},{"page":163,"sentence":"0\n54"},{"page":164,"sentence":"6 39"},{"page":164,"sentence":"0 30519"},{"page":164,"sentence":"0\n7 228"},{"page":164,"sentence":"0 83022"},{"page":164,"sentence":"0\n8 1435"},{"page":164,"sentence":"0 126161"},{"page":164,"sentence":"0\n9 58"},{"page":164,"sentence":"0 12709"},{"page":164,"sentence":"0\n10 528"},{"page":164,"sentence":"0 188862"},{"page":164,"sentence":"0\n11 28"},{"page":164,"sentence":"0 24474"},{"page":164,"sentence":"0\n12 16"},{"page":164,"sentence":"0 20822"},{"page":164,"sentence":"0\n13 220"},{"page":164,"sentence":"0 104960"},{"page":164,"sentence":"0\n14 1096"},{"page":164,"sentence":"0 169832"},{"page":164,"sentence":"0\n15 6"},{"page":164,"sentence":"0 15581"},{"page":164,"sentence":"0\n16 85"},{"page":164,"sentence":"0 86995"},{"page":164,"sentence":"0\n17 10"},{"page":164,"sentence":"0 36626"},{"page":164,"sentence":"0\n18 495"},{"page":164,"sentence":"0 111035"},{"page":164,"sentence":"0\n19 11"},{"page":164,"sentence":"0 35386"},{"page":164,"sentence":"0\n20 9"},{"page":164,"sentence":"0 12205"},{"page":164,"sentence":"0\n21 8"},{"page":164,"sentence":"0 19901"},{"page":164,"sentence":"0\n22 297"},{"page":164,"sentence":"0 132291"},{"page":164,"sentence":"0\n23 21"},{"page":164,"sentence":"0 15939"},{"page":164,"sentence":"0\n24 45"},{"page":164,"sentence":"0 23053"},{"page":164,"sentence":"0\n25 340"},{"page":164,"sentence":"0 120540"},{"page":164,"sentence":"0\n26 424"},{"page":164,"sentence":"0 124012"},{"page":164,"sentence":"0\n27 6"},{"page":164,"sentence":"0 52790"},{"page":164,"sentence":"0\n28 16"},{"page":164,"sentence":"0 29770"},{"page":164,"sentence":"0\n29 25"},{"page":164,"sentence":"0 23097"},{"page":164,"sentence":"0\n30 20"},{"page":164,"sentence":"0 45016"},{"page":164,"sentence":"0\n31 230"},{"page":164,"sentence":"0 89070"},{"page":164,"sentence":"0\n32 159"},{"page":164,"sentence":"0 22692"},{"page":164,"sentence":"0\n33 880"},{"page":164,"sentence":"0 317570"},{"page":164,"sentence":"0\n34 168"},{"page":164,"sentence":"0 60544"},{"page":164,"sentence":"0\n35 6"},{"page":164,"sentence":"0 19546"},{"page":164,"sentence":"0\n36 2964"},{"page":164,"sentence":"0 191503"},{"page":164,"sentence":"0\n37 80"},{"page":164,"sentence":"0 68715"},{"page":164,"sentence":"0\n38 28"},{"page":164,"sentence":"0 27906"},{"page":164,"sentence":"0\n[51]: # most capacity by neighbourhood\ncapacity_df =pd"},{"page":164,"sentence":"read_csv( 'capacity_query"},{"page":164,"sentence":"csv ')\n# sort by most to least\ndata_sorted =capacity_df"},{"page":164,"sentence":"sort_values(by ='total_bike_rack_capacity ',␣\n↪ascending =False)\n# bar plot\nplt"},{"page":164,"sentence":"figure(figsize =(15,8))\nplt"},{"page":164,"sentence":"bar(data_sorted[ 'AREA_NAME '], data_sorted[ 'total_bike_rack_capacity '],␣\n↪color='blue')\nplt"},{"page":164,"sentence":"title('Total Capacity by Area (2023) ', fontsize =16)\n55"},{"page":165,"sentence":"plt"},{"page":165,"sentence":"xlabel('Area Name ', fontsize =12)\nplt"},{"page":165,"sentence":"ylabel('Total Bike Capacity ', fontsize =12)\nplt"},{"page":165,"sentence":"xticks(rotation =90)\nplt"},{"page":165,"sentence":"show()\n[52]: # graph of bike capacity by bike thefts and correlation term\nBike_capacity_plot_query =pd"},{"page":165,"sentence":"read_csv( 'capacity_query"},{"page":165,"sentence":"csv ')\nx=Bike_capacity_plot_query[ 'total_bike_rack_capacity ']\ny=Bike_capacity_plot_query[ 'total_bike_thefts ']\nslope=np"},{"page":165,"sentence":"cov(x, y, ddof =0)[0,1]\/np"},{"page":165,"sentence":"var(x, ddof =0)\nintercept =np"},{"page":165,"sentence":"mean(y) -slope*np"},{"page":165,"sentence":"mean(x)\ncorrelation_matrix =np"},{"page":165,"sentence":"corrcoef(x, y)\nr_value =correlation_matrix[ 0,1]\nregression_line =slope*x+intercept\n56"},{"page":166,"sentence":"plt"},{"page":166,"sentence":"figure(figsize =(10,6))\nplt"},{"page":166,"sentence":"scatter(x, y, color ='blue', s=50, alpha=0"},{"page":166,"sentence":"6, label='Data Points ') #␣\n↪scatter points\nplt"},{"page":166,"sentence":"plot(x, regression_line, color ='red', label='Regression Line ') #␣\n↪regression line\n# add titles, labels, and the correlation coefficient\nplt"},{"page":166,"sentence":"title(f'Regression: Bike Rack Capacity vs"},{"page":166,"sentence":"Bike Thefts \\nCorrelation ␣\n↪Coefficient: {r_value :"},{"page":166,"sentence":"2f }', fontsize =16)\nplt"},{"page":166,"sentence":"xlabel('Total Bike Rack Capacity ', fontsize =12)\nplt"},{"page":166,"sentence":"ylabel('Total Bike Thefts ', fontsize =12)\nplt"},{"page":166,"sentence":"legend(fontsize =12)\nplt"},{"page":166,"sentence":"grid( True)\n# show the plot\nplt"},{"page":166,"sentence":"show()\nBike Theft vs T otal Bike Racks\n[53]:Bike_Theft_query =pd"},{"page":166,"sentence":"read_sql_query( f\"\"\"\nSELECT\nAREA_NAME,\nSUM(BIKETHEFT) AS total_bike_thefts,\n57"},{"page":167,"sentence":"COUNT(*) AS total_racks,\nAVG(BIKETHEFT_RATE) AS bike_theft_rate,\nSUM(POPULATION_2023) AS total_population\nFROM\n{BIKECRIMETABLE }\nWHERE\nYear = 2023\nGROUP BY\nAREA_NAME\n\"\"\", engine)\ndisplay(Bike_Theft_query)\nBike_Theft_query"},{"page":167,"sentence":"to_csv('bike_theft_area"},{"page":167,"sentence":"csv ', index=False)\nAREA_NAME total_bike_thefts total_racks \\\n0 Annex 891"},{"page":167,"sentence":"0 11\n1 Avondale 9"},{"page":167,"sentence":"0 1\n2 Bendale-Glen Andrew 10"},{"page":167,"sentence":"0 1\n3 Birchcliffe-Cliffside 6"},{"page":167,"sentence":"0 1\n4 Cabbagetown-South St"},{"page":167,"sentence":"James Town 62"},{"page":167,"sentence":"0 2\n5 Church-Wellesley 102"},{"page":167,"sentence":"0 1\n6 Danforth 39"},{"page":167,"sentence":"0 3\n7 Dovercourt Village 228"},{"page":167,"sentence":"0 6\n8 Downtown Yonge East 1435"},{"page":167,"sentence":"0 7\n9 Dufferin Grove 58"},{"page":167,"sentence":"0 1\n10 Harbourfront-CityPlace 528"},{"page":167,"sentence":"0 6\n11 High Park North 28"},{"page":167,"sentence":"0 1\n12 Humber Bay Shores 16"},{"page":167,"sentence":"0 1\n13 Junction-Wallace Emerson 220"},{"page":167,"sentence":"0 4\n14 Kensington-Chinatown 1096"},{"page":167,"sentence":"0 8\n15 Lawrence Park North 6"},{"page":167,"sentence":"0 1\n16 Little Portugal 85"},{"page":167,"sentence":"0 5\n17 Mimico-Queensway 10"},{"page":167,"sentence":"0 2\n18 Moss Park 495"},{"page":167,"sentence":"0 5\n19 Mount Olive-Silverstone-Jamestown 11"},{"page":167,"sentence":"0 1\n20 New Toronto 9"},{"page":167,"sentence":"0 1\n21 O'Connor-Parkview 8"},{"page":167,"sentence":"0 1\n22 Palmerston-Little Italy 297"},{"page":167,"sentence":"0 9\n23 Roncesvalles 21"},{"page":167,"sentence":"0 1\n24 Rosedale-Moore Park 45"},{"page":167,"sentence":"0 1\n25 South Riverdale 340"},{"page":167,"sentence":"0 4\n26 St Lawrence-East Bayfront-The Islands 424"},{"page":167,"sentence":"0 4\n27 Steeles 6"},{"page":167,"sentence":"0 2\n28 Tam O'Shanter-Sullivan 16"},{"page":167,"sentence":"0 1\n29 The Beaches 25"},{"page":167,"sentence":"0 1\n30 Thorncliffe Park 20"},{"page":167,"sentence":"0 2\n31 Trinity-Bellwoods 230"},{"page":167,"sentence":"0 5\n58"},{"page":168,"sentence":"32 University 159"},{"page":168,"sentence":"0 3\n33 Wellington Place 880"},{"page":168,"sentence":"0 11\n34 West Queen West 168"},{"page":168,"sentence":"0 4\n35 Willowdale West 6"},{"page":168,"sentence":"0 1\n36 Yonge-Bay Corridor 2964"},{"page":168,"sentence":"0 13\n37 Yonge-Eglinton 80"},{"page":168,"sentence":"0 5\n38 Yonge-St"},{"page":168,"sentence":"Clair 28"},{"page":168,"sentence":"0 2\nbike_theft_rate total_population\n0 234"},{"page":168,"sentence":"768997 379522"},{"page":168,"sentence":"0\n1 55"},{"page":168,"sentence":"731007 16149"},{"page":168,"sentence":"0\n2 48"},{"page":168,"sentence":"139412 20773"},{"page":168,"sentence":"0\n3 25"},{"page":168,"sentence":"622412 23417"},{"page":168,"sentence":"0\n4 259"},{"page":168,"sentence":"024078 23936"},{"page":168,"sentence":"0\n5 444"},{"page":168,"sentence":"676941 22938"},{"page":168,"sentence":"0\n6 127"},{"page":168,"sentence":"789246 30519"},{"page":168,"sentence":"0\n7 274"},{"page":168,"sentence":"626007 83022"},{"page":168,"sentence":"0\n8 1137"},{"page":168,"sentence":"435547 126161"},{"page":168,"sentence":"0\n9 456"},{"page":168,"sentence":"369507 12709"},{"page":168,"sentence":"0\n10 279"},{"page":168,"sentence":"569214 188862"},{"page":168,"sentence":"0\n11 114"},{"page":168,"sentence":"407127 24474"},{"page":168,"sentence":"0\n12 76"},{"page":168,"sentence":"841804 20822"},{"page":168,"sentence":"0\n13 209"},{"page":168,"sentence":"603653 104960"},{"page":168,"sentence":"0\n14 645"},{"page":168,"sentence":"343628 169832"},{"page":168,"sentence":"0\n15 38"},{"page":168,"sentence":"508438 15581"},{"page":168,"sentence":"0\n16 97"},{"page":168,"sentence":"706764 86995"},{"page":168,"sentence":"0\n17 27"},{"page":168,"sentence":"303009 36626"},{"page":168,"sentence":"0\n18 445"},{"page":168,"sentence":"805389 111035"},{"page":168,"sentence":"0\n19 31"},{"page":168,"sentence":"085741 35386"},{"page":168,"sentence":"0\n20 73"},{"page":168,"sentence":"740273 12205"},{"page":168,"sentence":"0\n21 40"},{"page":168,"sentence":"198986 19901"},{"page":168,"sentence":"0\n22 224"},{"page":168,"sentence":"505066 132291"},{"page":168,"sentence":"0\n23 131"},{"page":168,"sentence":"752304 15939"},{"page":168,"sentence":"0\n24 195"},{"page":168,"sentence":"202362 23053"},{"page":168,"sentence":"0\n25 282"},{"page":168,"sentence":"064056 120540"},{"page":168,"sentence":"0\n26 341"},{"page":168,"sentence":"902405 124012"},{"page":168,"sentence":"0\n27 11"},{"page":168,"sentence":"365789 52790"},{"page":168,"sentence":"0\n28 53"},{"page":168,"sentence":"745380 29770"},{"page":168,"sentence":"0\n29 108"},{"page":168,"sentence":"239166 23097"},{"page":168,"sentence":"0\n30 44"},{"page":168,"sentence":"428646 45016"},{"page":168,"sentence":"0\n31 258"},{"page":168,"sentence":"223877 89070"},{"page":168,"sentence":"0\n32 700"},{"page":168,"sentence":"687439 22692"},{"page":168,"sentence":"0\n33 277"},{"page":168,"sentence":"104248 317570"},{"page":168,"sentence":"0\n34 277"},{"page":168,"sentence":"484131 60544"},{"page":168,"sentence":"0\n35 30"},{"page":168,"sentence":"696817 19546"},{"page":168,"sentence":"0\n36 1547"},{"page":168,"sentence":"756470 191503"},{"page":168,"sentence":"0\n37 116"},{"page":168,"sentence":"422905 68715"},{"page":168,"sentence":"0\n38 100"},{"page":168,"sentence":"336845 27906"},{"page":168,"sentence":"0\n59"},{"page":169,"sentence":"[54]: # bar plot for neighbourhoods with the most bike thefts\n# read file\nBike_crime_df =pd"},{"page":169,"sentence":"read_csv( 'bike_theft_area"},{"page":169,"sentence":"csv ')\n# sort by most to least\ndata_sorted =Bike_crime_df"},{"page":169,"sentence":"sort_values(by ='total_bike_thefts ', ascending =False)\n# bar plot\nplt"},{"page":169,"sentence":"figure(figsize =(15,8))\nplt"},{"page":169,"sentence":"bar(data_sorted[ 'AREA_NAME '], data_sorted[ 'total_bike_thefts '],␣\n↪color='blue')\nplt"},{"page":169,"sentence":"title('Total Bike Thefts by Area (2023) ', fontsize =16)\nplt"},{"page":169,"sentence":"xlabel('Area Name ', fontsize =12)\nplt"},{"page":169,"sentence":"ylabel('Total Bike Thefts ', fontsize =12)\nplt"},{"page":169,"sentence":"xticks(rotation =90)\nplt"},{"page":169,"sentence":"show()\n60"},{"page":170,"sentence":"[55]: # comparing total bike racks to total bike thefts\ndf=pd"},{"page":170,"sentence":"read_csv( 'bike_theft_area"},{"page":170,"sentence":"csv ')\ndf=df"},{"page":170,"sentence":"sort_values( 'total_racks ', ascending =False)\nfig, ax1 =plt"},{"page":170,"sentence":"subplots(figsize =(14,8))\nx=np"},{"page":170,"sentence":"arange(len(df['AREA_NAME ']))\nwidth=0"},{"page":170,"sentence":"4\nax1"},{"page":170,"sentence":"bar(x-width\/2, df['total_racks '], width, color ='b', label='Total Bike ␣\n↪Racks')\nax1"},{"page":170,"sentence":"set_xlabel( 'Neighborhood ', fontsize =14)\nax1"},{"page":170,"sentence":"set_ylabel( 'Total Bike Racks ', color='b', fontsize =14)\nax1"},{"page":170,"sentence":"tick_params(axis ='y', labelcolor ='b')\nax1"},{"page":170,"sentence":"set_xticks(x)\nax1"},{"page":170,"sentence":"set_xticklabels(df[ 'AREA_NAME '], rotation =45, ha='right', fontsize =12)\nax2=ax1"},{"page":170,"sentence":"twinx()\nax2"},{"page":170,"sentence":"bar(x+width\/2, df['total_bike_thefts '], width, color ='r', label='Total␣\n↪Bike Thefts ')\nax2"},{"page":170,"sentence":"set_ylabel( 'Total Bike Thefts ', color='r', fontsize =14)\nax2"},{"page":170,"sentence":"tick_params(axis ='y', labelcolor ='r')\nfig"},{"page":170,"sentence":"suptitle( 'Comparison of Bike Racks and Bike Thefts by Neighborhood ',␣\n↪fontsize =16)\nfig"},{"page":170,"sentence":"legend(loc =\"upper center \", bbox_to_anchor =(0"},{"page":170,"sentence":"5,1"},{"page":170,"sentence":"05), ncol=2, fontsize =12)\nplt"},{"page":170,"sentence":"tight_layout()\nplt"},{"page":170,"sentence":"show()\n61"},{"page":171,"sentence":"[56]: # graph of number of bike racks by bike thefts and correlation term\nBike_Theft_query =pd"},{"page":171,"sentence":"read_csv( 'bike_theft_area"},{"page":171,"sentence":"csv ')\nx=Bike_Theft_query[ 'total_racks ']\ny=Bike_Theft_query[ 'total_bike_thefts ']\nslope=np"},{"page":171,"sentence":"cov(x, y, ddof =0)[0,1]\/np"},{"page":171,"sentence":"var(x, ddof =0)\nintercept =np"},{"page":171,"sentence":"mean(y) -slope*np"},{"page":171,"sentence":"mean(x)\ncorrelation_matrix =np"},{"page":171,"sentence":"corrcoef(x, y)\nr_value =correlation_matrix[ 0,1]\nregression_line =slope*x+intercept\nplt"},{"page":171,"sentence":"figure(figsize =(10,6))\nplt"},{"page":171,"sentence":"scatter(x, y, color ='blue', s=50, label='Data Points ') # scatter points\nplt"},{"page":171,"sentence":"plot(x, regression_line, color ='red', label='Regression Line ') #␣\n↪regression line\nplt"},{"page":171,"sentence":"title(f'Regression: Bike Racks vs"},{"page":171,"sentence":"Bike Thefts \\nCorrelation Coefficient: ␣\n↪{r_value :"},{"page":171,"sentence":"2f }', fontsize =16)\nplt"},{"page":171,"sentence":"xlabel('Number of Bike Racks ', fontsize =12)\nplt"},{"page":171,"sentence":"ylabel('Number of Bike Thefts ', fontsize =12)\nplt"},{"page":171,"sentence":"legend(fontsize =12)\n62"},{"page":172,"sentence":"plt"},{"page":172,"sentence":"grid( True)\nplt"},{"page":172,"sentence":"show()\nBike rack and neighbourhood map\n[57]: # load GeoJSON Files\nbikerack_gdf =gpd"},{"page":172,"sentence":"read_file( \"Bicycle Parking Racks Data"},{"page":172,"sentence":"geojson \")\ncrime_gdf =gpd"},{"page":172,"sentence":"read_file( \"neighbourhood-crime-rates"},{"page":172,"sentence":"geojson \")\nprint(\"Geometry types in bike rack data: \")\nprint(bikerack_gdf"},{"page":172,"sentence":"geometry"},{"page":172,"sentence":"geom_type"},{"page":172,"sentence":"value_counts())\nbikerack_gdf[ \"geometry \"]=bikerack_gdf[ \"geometry \"]"},{"page":172,"sentence":"apply( lambdageom: geom"},{"page":172,"sentence":"↪geoms[0] ifgeom"},{"page":172,"sentence":"geom_type ==\"MultiPoint \"else None)\nbikerack_gdf =bikerack_gdf[bikerack_gdf"},{"page":172,"sentence":"geometry"},{"page":172,"sentence":"notna()]\nifbikerack_gdf"},{"page":172,"sentence":"empty:\nprint(\"No valid Point geometries found"},{"page":172,"sentence":"Using fallback"},{"page":172,"sentence":"\")\nmap_center =[43"},{"page":172,"sentence":"7,-79"},{"page":172,"sentence":"4]\nelse:\nmap_center =[\n63"},{"page":173,"sentence":"bikerack_gdf"},{"page":173,"sentence":"geometry"},{"page":173,"sentence":"y"},{"page":173,"sentence":"mean(),\nbikerack_gdf"},{"page":173,"sentence":"geometry"},{"page":173,"sentence":"x"},{"page":173,"sentence":"mean()\n]\nprint(\"Valid Point geometries found: \",len(bikerack_gdf))\n# make sure CRS Matches\nifbikerack_gdf"},{"page":173,"sentence":"crs!=crime_gdf"},{"page":173,"sentence":"crs:\ncrime_gdf =crime_gdf"},{"page":173,"sentence":"to_crs(bikerack_gdf"},{"page":173,"sentence":"crs)\n# create Folium Map\nm=folium"},{"page":173,"sentence":"Map(location =map_center, zoom_start =12)\nforidx, row inbikerack_gdf"},{"page":173,"sentence":"iterrows():\nfolium"},{"page":173,"sentence":"Marker(\nlocation =[row"},{"page":173,"sentence":"geometry"},{"page":173,"sentence":"y, row"},{"page":173,"sentence":"geometry"},{"page":173,"sentence":"x],\npopup=f\"<b>Address:<\/b> {row"},{"page":173,"sentence":"get('ADDRESS_FULL ','N\/A')}<br><b>Capacity:\n↪<\/b> {row"},{"page":173,"sentence":"get('CAPACITY ','N\/A')}\"\n)"},{"page":173,"sentence":"add_to(m)\nfolium"},{"page":173,"sentence":"GeoJson(\ncrime_gdf,\nname=\"Neighborhoods \",\nstyle_function =lambdax: {\n\"fillColor \":\"yellow\",\n\"color\":\"black\",\n\"weight\":1,\n\"fillOpacity \":0"},{"page":173,"sentence":"3,\n},\ntooltip=folium"},{"page":173,"sentence":"GeoJsonTooltip(\nfields=[\"AREA_NAME \"],\naliases=[\"Neighborhood: \"],\n),\n)"},{"page":173,"sentence":"add_to(m)\nm\nGeometry types in bike rack data:\nMultiPoint 241\nName: count, dtype: int64\nValid Point geometries found: 241\n[57]:<folium"},{"page":173,"sentence":"folium"},{"page":173,"sentence":"Map at 0x715bc88e0370>\nT op 10 Bike Racks with the Highest Capacity\n[58]: # top 10 list of bike racks with the highest capacity\nhighest_capacity_query =f\"\"\"\n64"},{"page":174,"sentence":"SELECT DISTINCT ADDRESS_FULL, CAPACITY\nFROM {BIKECRIMETABLE }\nORDER BY CAPACITY DESC\nLIMIT 10;\n\"\"\"\ncapacity_result =pd"},{"page":174,"sentence":"read_sql(highest_capacity_query, engine)\ndisplay(capacity_result)\nADDRESS_FULL CAPACITY\n0 61 Front St W 72\n1 5100 Yonge St 64\n2675 Bloor St W 48\n3100 Queen St W 40\n4 175 Mount Olive Dr 32\n565 Dundas St W 32\n6 743 Pape Ave 32\n7 35 York St 30\n8 2 Bloor St W 24\n9 236 Augusta Ave 24\nT otals of Each Bike Rack Class\n[59]:map_class_query =f\"\"\"\nSELECT MAP_CLASS, COUNT(DISTINCT ADDRESS_FULL) AS total_bike_racks\nFROM {BIKECRIMETABLE }\nGROUP BY MAP_CLASS\nORDER BY total_bike_racks DESC;\n\"\"\"\nmap_class_result =pd"},{"page":174,"sentence":"read_sql(map_class_query, engine)\ndisplay(map_class_result)\nMAP_CLASS total_bike_racks\n0 Multi-Bike Rack 110\n1 Bike Corral 15\n2 Multi-Bike Rack (Angled) 6\n3 Bike Shelter 3\n5 Discussion\nWhen analyzing the impact of police budgetary data on crime statistics in T oronto, we observed a\ncouple of unique trends"},{"page":174,"sentence":"When simply looking at the raw data we noticed that as the total operating\nbudget increased over time, so did the average rates for assault, auto theft, and shooting"},{"page":174,"sentence":"Although\nthis may not seem intuitive, it may have been due to a couple of factors"},{"page":174,"sentence":"An increased budget could\nmean there was an improvement in reporting or detection of specific crimes, which could lead to\nan increase observed in those crime rates"},{"page":174,"sentence":"It may also be an indication of improper allocation of\nresources for various years"},{"page":174,"sentence":"Although there was some breakdown of allocation provided, it was not\nvery stringent, so it is possible that despite an increase in budget, areas useful in auto theft were\n65"},{"page":175,"sentence":"underfunded, as an example"},{"page":175,"sentence":"When trying to run regressional analysis on our data, we realized that our sample size for budgetary\ndata was too small, therefore we could not rely on standard regression methods"},{"page":175,"sentence":"T o overcome this\nproblem we decided it would be best to bootstrap our data"},{"page":175,"sentence":"Upon doing so we found which crimes\nhad significant relationships with total operating budget by seeing which confidence intervals did\nnot contain 0"},{"page":175,"sentence":"Of all the crimes analyzed, we found significant relationships between gross operating\nbudget and average rates of auto theft, theft over $5000, bike theft, and robbery"},{"page":175,"sentence":"Once we determined which relationships were significant, we plotted the boostrapped regression\nlines, as well as the mean regression line"},{"page":175,"sentence":"Of all the plots, we observed the strongest positive\nrelationship between total budget and auto theft rates, and the strongest negative relationship\nbetween total budget and robbery rates"},{"page":175,"sentence":"Analysing the impact of income in neighbourhoods on various crime rates showed some interesting\nresults"},{"page":175,"sentence":"W e began by visualizing the relationships between assault, robbery , auto theft, and break-\nand-enter rates against income using scatter plots and regression lines"},{"page":175,"sentence":"As can be seen from the\nresults, income showed a slight negative relationship with assault and auto theft rates, with each\nregression having poor R squared values, but neither showing significant coeﬀicients"},{"page":175,"sentence":"Additionally ,\nincome showed a negative relationship with robbery rates, but did not have a significant coeﬀicient"},{"page":175,"sentence":"Lastly , income showed a strong positive relationship with break and enter rates, with a poor R\nsquared, but a very significant coeﬀicient"},{"page":175,"sentence":"F or the same 4 crime rates we broke income into 4 quartiles and visualised the average crime rates\nfor each quartile"},{"page":175,"sentence":"The results reinforced the findings of the regression scatter plots somewhat"},{"page":175,"sentence":"F or\neach quartile both assault and robbery rates showed no pattern or trend across the 4 quartiles but\nauto theft and break and enter rates did show trends"},{"page":175,"sentence":"Auto theft rates followed the relationship\nfound in the regression plots with a negative trend as income increased"},{"page":175,"sentence":"Break and enter rates\nconfirmed the regression plot, with an increase in break and enter rates as income increased in\nneighbourhoods"},{"page":175,"sentence":"These trends may be due to a couple of reasons"},{"page":175,"sentence":"F or auto theft rates, higher\nincome families are more likely to have a garage which would naturally reduce the amount of auto\nthefts"},{"page":175,"sentence":"At the same time more wealthy areas would be more attractive targets for breaking and\nentering due to the greater amount of valuables likely at these homes"},{"page":175,"sentence":"Additionally , we analyzed homicide rates independently , as many data points had values of zero"},{"page":175,"sentence":"Lower income neighborhoods exhibited a higher frequency of homicides and generally higher rates\nof homicide"},{"page":175,"sentence":"Our analysis found significant relationships between education levels, measured by degree rates, and\nvarious crime rates, excluding auto theft and homicide"},{"page":175,"sentence":"Most relationships were positive, except for\nshootings, which exhibited a negative association"},{"page":175,"sentence":"Despite these findings, the adjusted R-squared\nvalues were low, indicating that education levels alone do not explain much of the variability in\ncrime rates"},{"page":175,"sentence":"Among the analyzed crimes, bike theft had the highest adjusted R-squared value at\n0"},{"page":175,"sentence":"3260"},{"page":175,"sentence":"Interestingly , neighborhoods with higher degree rates also tended to report higher crime rates, with\nthe downtown area exhibiting the highest levels"},{"page":175,"sentence":"This may be attributed to the concentration of\npolice precincts and increased crime reporting in urban areas"},{"page":175,"sentence":"This suggests that while education\nlevels do have an impact on crime rates, other factors also play a significant role in determining\ncrime rates in different neighborhoods"},{"page":175,"sentence":"The findings highlight the complexity of the relationship between education and crime"},{"page":175,"sentence":"While higher\n66"},{"page":176,"sentence":"education levels are generally associated with better economic opportunities and lower crime rates,\nthe data suggests that this relationship is not straightforward"},{"page":176,"sentence":"The presence of other socioeconomic\nfactors, such as income levels, employment opportunities, and community resources, likely play a\ncrucial role in shaping crime rates"},{"page":176,"sentence":"Therefore, a comprehensive approach that considers multiple\nfactors is essential for effectively addressing crime and improving public safety in urban areas"},{"page":176,"sentence":"Based on our comparison of the shelter occupancy rates to crime rates by neighbourhood, we\nsee that our analyses did not produce the results we were expecting"},{"page":176,"sentence":"At first glance, the graphs\nshow a general negative slope across the board, meaning that as shelter occupancy increases, crime\nrates decrease"},{"page":176,"sentence":"The steepest slope we can observe is that of the break and enter rate vs"},{"page":176,"sentence":"shelter\noccupancy"},{"page":176,"sentence":"As it turns out, this is also the only crime that has a statistically significant correlation"},{"page":176,"sentence":"The correlation between occupancy rate and break and enter rates is -0"},{"page":176,"sentence":"40, with a significant p-\nvalue of 0"},{"page":176,"sentence":"0173"},{"page":176,"sentence":"This could be for a number of reasons, perhaps the most intriguing being that if\nthere are more people in shelters, there are less people trying to break in to other homes to get\nwhat they need"},{"page":176,"sentence":"Although the rest of the crimes all show a negative correlation, except for auto theft rate, none\nof them are statistically significant when assessing the p-values"},{"page":176,"sentence":"In general, this leads us to an\noverall conclusion that shelter occupancy , at least on its own, does not contribute to crime rates in\ndifferent neighbourhoods in T oronto"},{"page":176,"sentence":"When observed the relationship between bike racks and bik related crimes, we began by examining\nthe interactions between bike rack numbers and bike thefts in different neighbourhoods"},{"page":176,"sentence":"Our anal-\nysis revealed a positive correlation of 0"},{"page":176,"sentence":"81 between racks and capacity"},{"page":176,"sentence":"Next, we looked at the total\nbike capacity in a neighbourhood and bike thefts"},{"page":176,"sentence":"F or this result, we saw an even greater correlation\nof 0"},{"page":176,"sentence":"83"},{"page":176,"sentence":"Both of these results indicate that not only bike racks, but also bike, higher capacity bike\nracks attract more bikes, and in turn, increase theft opportunities"},{"page":176,"sentence":"Some contributing factors to\nthis may be high foot traﬀic, poor lighting, and broader socioeconomic conditions in high-crime\nareas"},{"page":176,"sentence":"By combining bike rack data with neighbourhood crime statistics we could identify patterns\nin bike-related thefts"},{"page":176,"sentence":"Our analysis revealed areas prone to theft that may need interventions to\nmitigate the problem; such as secure bike racks, improved lighting, surveillance, and community\neducation"},{"page":176,"sentence":"Moving forward, some other areas for analysis may include connecting links between\nour household income analysis and comparing total crime trends to point out neighbourhoods that\nshould be avoided"},{"page":176,"sentence":"Based on our results, some steps must be taken to improve bike theft rates, such as using the right\nsecurity measures, using GIS tools to mark high-risk zones or point out close bike racks in safe\nareas, and partnering with cities and developers to integrate theft-resistant infrastructure such as\nlighting and shelter"},{"page":176,"sentence":"Overall, the project has revealed insights into the consequences of inadequate\nbike infrastructure and strategies to mitigate the issue"},{"page":176,"sentence":"Discussion Board F eedback F rom the discussion board on our video presentation we received\nthree main points of feedback that we felt were worth addressing"},{"page":176,"sentence":"Although there were others, they\neither echoed previous statements, or were on matters that we had already addressed, but did not\nhave the time to incorporate to our presentation"},{"page":176,"sentence":"The first point we want to address asked about what other factors could explain the link between\nbike racks and thefts"},{"page":176,"sentence":"Some possible factors are the amount of foot traﬀic in the area, whether the\narea is poorly lit, and various other socioeconomic factors"},{"page":176,"sentence":"Although we do not have the data to\nexplore the first two factors, we could run an analysis that would include our income data, and\n67"},{"page":177,"sentence":"determine whether or not it affected the relationship between bike racks and bike thefts"},{"page":177,"sentence":"The second point was to provide clarification on whether the break and enter variable would include\ninstances of breaking into someones car, and stealing something from inside the car"},{"page":177,"sentence":"At the time of\nthis response, we have not heard back from the dataset owners to clarify if that is the case or not"},{"page":177,"sentence":"The last point was a suggestion to improve some of our visualizations, more specifically the budget\nfigures which included bars and lines"},{"page":177,"sentence":"W e adjusted this figure to reduce the transparency of the\nbudget bars, while increasing the thickness of the crime statistics line, to improve the visibility of\nthe lines"},{"page":177,"sentence":"6 Conclusion\nOur analysis has come to some interesting conclusions for our guiding question that we asked at\nthe start of this project"},{"page":177,"sentence":"F or police budgets our bootstrap regressions seem to show that increasing\npolice budgets does not reduce all crime statistics"},{"page":177,"sentence":"Auto theft rates seem to show a strong positive\nrelationship with the T oronto police budget"},{"page":177,"sentence":"This may indicate that there are likely alternate\nsolutions than more policing, to reduce some crime rates"},{"page":177,"sentence":"When looking at neighborhood income,\nwe found that lower income areas showed higher levels of auto thefts, homicide, and break and\nenter crimes"},{"page":177,"sentence":"F or higher education rates the results were mixed, similar to neighborhood income"},{"page":177,"sentence":"Higher rates of education reduced the rates of some crimes and raised the rates of others"},{"page":177,"sentence":"Both of\nthese sections of our analysis could potentially inform where police and municipal resources would\nbe best focused"},{"page":177,"sentence":"Our analysis of shelter occupancy showed that higher rates of occupancy decreased break and\nenter rates"},{"page":177,"sentence":"While no other coeﬀicients were significant, they also showed negative relationships\nwith shelter occupancy"},{"page":177,"sentence":"This analysis is an excellent example of how municipal budget focus on\nhomeless shelters or further preventative measures to reduce homelessness could reduce crime rates"},{"page":177,"sentence":"Our analysis of bike racks inside neighbourhoods did show the expected results"},{"page":177,"sentence":"Our analysis found\nthat the more bike racks available the more bike thefts that occurred with a very strong correlation\nbetween the presence of bike racks and thefts"},{"page":177,"sentence":"While the presence of bike racks doe not indicate\na causal relationship it does show which areas have the worst problems with bike thefts, and that\nperhaps steps could be taken to better protect bikes in these areas from theft"},{"page":177,"sentence":"Based on the findings of our results, we believe the solution to decreasing crime not a clear case\nwhere more policing will solve it"},{"page":177,"sentence":"Alternative preventative methods such as homeless shelters,\ninventive high-capacity bike rack solutions such as the underground bike storage system in T okyo,\nand more effective focus of police forces and budgets given the results of our analysis may take\nsteps towards reducing crime rates for residents of T oronto"},{"page":177,"sentence":"7 References\nBike Finder"},{"page":177,"sentence":"(2024)"},{"page":177,"sentence":"About the Bike finder T eam"},{"page":177,"sentence":"Retrieved from How to A void Bike Thieves:\nCommon Bike Theft Hotspots and Prevention Tips - BikeFinder"},{"page":177,"sentence":"City of T oronto"},{"page":177,"sentence":"(2024)"},{"page":177,"sentence":"About T oronto neighbourhoods"},{"page":177,"sentence":"City of\nT oronto"},{"page":177,"sentence":"https:\/\/www"},{"page":177,"sentence":"toronto"},{"page":177,"sentence":"ca\/city-government\/data-research-maps\/neighbourhoods-\ncommunities\/neighbourhood-profiles\/about-toronto-neighbourhoods\/\n68"},{"page":178,"sentence":"City of T oronto"},{"page":178,"sentence":"(2024, October 15)"},{"page":178,"sentence":"Address points - Municipal T oronto One Address\nRepository"},{"page":178,"sentence":"Open T oronto"},{"page":178,"sentence":"https:\/\/open"},{"page":178,"sentence":"toronto"},{"page":178,"sentence":"ca\/dataset\/address-points-municipal-toronto-\none-address-repository\/\nCity of T oronto"},{"page":178,"sentence":"(2024, October 15)"},{"page":178,"sentence":"Bicycle Parking Racks"},{"page":178,"sentence":"City of T oronto Open Data Portal"},{"page":178,"sentence":"https:\/\/open"},{"page":178,"sentence":"toronto"},{"page":178,"sentence":"ca\/dataset\/bicycle-parking-racks\/\nCity of T oronto"},{"page":178,"sentence":"(2024, October 15)"},{"page":178,"sentence":"Daily Shelter Occupancy"},{"page":178,"sentence":"City of T oronto Open Data Portal"},{"page":178,"sentence":"https:\/\/open"},{"page":178,"sentence":"toronto"},{"page":178,"sentence":"ca\/dataset\/daily-shelter-occupancy\/\nCity of T oronto"},{"page":178,"sentence":"(2024, October 15)"},{"page":178,"sentence":"Neighbourhood Crime Rates"},{"page":178,"sentence":"City of T oronto Open Data\nPortal"},{"page":178,"sentence":"https:\/\/open"},{"page":178,"sentence":"toronto"},{"page":178,"sentence":"ca\/dataset\/neighbourhood-crime-rates\/\nCity of T oronto"},{"page":178,"sentence":"(2024, October 15)"},{"page":178,"sentence":"Neighbourhood Profiles"},{"page":178,"sentence":"City of T oronto Open Data Portal"},{"page":178,"sentence":"https:\/\/open"},{"page":178,"sentence":"toronto"},{"page":178,"sentence":"ca\/dataset\/neighbourhood-profiles\/\nCity of T oronto"},{"page":178,"sentence":"(2024, October 15)"},{"page":178,"sentence":"Police Annual Statistical Report - Gross Operating Bud-\nget"},{"page":178,"sentence":"City of T oronto Open Data Portal"},{"page":178,"sentence":"https:\/\/open"},{"page":178,"sentence":"toronto"},{"page":178,"sentence":"ca\/dataset\/police-annual-statistical-\nreport-gross-operating-budget\/\nGeeks for Geeks"},{"page":178,"sentence":"(n"},{"page":178,"sentence":"d"},{"page":178,"sentence":")"},{"page":178,"sentence":"Data visualization with Python Seaborn"},{"page":178,"sentence":"Retrieved December 8, 2024,\nfrom https:\/\/www"},{"page":178,"sentence":"geeksforgeeks"},{"page":178,"sentence":"org\/data-visualization-with-python-seaborn\/\nGeoPandas"},{"page":178,"sentence":"(n"},{"page":178,"sentence":"d"},{"page":178,"sentence":")"},{"page":178,"sentence":"GeoDataF rame"},{"page":178,"sentence":"Retrieved December 8, 2024, from\nhttps:\/\/geopandas"},{"page":178,"sentence":"org\/en\/stable\/docs\/reference\/api\/geopandas"},{"page":178,"sentence":"GeoDataF rame"},{"page":178,"sentence":"html\nGeoPandas"},{"page":178,"sentence":"(n"},{"page":178,"sentence":"d"},{"page":178,"sentence":")"},{"page":178,"sentence":"Projections and coordinate reference systems"},{"page":178,"sentence":"Retrieved December 8, 2024,\nfrom https:\/\/geopandas"},{"page":178,"sentence":"org\/en\/stable\/docs\/user_guide\/projections"},{"page":178,"sentence":"html\nGeoPandas"},{"page":178,"sentence":"(n"},{"page":178,"sentence":"d"},{"page":178,"sentence":")"},{"page":178,"sentence":"Spatial join"},{"page":178,"sentence":"Retrieved December 8, 2024, from\nhttps:\/\/geopandas"},{"page":178,"sentence":"org\/en\/stable\/docs\/reference\/api\/geopandas"},{"page":178,"sentence":"sjoin"},{"page":178,"sentence":"html\nLochner, L"},{"page":178,"sentence":", & Moretti, E"},{"page":178,"sentence":"(2004)"},{"page":178,"sentence":"The effect of education on crime: Evidence from prison inmates,\narrests, and self-reports"},{"page":178,"sentence":"American Economic Review, 94(1), 155–189"},{"page":178,"sentence":"NumPy"},{"page":178,"sentence":"(n"},{"page":178,"sentence":"d"},{"page":178,"sentence":")"},{"page":178,"sentence":"Correlation coeﬀicients"},{"page":178,"sentence":"Retrieved December 8, 2024, from\nhttps:\/\/numpy"},{"page":178,"sentence":"org\/doc\/stable\/reference\/generated\/numpy"},{"page":178,"sentence":"corrcoef"},{"page":178,"sentence":"html\nSaturn Cloud"},{"page":178,"sentence":"(n"},{"page":178,"sentence":"d"},{"page":178,"sentence":")"},{"page":178,"sentence":"Calculating slopes in NumPy or SciPy"},{"page":178,"sentence":"Retrieved December 8, 2024, from\nhttps:\/\/saturncloud"},{"page":178,"sentence":"io\/blog\/calculating-slopes-in-numpy-or-scipy\/\nSciPy"},{"page":178,"sentence":"(n"},{"page":178,"sentence":"d"},{"page":178,"sentence":")"},{"page":178,"sentence":"Introduction to SciPy"},{"page":178,"sentence":"W3Schools"},{"page":178,"sentence":"Retrieved December 8, 2024, from\nhttps:\/\/www"},{"page":178,"sentence":"w3schools"},{"page":178,"sentence":"com\/python\/scipy\/scipy_intro"},{"page":178,"sentence":"php\nStack Overflow"},{"page":178,"sentence":"(2020)"},{"page":178,"sentence":"GeoPandas: How to convert the column geometry to string"},{"page":178,"sentence":"Retrieved\nDecember 8, 2024, from https:\/\/stackoverflow"},{"page":178,"sentence":"com\/questions\/61125808\/geopandas-how-to-convert-\nthe-column-geometry-to-string\nT oronto Police Service"},{"page":178,"sentence":"(2024)"},{"page":178,"sentence":"About T oronto Police"},{"page":178,"sentence":"City of T oronto"},{"page":178,"sentence":"Retrieved from Budget -\nT oronto Police Service"},{"page":178,"sentence":"T oronto Police Service"},{"page":178,"sentence":"(2024)"},{"page":178,"sentence":"My neighbourhood"},{"page":178,"sentence":"Retrieved November 28, 2024, from\nhttps:\/\/www"},{"page":178,"sentence":"tps"},{"page":178,"sentence":"ca\/my-neighbourhood\/\nW3Schools"},{"page":178,"sentence":"(n"},{"page":178,"sentence":"d"},{"page":178,"sentence":")"},{"page":178,"sentence":"NumPy Random Seaborn"},{"page":178,"sentence":"Retrieved December 8, 2024, from\nhttps:\/\/www"},{"page":178,"sentence":"w3schools"},{"page":178,"sentence":"com\/python\/numpy\/numpy_random_seaborn"},{"page":178,"sentence":"asp\n69"},{"page":179,"sentence":"[ ]:\n70"},{"page":180,"sentence":"obesityestimation\nJuly 13, 2025\n1 Estimation of Obesity levels based on lifestyle and dietary pat-\nterns\n1"},{"page":180,"sentence":"1 T eam Members\n1"},{"page":180,"sentence":"A yush Senthil Nelli\n2"},{"page":180,"sentence":"Hritvik Gaind\n3"},{"page":180,"sentence":"Satyam Kapoor\n4"},{"page":180,"sentence":"V enkateshwaran Balu Soundararajan\n1"},{"page":180,"sentence":"2 T able of Contents\n• 1"},{"page":180,"sentence":"Introduction\n• 2"},{"page":180,"sentence":"Objective\n– 2"},{"page":180,"sentence":"1"},{"page":180,"sentence":"Research Questions\n• 3"},{"page":180,"sentence":"Dataset Description\n– 3"},{"page":180,"sentence":"1"},{"page":180,"sentence":"Data Source\n– 3"},{"page":180,"sentence":"2"},{"page":180,"sentence":"V ariables Overview\n– 3"},{"page":180,"sentence":"3"},{"page":180,"sentence":"F eature Engineering\n– 3"},{"page":180,"sentence":"4"},{"page":180,"sentence":"Multicollinearity\n• 4"},{"page":180,"sentence":"Exploratory Data Analysis (EDA)\n– 4"},{"page":180,"sentence":"1"},{"page":180,"sentence":"Descriptive statistics (for numerical columns)\n– 4"},{"page":180,"sentence":"2"},{"page":180,"sentence":"Analyzing the Outliers in the Dataset\n– 4"},{"page":180,"sentence":"3"},{"page":180,"sentence":"Summary for categorical columns (using value_counts)\n– 4"},{"page":180,"sentence":"4"},{"page":180,"sentence":"Check for Missing V alues\n– 4"},{"page":180,"sentence":"5"},{"page":180,"sentence":"Histograms for Numerical F eatures\n– 4"},{"page":180,"sentence":"6"},{"page":180,"sentence":"Obesity Levels by Gender\n1"},{"page":181,"sentence":"– 4"},{"page":181,"sentence":"7"},{"page":181,"sentence":"Grouped Bar Chart (Counts by Age Group)\n– 4"},{"page":181,"sentence":"8"},{"page":181,"sentence":"Categorical Data Analysis\n– 4"},{"page":181,"sentence":"9"},{"page":181,"sentence":"Impact of F amily History on Obesity\n• 5"},{"page":181,"sentence":"Machine Learning Modeling\n– 5"},{"page":181,"sentence":"1"},{"page":181,"sentence":"Label Encoding of Categorical V ariables\n– 5"},{"page":181,"sentence":"2"},{"page":181,"sentence":"T est T rain Split of Encoded Data\n– 5"},{"page":181,"sentence":"3"},{"page":181,"sentence":"Multiclassfication tasks with Default Parameters\n∗5"},{"page":181,"sentence":"3"},{"page":181,"sentence":"1"},{"page":181,"sentence":"Logistic Regression\n∗5"},{"page":181,"sentence":"3"},{"page":181,"sentence":"2"},{"page":181,"sentence":"Decision T ree Classifier\n∗5"},{"page":181,"sentence":"3"},{"page":181,"sentence":"3"},{"page":181,"sentence":"Random F orest Classifier\n∗5"},{"page":181,"sentence":"3"},{"page":181,"sentence":"4"},{"page":181,"sentence":"XGBoost Classifier\n∗Next Step: Hyperparameter T uning\n– 5"},{"page":181,"sentence":"4"},{"page":181,"sentence":"Multiclassfication tasks with Hypertuning\n∗5"},{"page":181,"sentence":"4"},{"page":181,"sentence":"1"},{"page":181,"sentence":"Random F orest Classifier with HyperParameter\n∗5"},{"page":181,"sentence":"4"},{"page":181,"sentence":"2"},{"page":181,"sentence":"XGBoost Classifier with Hyperparameter T uning\n∗Inference\n∗Conclusion\n– 5"},{"page":181,"sentence":"5"},{"page":181,"sentence":"Machine Learning Modeling (Binary Classification)\n∗5"},{"page":181,"sentence":"5"},{"page":181,"sentence":"1"},{"page":181,"sentence":"Grouping obesity to two groups that whether the person is obese(1) or not(0)\n∗5"},{"page":181,"sentence":"5"},{"page":181,"sentence":"2"},{"page":181,"sentence":"Apply Label Encoding\n∗5"},{"page":181,"sentence":"5"},{"page":181,"sentence":"3"},{"page":181,"sentence":"Logistic Regression\n∗5"},{"page":181,"sentence":"5"},{"page":181,"sentence":"4"},{"page":181,"sentence":"Random F orest\n∗5"},{"page":181,"sentence":"5"},{"page":181,"sentence":"6"},{"page":181,"sentence":"XGBoost\n– 5"},{"page":181,"sentence":"6"},{"page":181,"sentence":"Plotting Decision Boundaries\n• 6"},{"page":181,"sentence":"0"},{"page":181,"sentence":"F uture Scope\n• 7"},{"page":181,"sentence":"0"},{"page":181,"sentence":"Conclusion\n• 8"},{"page":181,"sentence":"0"},{"page":181,"sentence":"References\n2"},{"page":182,"sentence":"1"},{"page":182,"sentence":"3 1"},{"page":182,"sentence":"Introduction\nObesity is one of the most significant public health challenges of the 21st century"},{"page":182,"sentence":"According to\nthe W orld Health Organization (WHO), global obesity rates have nearly tripled since 1975, with\nover 1"},{"page":182,"sentence":"9 billion adults classified as overweight and more than 650 million considered obese"},{"page":182,"sentence":"Obesity\nis associated with an increased risk of cardiovascular diseases, diabetes, hypertension, and\nother chronic health conditions , making it a critical area of research for healthcare professionals\nand policymakers"},{"page":182,"sentence":"With the rise of sedentary lifestyles, unhealthy dietary habits, and reduced physical\nactivity , obesity rates continue to climb, particularly in developing countries"},{"page":182,"sentence":"In Latin America,\nwhere this dataset originates, obesity is a growing concern due to shifts in dietary patterns,\nurbanization, and lifestyle changes"},{"page":182,"sentence":"Mexico, for instance, has one of the highest obesity rates\nin the world, with nearly 75% of the population being classified as overweight or obese"},{"page":182,"sentence":"1"},{"page":182,"sentence":"4 2"},{"page":182,"sentence":"Objective\nUnderstanding the key factors that contribute to obesity is essential for developing preventive\nstrategies, personalized health interventions, and public health policies"},{"page":182,"sentence":"Our motivation for this project is to:\n-Identify patterns and trends in dietary habits and physical activity that contribute to obesity"},{"page":182,"sentence":"-Develop predictive models that classify individuals into different obesity levels based on their\nlifestyle choices"},{"page":182,"sentence":"-Provide actionable insights that can help individuals, healthcare professionals, and policy-\nmakers make informed decisions about obesity prevention and management"},{"page":182,"sentence":"The main objective of this project is to develop a classification model that predicts an individ-\nual’s obesity level based on their lifestyle and dietary habits"},{"page":182,"sentence":"Specifically , we aim to:\n-Clean and preprocess the dataset , handling missing values and encoding categorical variables"},{"page":182,"sentence":"-Perform exploratory data analysis (EDA) to understand distributions, correlations, and key\ntrends"},{"page":182,"sentence":"-T rain and compare different machine learning models , such as decision trees, logistic\nregression, and support vector machines"},{"page":182,"sentence":"-Evaluate model performance using metrics like accuracy , precision, recall, and F1-score"},{"page":182,"sentence":"-Interpret findings to provide meaningful insights into obesity risk factors"},{"page":182,"sentence":"1"},{"page":182,"sentence":"4"},{"page":182,"sentence":"1 2"},{"page":182,"sentence":"1"},{"page":182,"sentence":"Research Questions\nF eature Importance Analysis - Which factors (e"},{"page":182,"sentence":"g"},{"page":182,"sentence":", water intake, physical activity , transporta-\ntion mode) are most predictive of obesity levels? - How do lifestyle choices (e"},{"page":182,"sentence":"g"},{"page":182,"sentence":", alcohol consump-\ntion, calorie monitoring) correlate with obesity severity?\nDemographic and Behavioral Patterns\n- Are there significant differences in obesity levels between genders or age groups? - How does\nthe interaction between physical activity (F AF) and sedentary behavior (TUE) influence obesity\nclassification?\nModel Performance for Obesity Classification\n- Can machine learning models accurately classify obesity levels using behavioral and physical\n3"},{"page":183,"sentence":"attributes? - How do different classification algorithms (e"},{"page":183,"sentence":"g"},{"page":183,"sentence":", Random F orest, Logistic Regression,\nSVM) compare in performance for this task?\n1"},{"page":183,"sentence":"5 3"},{"page":183,"sentence":"Dataset Description\n1"},{"page":183,"sentence":"5"},{"page":183,"sentence":"1 3"},{"page":183,"sentence":"1"},{"page":183,"sentence":"Data Source\nThe dataset used in this project, “Estimation of Obesity Levels Based on Eating Habits\nand Physical Condition” , was donated on August 26, 2019, and is publicly available"},{"page":183,"sentence":"It contains\ndata from individuals in Mexico, Peru, and Colombia"},{"page":183,"sentence":"• The dataset has 2111 instances and 17 attributes , including demographic features, eating\nhabits, and physical activity levels"},{"page":183,"sentence":"• The target variable, NObeyesdad (Obesity Level) , categorizes individuals into:\n– Insuﬀicient W eight\n– Normal W eight\n– Overweight Level I\n– Overweight Level II\n– Obesity Type I\n– Obesity Type II\n– Obesity Type III\n1"},{"page":183,"sentence":"5"},{"page":183,"sentence":"2 3"},{"page":183,"sentence":"2"},{"page":183,"sentence":"V ariables Overview\nV ariable Name Role Type Description\nGender F eature Categorical Gender of the individual\nAge F eature Continuous Age in years\nHeight F eature Continuous Height in meters\nW eight F eature Continuous W eight in kg\nfamily_history_with_overweight F eature Binary F amily history of overweight\n(Y es\/No)\nF A VC F eature Binary F requent consumption of\nhigh-caloric food (Y es\/No)\nFCVC F eature Integer F requency of vegetable\nconsumption (scale-based)\nNCP F eature Continuous Number of main meals per\nday\nCAEC F eature Categorical Consumption of food between\nmeals\nSMOKE F eature Binary Smoking habits (Y es\/No)\nCH2O F eature Continuous Daily water intake\n4"},{"page":184,"sentence":"V ariable Name Role Type Description\nSCC F eature Binary Calorie monitoring habits\n(Y es\/No)\nF AF F eature Continuous F requency of physical activity\nTUE F eature Integer Time spent on technology\nusage (hours per day)\nCALC F eature Categorical Alcohol consumption\nfrequency\nMTRANS F eature Categorical Primary mode of\ntransportation\nNObeyesdad T arget Categorical Obesity level classification\n[ ]: import pandas as pd\nimport numpy as np\nimport matplotlib"},{"page":184,"sentence":"pyplot as plt\nimport seaborn as sns\nfrom sklearn"},{"page":184,"sentence":"metrics importaccuracy_score, ␣\n↪classification_report,ConfusionMatrixDisplay\nfrom sklearn"},{"page":184,"sentence":"model_selection importtrain_test_split\nfrom sklearn"},{"page":184,"sentence":"ensemble importRandomForestClassifier\nfrom sklearn"},{"page":184,"sentence":"model_selection importGridSearchCV\nfrom sklearn"},{"page":184,"sentence":"preprocessing importLabelEncoder\nimport warnings\nwarnings"},{"page":184,"sentence":"filterwarnings( 'ignore')\nfrom sklearn"},{"page":184,"sentence":"linear_model importLogisticRegression\nfrom sklearn"},{"page":184,"sentence":"tree importDecisionTreeClassifier\nfrom xgboost importXGBClassifier\nfrom sklearn"},{"page":184,"sentence":"svm importSVC\nfrom matplotlib"},{"page":184,"sentence":"colors importListedColormap\nfrom sklearn"},{"page":184,"sentence":"decomposition importPCA\nfrom statsmodels"},{"page":184,"sentence":"stats"},{"page":184,"sentence":"outliers_influence importvariance_inflation_factor\nfrom statsmodels"},{"page":184,"sentence":"tools"},{"page":184,"sentence":"tools importadd_constant\n[ ]:df=pd"},{"page":184,"sentence":"read_csv( 'ObesityDataSet"},{"page":184,"sentence":"csv ')\ndf"},{"page":184,"sentence":"head()\n[ ]: Gender Age Height Weight family_history_with_overweight FAVC FCVC \\\n0 Female 21"},{"page":184,"sentence":"0 1"},{"page":184,"sentence":"62 64"},{"page":184,"sentence":"0 yes no 2"},{"page":184,"sentence":"0\n1 Female 21"},{"page":184,"sentence":"0 1"},{"page":184,"sentence":"52 56"},{"page":184,"sentence":"0 yes no 3"},{"page":184,"sentence":"0\n2 Male 23"},{"page":184,"sentence":"0 1"},{"page":184,"sentence":"80 77"},{"page":184,"sentence":"0 yes no 2"},{"page":184,"sentence":"0\n3 Male 27"},{"page":184,"sentence":"0 1"},{"page":184,"sentence":"80 87"},{"page":184,"sentence":"0 no no 3"},{"page":184,"sentence":"0\n4 Male 22"},{"page":184,"sentence":"0 1"},{"page":184,"sentence":"78 89"},{"page":184,"sentence":"8 no no 2"},{"page":184,"sentence":"0\nNCP CAEC SMOKE CH2O SCC FAF TUE CALC \\\n0 3"},{"page":184,"sentence":"0 Sometimes no 2"},{"page":184,"sentence":"0 no 0"},{"page":184,"sentence":"0 1"},{"page":184,"sentence":"0 no\n1 3"},{"page":184,"sentence":"0 Sometimes yes 3"},{"page":184,"sentence":"0 yes 3"},{"page":184,"sentence":"0 0"},{"page":184,"sentence":"0 Sometimes\n5"},{"page":185,"sentence":"2 3"},{"page":185,"sentence":"0 Sometimes no 2"},{"page":185,"sentence":"0 no 2"},{"page":185,"sentence":"0 1"},{"page":185,"sentence":"0 Frequently\n3 3"},{"page":185,"sentence":"0 Sometimes no 2"},{"page":185,"sentence":"0 no 2"},{"page":185,"sentence":"0 0"},{"page":185,"sentence":"0 Frequently\n4 1"},{"page":185,"sentence":"0 Sometimes no 2"},{"page":185,"sentence":"0 no 0"},{"page":185,"sentence":"0 0"},{"page":185,"sentence":"0 Sometimes\nMTRANS NObeyesdad\n0 Public_Transportation Normal_Weight\n1 Public_Transportation Normal_Weight\n2 Public_Transportation Normal_Weight\n3 Walking Overweight_Level_I\n4 Public_Transportation Overweight_Level_II\n[ ]:df"},{"page":185,"sentence":"columns\n[ ]:Index(['Gender', 'Age', 'Height', 'Weight', 'family_history_with_overweight',\n'FAVC', 'FCVC', 'NCP', 'CAEC', 'SMOKE', 'CH2O', 'SCC', 'FAF', 'TUE',\n'CALC', 'MTRANS', 'NObeyesdad'],\ndtype='object')\n[ ]:df=df"},{"page":185,"sentence":"rename(columns ={'NObeyesdad ':'obesity_level '})\n[ ]:df"},{"page":185,"sentence":"head()\n[ ]: Gender Age Height Weight family_history_with_overweight FAVC FCVC \\\n0 Female 21"},{"page":185,"sentence":"0 1"},{"page":185,"sentence":"62 64"},{"page":185,"sentence":"0 yes no 2"},{"page":185,"sentence":"0\n1 Female 21"},{"page":185,"sentence":"0 1"},{"page":185,"sentence":"52 56"},{"page":185,"sentence":"0 yes no 3"},{"page":185,"sentence":"0\n2 Male 23"},{"page":185,"sentence":"0 1"},{"page":185,"sentence":"80 77"},{"page":185,"sentence":"0 yes no 2"},{"page":185,"sentence":"0\n3 Male 27"},{"page":185,"sentence":"0 1"},{"page":185,"sentence":"80 87"},{"page":185,"sentence":"0 no no 3"},{"page":185,"sentence":"0\n4 Male 22"},{"page":185,"sentence":"0 1"},{"page":185,"sentence":"78 89"},{"page":185,"sentence":"8 no no 2"},{"page":185,"sentence":"0\nNCP CAEC SMOKE CH2O SCC FAF TUE CALC \\\n0 3"},{"page":185,"sentence":"0 Sometimes no 2"},{"page":185,"sentence":"0 no 0"},{"page":185,"sentence":"0 1"},{"page":185,"sentence":"0 no\n1 3"},{"page":185,"sentence":"0 Sometimes yes 3"},{"page":185,"sentence":"0 yes 3"},{"page":185,"sentence":"0 0"},{"page":185,"sentence":"0 Sometimes\n2 3"},{"page":185,"sentence":"0 Sometimes no 2"},{"page":185,"sentence":"0 no 2"},{"page":185,"sentence":"0 1"},{"page":185,"sentence":"0 Frequently\n3 3"},{"page":185,"sentence":"0 Sometimes no 2"},{"page":185,"sentence":"0 no 2"},{"page":185,"sentence":"0 0"},{"page":185,"sentence":"0 Frequently\n4 1"},{"page":185,"sentence":"0 Sometimes no 2"},{"page":185,"sentence":"0 no 0"},{"page":185,"sentence":"0 0"},{"page":185,"sentence":"0 Sometimes\nMTRANS obesity_level\n0 Public_Transportation Normal_Weight\n1 Public_Transportation Normal_Weight\n2 Public_Transportation Normal_Weight\n3 Walking Overweight_Level_I\n4 Public_Transportation Overweight_Level_II\n1"},{"page":185,"sentence":"5"},{"page":185,"sentence":"3 3"},{"page":185,"sentence":"3"},{"page":185,"sentence":"F eature Engineering\nBMI: Calculate Body Mass Index from Height and W eight"},{"page":185,"sentence":"[ ]:df['BMI']=df['Weight']\/(df['Height']**2)\n6"},{"page":186,"sentence":"Physical Activity Level: Combining F AF (frequency) and TUE (tech use) to estimate sedentary\nbehavior"},{"page":186,"sentence":"[ ]:df['SedentaryScore ']=df['TUE']-df['FAF'] # Higher score = more sedentary\nDiet Score: Combining FCVC (vegetables), NCP (meals), and CAEC (eating between meals)"},{"page":186,"sentence":"[ ]:df['DietScore ']=df['FCVC']+df['NCP']-df['CAEC']"},{"page":186,"sentence":"map({'no':0,'Sometimes ':\n↪1,'Frequently ':2,'Always':3})\n[ ]:original_df =df"},{"page":186,"sentence":"copy()\ndf=df"},{"page":186,"sentence":"drop(columns ={'TUE','FAF','Weight','Height','FCVC','NCP','CAEC'})\n[ ]:df"},{"page":186,"sentence":"head()\n[ ]: Gender Age family_history_with_overweight FAVC SMOKE CH2O SCC \\\n0 Female 21"},{"page":186,"sentence":"0 yes no no 2"},{"page":186,"sentence":"0 no\n1 Female 21"},{"page":186,"sentence":"0 yes no yes 3"},{"page":186,"sentence":"0 yes\n2 Male 23"},{"page":186,"sentence":"0 yes no no 2"},{"page":186,"sentence":"0 no\n3 Male 27"},{"page":186,"sentence":"0 no no no 2"},{"page":186,"sentence":"0 no\n4 Male 22"},{"page":186,"sentence":"0 no no no 2"},{"page":186,"sentence":"0 no\nCALC MTRANS obesity_level BMI \\\n0 no Public_Transportation Normal_Weight 24"},{"page":186,"sentence":"386526\n1 Sometimes Public_Transportation Normal_Weight 24"},{"page":186,"sentence":"238227\n2 Frequently Public_Transportation Normal_Weight 23"},{"page":186,"sentence":"765432\n3 Frequently Walking Overweight_Level_I 26"},{"page":186,"sentence":"851852\n4 Sometimes Public_Transportation Overweight_Level_II 28"},{"page":186,"sentence":"342381\nSedentaryScore DietScore\n0 1"},{"page":186,"sentence":"0 4"},{"page":186,"sentence":"0\n1 -3"},{"page":186,"sentence":"0 5"},{"page":186,"sentence":"0\n2 -1"},{"page":186,"sentence":"0 4"},{"page":186,"sentence":"0\n3 -2"},{"page":186,"sentence":"0 5"},{"page":186,"sentence":"0\n4 0"},{"page":186,"sentence":"0 2"},{"page":186,"sentence":"0\n1"},{"page":186,"sentence":"5"},{"page":186,"sentence":"4 3"},{"page":186,"sentence":"4"},{"page":186,"sentence":"Multicollinearity\nNow, we take a closer look at multicollinearity in our dataset"},{"page":186,"sentence":"Multicollinearity happens when\nindependent variables are too closely related, making it diﬀicult for our model to determine the\nindividual impact of each feature"},{"page":186,"sentence":"T o address this, we calculate the V ariance Inflation F actor (VIF)\nfor each numeric feature"},{"page":186,"sentence":"A high VIF value (typically above 5 or 10) indicates that a feature is highly correlated with others,\nwhich could lead to unstable predictions"},{"page":186,"sentence":"By identifying and potentially removing such variables,\nwe can improve our model’s reliability and interpretability"},{"page":186,"sentence":"Let’s dive in and see which features\nmight be problematic!\n7"},{"page":187,"sentence":"[ ]: #Select only numeric features (VIF works on continuous variables)\nnumeric_data =df"},{"page":187,"sentence":"select_dtypes(include =['int64','float64'])\n#Adding a constant\nX=add_constant(numeric_data)\n# Calculate VIF for each feature\nvif_data =pd"},{"page":187,"sentence":"DataFrame()\nvif_data[ \"Feature\"]=X"},{"page":187,"sentence":"columns\nvif_data[ \"VIF\"]=[variance_inflation_factor(X"},{"page":187,"sentence":"values, i) foriinrange(X"},{"page":187,"sentence":"↪shape[1])]\n# Drop the 'const' row\nvif_data =vif_data[vif_data[ \"Feature\"]!=\"const\"]\nprint(vif_data"},{"page":187,"sentence":"sort_values( \"VIF\"))\nFeature VIF\n4 SedentaryScore 1"},{"page":187,"sentence":"059402\n2 CH2O 1"},{"page":187,"sentence":"060852\n1 Age 1"},{"page":187,"sentence":"086395\n5 DietScore 1"},{"page":187,"sentence":"145523\n3 BMI 1"},{"page":187,"sentence":"234568\nThe VIF values for all features are low (close to 1), indicating that multicollinearity is not a concern\nin this dataset"},{"page":187,"sentence":"This suggests that our features are independent and suitable for modeling without\nfurther adjustments"},{"page":187,"sentence":"1"},{"page":187,"sentence":"6 4"},{"page":187,"sentence":"Exploratory Data Analysis (EDA)\n1"},{"page":187,"sentence":"6"},{"page":187,"sentence":"1 4"},{"page":187,"sentence":"1"},{"page":187,"sentence":"Descriptive statistics (for numerical columns)\n[ ]:numerical_cols =['Age','CH2O','BMI','SedentaryScore ','DietScore ']\nsummary_stats =df"},{"page":187,"sentence":"describe()\nsummary_stats\n[ ]: Age CH2O BMI SedentaryScore DietScore\ncount 2111"},{"page":187,"sentence":"000000 2111"},{"page":187,"sentence":"000000 2111"},{"page":187,"sentence":"000000 2111"},{"page":187,"sentence":"000000 2111"},{"page":187,"sentence":"000000\nmean 24"},{"page":187,"sentence":"312600 2"},{"page":187,"sentence":"008011 29"},{"page":187,"sentence":"700159 -0"},{"page":187,"sentence":"352432 3"},{"page":187,"sentence":"963979\nstd 6"},{"page":187,"sentence":"345968 0"},{"page":187,"sentence":"612953 8"},{"page":187,"sentence":"011337 1"},{"page":187,"sentence":"016679 1"},{"page":187,"sentence":"022922\nmin 14"},{"page":187,"sentence":"000000 1"},{"page":187,"sentence":"000000 12"},{"page":187,"sentence":"998685 -3"},{"page":187,"sentence":"000000 0"},{"page":187,"sentence":"000000\n25% 19"},{"page":187,"sentence":"947192 1"},{"page":187,"sentence":"584812 24"},{"page":187,"sentence":"325802 -1"},{"page":187,"sentence":"000000 3"},{"page":187,"sentence":"286494\n50% 22"},{"page":187,"sentence":"777890 2"},{"page":187,"sentence":"000000 28"},{"page":187,"sentence":"719089 -0"},{"page":187,"sentence":"288792 4"},{"page":187,"sentence":"000000\n75% 26"},{"page":187,"sentence":"000000 2"},{"page":187,"sentence":"477420 36"},{"page":187,"sentence":"016501 0"},{"page":187,"sentence":"321731 5"},{"page":187,"sentence":"000000\nmax 61"},{"page":187,"sentence":"000000 3"},{"page":187,"sentence":"000000 50"},{"page":187,"sentence":"811753 2"},{"page":187,"sentence":"000000 6"},{"page":187,"sentence":"000000\n8"},{"page":188,"sentence":"1"},{"page":188,"sentence":"6"},{"page":188,"sentence":"2 4"},{"page":188,"sentence":"2"},{"page":188,"sentence":"Analyzing the Outliers in the Dataset\n[ ]: # Outlier detection using IQR\nQ1=df[numerical_cols]"},{"page":188,"sentence":"quantile( 0"},{"page":188,"sentence":"25)\nQ3=df[numerical_cols]"},{"page":188,"sentence":"quantile( 0"},{"page":188,"sentence":"75)\nIQR=Q3-Q1\noutliers =((df[numerical_cols] <(Q1-1"},{"page":188,"sentence":"5*IQR))|(df[numerical_cols] >(Q3␣\n↪+1"},{"page":188,"sentence":"5*IQR)))"},{"page":188,"sentence":"sum()\nprint(\"\\nNumber of Outliers per Column: \")\nprint(outliers)\nNumber of Outliers per Column:\nAge 168\nCH2O 0\nBMI 0\nSedentaryScore 33\nDietScore 5\ndtype: int64\n1"},{"page":188,"sentence":"6"},{"page":188,"sentence":"3 4"},{"page":188,"sentence":"3"},{"page":188,"sentence":"Summary for categorical columns (using value_counts)\n[ ]:categorical_summary =df"},{"page":188,"sentence":"describe(include =['object'])\ncategorical_summary\n[ ]: Gender family_history_with_overweight FAVC SMOKE SCC CALC \\\ncount 2111 2111 2111 2111 2111 2111\nunique 2 2 2 2 2 4\ntop Male yes yes no no Sometimes\nfreq 1068 1726 1866 2067 2015 1401\nMTRANS obesity_level\ncount 2111 2111\nunique 5 7\ntop Public_Transportation Obesity_Type_I\nfreq 1580 351\n1"},{"page":188,"sentence":"6"},{"page":188,"sentence":"4 4"},{"page":188,"sentence":"4"},{"page":188,"sentence":"Check for missing values\n[ ]:print(df"},{"page":188,"sentence":"shape)\nprint(df"},{"page":188,"sentence":"columns)\n(2111, 13)\nIndex(['Gender', 'Age', 'family_history_with_overweight', 'FAVC', 'SMOKE',\n'CH2O', 'SCC', 'CALC', 'MTRANS', 'obesity_level', 'BMI',\n'SedentaryScore', 'DietScore'],\ndtype='object')\n9"},{"page":189,"sentence":"[ ]:missing_data =df"},{"page":189,"sentence":"isnull()"},{"page":189,"sentence":"sum()\nprint(\"\\nMissing Data: \")\nprint(missing_data)\nMissing Data:\nGender 0\nAge 0\nfamily_history_with_overweight 0\nFAVC 0\nSMOKE 0\nCH2O 0\nSCC 0\nCALC 0\nMTRANS 0\nobesity_level 0\nBMI 0\nSedentaryScore 0\nDietScore 0\ndtype: int64\nThe dataset has no missing values, ensuring a clean foundation for analysis"},{"page":189,"sentence":"Additionally , we\nhave already introduced new features, such as SedentaryScore and DietScore, during the feature\ngeneration step to enhance our model’s predictive power"},{"page":189,"sentence":"1"},{"page":189,"sentence":"6"},{"page":189,"sentence":"5 4"},{"page":189,"sentence":"5"},{"page":189,"sentence":"Histograms for Numerical F eatures\n[ ]:sns"},{"page":189,"sentence":"set_style( \"whitegrid \", {'grid"},{"page":189,"sentence":"linestyle ':'--'})\nfig, axes =plt"},{"page":189,"sentence":"subplots( 2,2, figsize =(12,10))\nfig"},{"page":189,"sentence":"suptitle( 'Distribution of Key Health Metrics ', fontsize =16, y=1"},{"page":189,"sentence":"02,␣\n↪fontweight ='bold')\nmetrics =['Age','Height','Weight','BMI']\ncolors=['#3498db','#2ecc71','#e74c3c','#9b59b6']\nforax, metric, color inzip(axes"},{"page":189,"sentence":"flatten(), metrics, colors):\nax"},{"page":189,"sentence":"hist(original_df[metric], bins =12, color=color, edgecolor ='white',␣\n↪linewidth =0"},{"page":189,"sentence":"8, alpha=0"},{"page":189,"sentence":"85)\nax"},{"page":189,"sentence":"set_title( f'{metric }Distribution ', fontsize =12, pad=10,␣\n↪fontweight ='bold')\nax"},{"page":189,"sentence":"set_xlabel(metric, fontsize =10)\nax"},{"page":189,"sentence":"set_ylabel( 'Frequency ', fontsize =10)\nax"},{"page":189,"sentence":"grid( True, linestyle ='--', alpha=0"},{"page":189,"sentence":"6)\nax"},{"page":189,"sentence":"spines['top']"},{"page":189,"sentence":"set_visible( False)\nax"},{"page":189,"sentence":"spines['right']"},{"page":189,"sentence":"set_visible( False)\n10"},{"page":190,"sentence":"plt"},{"page":190,"sentence":"tight_layout()\nplt"},{"page":190,"sentence":"show()\nDistribution Analysis of Key Health Metrics\nAge Distribution\n- Left-skewed, with most individuals clustered in younger age groups"},{"page":190,"sentence":"- F requency drops sharply after age ~30, indicating a predominantly young population"},{"page":190,"sentence":"Height Distribution\n- Roughly normal (bell-shaped), peaking around 1"},{"page":190,"sentence":"6–1"},{"page":190,"sentence":"8 meters"},{"page":190,"sentence":"- F ew outliers at extreme heights (very short\/tall individuals)"},{"page":190,"sentence":"W eight Distribution\n- Right-skewed, with most individuals concentrated in the 50–100 kg range"},{"page":190,"sentence":"- A long tail suggests some higher weight outliers"},{"page":190,"sentence":"BMI Distribution\n11"},{"page":191,"sentence":"- Right-skewed, similar to weight, with most values in the normal\/overweight range"},{"page":191,"sentence":"- Noticeable frequency in higher BMI categories , indicating potential obesity concerns"},{"page":191,"sentence":"1"},{"page":191,"sentence":"6"},{"page":191,"sentence":"6 4"},{"page":191,"sentence":"6"},{"page":191,"sentence":"Obesity Levels by Gender\n[ ]: # Create normalized cross-tab (proportions)\ngender_obesity =pd"},{"page":191,"sentence":"crosstab(df[ 'Gender'], df['obesity_level '],␣\n↪normalize ='index')*100\n# Plot stacked bars\nax=gender_obesity"},{"page":191,"sentence":"plot(kind ='bar', stacked =True, figsize =(12,6), color =sns"},{"page":191,"sentence":"↪color_palette( \"husl\",len(gender_obesity"},{"page":191,"sentence":"columns)))\nplt"},{"page":191,"sentence":"title(\"Obesity Level Distribution by Gender ( %)\", pad=20, fontweight ='bold')\nplt"},{"page":191,"sentence":"ylabel(\"Percentage \")\nplt"},{"page":191,"sentence":"xlabel(\"Gender\")\nplt"},{"page":191,"sentence":"xticks(rotation =0)\n# Add percentage labels\nfori, gender inenumerate (gender_obesity"},{"page":191,"sentence":"index):\ny_offset =0\nforj, level inenumerate (gender_obesity"},{"page":191,"sentence":"columns):\nvalue=gender_obesity"},{"page":191,"sentence":"loc[gender, level]\nifvalue>0: # Only label segments >0%\nax"},{"page":191,"sentence":"text(\nx=i,\ny=y_offset +value\/2,\ns=f\"{value :"},{"page":191,"sentence":"1f }%\",\nha='center',\nva='center',\ncolor='black', # Auto-text color contrast\nfontweight ='bold'\n)\ny_offset +=value\nplt"},{"page":191,"sentence":"legend(title =\"Obesity Level \", bbox_to_anchor =(1"},{"page":191,"sentence":"05,1))\nplt"},{"page":191,"sentence":"tight_layout()\nplt"},{"page":191,"sentence":"show()\n12"},{"page":192,"sentence":"This graph compares obesity levels between genders using stacked bars, showing the percentage\ndistribution of each weight category (from normal to severe obesity) for males and females"},{"page":192,"sentence":"It\nhighlights how obesity risk differs by gender, revealing which groups dominate specific weight\nclasses"},{"page":192,"sentence":"• The middle obesity categories (Overweight I\/II, Obesity I) are male-dominated"},{"page":192,"sentence":"• F emales often exhibit a bimodal distribution , clustering in healthy weight or severe\nobesity"},{"page":192,"sentence":"• Males show a more gradual progression across weight categories"},{"page":192,"sentence":"1"},{"page":192,"sentence":"6"},{"page":192,"sentence":"7 4"},{"page":192,"sentence":"7"},{"page":192,"sentence":"Grouped Bar Chart (Counts by Age Group)\n[ ]: # Define age bins and labels\nage_bins =[0,20,30,40,50,60,100]\nage_labels =['<20','20-29','30-39','40-49','50-59','60+']\n# Create age groups\ndf['AgeGroup ']=pd"},{"page":192,"sentence":"cut(df['Age'], bins=age_bins, labels =age_labels, ␣\n↪right=False)\n# Cross-tabulation\nage_obesity =pd"},{"page":192,"sentence":"crosstab(\nindex=df['AgeGroup '],\ncolumns=df['obesity_level '],\nnormalize ='index'\n)*100\n13"},{"page":193,"sentence":"# Create figure with DPI adjustment\nfig=plt"},{"page":193,"sentence":"figure(figsize =(12,12), dpi=100) # 4000x4000 pixels\nax=fig"},{"page":193,"sentence":"add_subplot( 111)\n# Plot with absolute control\nage_obesity"},{"page":193,"sentence":"plot(kind ='bar', stacked =True, width=0"},{"page":193,"sentence":"85, ax=ax,\nedgecolor ='black', linewidth =2)\n# Customize labels with precise positioning\nfori, age_group inenumerate (age_obesity"},{"page":193,"sentence":"index):\ncumulative =0\nforj, level inenumerate (age_obesity"},{"page":193,"sentence":"columns):\nvalue=age_obesity"},{"page":193,"sentence":"loc[age_group, level]\nifvalue>0"},{"page":193,"sentence":"5: # Label nearly everything\nax"},{"page":193,"sentence":"text(i, cumulative +value\/2,f\"{value :"},{"page":193,"sentence":"1f }%\",\nha='center', va='center',\nfontsize =24, fontweight ='bold',\ncolor='black',\nbbox=dict(boxstyle ='round,pad=0"},{"page":193,"sentence":"2 ',\nfacecolor ='#00000020 ' ifvalue<5else'none',\nedgecolor ='none'))\ncumulative +=value\n# Mega styling\nax"},{"page":193,"sentence":"set_title( \"OBESITY DISTRIBUTION BY AGE GROUP \",\nfontsize =48, pad=40, fontweight ='black')\nax"},{"page":193,"sentence":"set_ylabel( \"Percentage \", fontsize =36, labelpad =20)\nax"},{"page":193,"sentence":"set_xlabel( \"Age Group \", fontsize =36, labelpad =20)\n# Giant ticks\nax"},{"page":193,"sentence":"tick_params(axis ='both', which='major', labelsize =32)\nax"},{"page":193,"sentence":"tick_params(axis ='x', rotation =0)\n# Legend the size of a billboard\nlegend=ax"},{"page":193,"sentence":"legend(title =\"Obesity Levels \", fontsize =28,\ntitle_fontsize =32, framealpha =1,\nbbox_to_anchor =(1"},{"page":193,"sentence":"05,1),\nborderpad =2)\nplt"},{"page":193,"sentence":"show()\n14"},{"page":194,"sentence":"This visualization shows the percentage breakdown of obesity severity levels across different age\ngroups, using stacked bars to reveal how weight categories shift from underweight to severe obesity\nas people age"},{"page":194,"sentence":"• Obesity severity escalates with age – Type II\/III obesity reaches 45%+ in the 60+ group"},{"page":194,"sentence":"• Y ounger demographics (<30) have better weight profiles, with 32"},{"page":194,"sentence":"8% normal weight in\nthe 20-29 group"},{"page":194,"sentence":"• The 40-49 age group is a critical transition point, where obesity prevalence first exceeds\n50%"},{"page":194,"sentence":"• Significant obesity presence (11"},{"page":194,"sentence":"4%) in the <20 group highlights the need for early interven-\ntion"},{"page":194,"sentence":"• Overweight Level II appears surprisingly low across all age groups"},{"page":194,"sentence":"• The 20-29 group has the healthiest distribution , with the highest normal weight per-\ncentage"},{"page":194,"sentence":"1"},{"page":194,"sentence":"6"},{"page":194,"sentence":"8 4"},{"page":194,"sentence":"8"},{"page":194,"sentence":"Categorical Data Analysis\n[ ]:sns"},{"page":194,"sentence":"set_style( \"white\")\nplt"},{"page":194,"sentence":"figure(figsize =(14,6))\n# Gender plot\n15"},{"page":195,"sentence":"plt"},{"page":195,"sentence":"subplot( 1,2,1)\nsns"},{"page":195,"sentence":"countplot(x ='Gender', data=df, palette =['#1f77b4','#ff7f0e'],\nedgecolor ='black', linewidth =0"},{"page":195,"sentence":"5)\nplt"},{"page":195,"sentence":"title('Gender Distribution ', fontsize =13, pad=12, fontweight ='semibold ')\nplt"},{"page":195,"sentence":"xlabel('', fontsize =11)\nplt"},{"page":195,"sentence":"ylabel('Count', fontsize =11)\nplt"},{"page":195,"sentence":"grid(axis ='y', linestyle ='--', alpha=0"},{"page":195,"sentence":"4)\n# Obesity plot\nplt"},{"page":195,"sentence":"subplot( 1,2,2)\nsns"},{"page":195,"sentence":"countplot(x ='obesity_level ', data=df, palette ='viridis',\nedgecolor ='black', linewidth =0"},{"page":195,"sentence":"5)\nplt"},{"page":195,"sentence":"title('Weight Status Distribution ', fontsize =13, pad=12,␣\n↪fontweight ='semibold ')\nplt"},{"page":195,"sentence":"xlabel('', fontsize =11)\nplt"},{"page":195,"sentence":"ylabel('', fontsize =11)\nplt"},{"page":195,"sentence":"xticks(rotation =45, ha='right', fontsize =10)\nplt"},{"page":195,"sentence":"grid(axis ='y', linestyle ='--', alpha=0"},{"page":195,"sentence":"4)\nplt"},{"page":195,"sentence":"tight_layout(pad =2"},{"page":195,"sentence":"5)\nplt"},{"page":195,"sentence":"show()\nThe graph displays two subplots: a count plot of Gender distribution (left) and a count plot of\nobesity_level distribution (right), using data from the dataset"},{"page":195,"sentence":"The visualizations use distinct color\npalettes and grid styling for clarity"},{"page":195,"sentence":"• The gender distribution shows a near-equal split between females and males, with counts\naround 800–1000 each"},{"page":195,"sentence":"• The weight status distribution reveals a diverse spread across categories, with Obe-\nsity_Type_I and Obesity_Type_III being the most frequent , while Insuﬀi-\ncient_W eight is the least common, indicating a higher prevalence of obesity in the population"},{"page":195,"sentence":"16"},{"page":196,"sentence":"1"},{"page":196,"sentence":"6"},{"page":196,"sentence":"9 4"},{"page":196,"sentence":"9"},{"page":196,"sentence":"Impact of F amily History on Obesity\n[ ]:plt"},{"page":196,"sentence":"figure(figsize =(10,6))\nsns"},{"page":196,"sentence":"countplot(data =df, x='SMOKE', hue='obesity_level ',\npalette='viridis',\nedgecolor ='white',\nlinewidth =0"},{"page":196,"sentence":"5)\nplt"},{"page":196,"sentence":"title(\"Obesity Levels by Smoking Status \",\nfontsize =14, pad=12)\nplt"},{"page":196,"sentence":"xlabel(\"Smoking Status \", fontsize =12)\nplt"},{"page":196,"sentence":"ylabel(\"Count\", fontsize =12)\nplt"},{"page":196,"sentence":"legend(title ='Obesity Level ',\nbbox_to_anchor =(1,0"},{"page":196,"sentence":"5),\nloc='center left ',\nframeon=False)\nsns"},{"page":196,"sentence":"despine()\nplt"},{"page":196,"sentence":"tight_layout()\nplt"},{"page":196,"sentence":"show()\nThis side-by-side bar chart compares obesity level distributions between smokers and non-smokers,\nshowing how weight categories vary by tobacco use status"},{"page":196,"sentence":"• Non-smokers show higher counts across all obesity categories, likely reflecting population\ndistribution"},{"page":196,"sentence":"17"},{"page":197,"sentence":"• Smokers have proportionally more cases in mid-range weight categories (Overweight I\/II)"},{"page":197,"sentence":"• Severe obesity (T ype II\/III) appears less prevalent among smokers compared to non-smokers"},{"page":197,"sentence":"• The Insuﬀicient W eight category has minimal representation in both groups"},{"page":197,"sentence":"• Normal weight distribution follows similar patterns regardless of smoking status"},{"page":197,"sentence":"1"},{"page":197,"sentence":"7 5"},{"page":197,"sentence":"Machine Learning Modeling\n1"},{"page":197,"sentence":"7"},{"page":197,"sentence":"1 5"},{"page":197,"sentence":"1"},{"page":197,"sentence":"Label Encoding of Categorical V ariables\n[ ]: # Initialize the LabelEncoder\nlabel_encoder =LabelEncoder()\n# Identify categorical columns\ncategorical_columns =['Gender','family_history_with_overweight ','FAVC',\n'SMOKE','SCC','CALC','MTRANS','obesity_level ']\n# Create a new DataFrame to store encoded data\nencoded_data =df"},{"page":197,"sentence":"copy()\n# Apply Label Encoding to each categorical column\nforcolumn incategorical_columns:\nencoded_data[column] =label_encoder"},{"page":197,"sentence":"fit_transform(df[column])\n# Display the newly encoded DataFrame\nencoded_data"},{"page":197,"sentence":"head()\n[ ]: Gender Age family_history_with_overweight FAVC SMOKE CH2O SCC CALC \\\n0 0 21"},{"page":197,"sentence":"0 1 0 0 2"},{"page":197,"sentence":"0 0 3\n1 0 21"},{"page":197,"sentence":"0 1 0 1 3"},{"page":197,"sentence":"0 1 2\n2 1 23"},{"page":197,"sentence":"0 1 0 0 2"},{"page":197,"sentence":"0 0 1\n3 1 27"},{"page":197,"sentence":"0 0 0 0 2"},{"page":197,"sentence":"0 0 1\n4 1 22"},{"page":197,"sentence":"0 0 0 0 2"},{"page":197,"sentence":"0 0 2\nMTRANS obesity_level BMI SedentaryScore DietScore\n0 3 1 24"},{"page":197,"sentence":"386526 1"},{"page":197,"sentence":"0 4"},{"page":197,"sentence":"0\n1 3 1 24"},{"page":197,"sentence":"238227 -3"},{"page":197,"sentence":"0 5"},{"page":197,"sentence":"0\n2 3 1 23"},{"page":197,"sentence":"765432 -1"},{"page":197,"sentence":"0 4"},{"page":197,"sentence":"0\n3 4 5 26"},{"page":197,"sentence":"851852 -2"},{"page":197,"sentence":"0 5"},{"page":197,"sentence":"0\n4 3 6 28"},{"page":197,"sentence":"342381 0"},{"page":197,"sentence":"0 2"},{"page":197,"sentence":"0\n1"},{"page":197,"sentence":"7"},{"page":197,"sentence":"2 5"},{"page":197,"sentence":"2"},{"page":197,"sentence":"T est T rain Split of Encoded Data\n[ ]:X=encoded_data"},{"page":197,"sentence":"drop(columns =['obesity_level ','AgeGroup ','BMI']) # Features ␣\n↪(all columns except the target)\ny=encoded_data[ 'obesity_level ']# Target (obesity_level)\n# Splitting the dataset into training and testing sets\nX_train, X_test, y_train, y_test =train_test_split(X, y, test_size =0"},{"page":197,"sentence":"2,␣\n↪random_state =42)\n18"},{"page":198,"sentence":"# Print the shape of training and testing sets\nprint(\"Training set shape (X_train, y_train): \", X_train"},{"page":198,"sentence":"shape, y_train"},{"page":198,"sentence":"shape)\nprint(\"Testing set shape (X_test, y_test): \", X_test"},{"page":198,"sentence":"shape, y_test"},{"page":198,"sentence":"shape)\nTraining set shape (X_train, y_train): (1688, 11) (1688,)\nTesting set shape (X_test, y_test): (423, 11) (423,)\n1"},{"page":198,"sentence":"7"},{"page":198,"sentence":"3 5"},{"page":198,"sentence":"3"},{"page":198,"sentence":"Multiclassfication tasks with Default Parameters\n5"},{"page":198,"sentence":"3"},{"page":198,"sentence":"1"},{"page":198,"sentence":"Logistic Regression\n[ ]:log_model =LogisticRegression(multi_class ='multinomial ',random_state =42)\nlog_model"},{"page":198,"sentence":"fit(X_train, y_train)\ny_predlog =log_model"},{"page":198,"sentence":"predict(X_test)\nprint(\"\\nLogistic Regression: \")\nprint(\"Accuracy: \", accuracy_score(y_test, y_predlog))\nprint(classification_report(y_test, y_predlog))\nLogistic Regression:\nAccuracy: 0"},{"page":198,"sentence":"4988179669030733\nprecision recall f1-score support\n0 0"},{"page":198,"sentence":"42 0"},{"page":198,"sentence":"50 0"},{"page":198,"sentence":"46 56\n1 0"},{"page":198,"sentence":"33 0"},{"page":198,"sentence":"16 0"},{"page":198,"sentence":"22 62\n2 0"},{"page":198,"sentence":"49 0"},{"page":198,"sentence":"59 0"},{"page":198,"sentence":"53 78\n3 0"},{"page":198,"sentence":"46 0"},{"page":198,"sentence":"78 0"},{"page":198,"sentence":"58 58\n4 0"},{"page":198,"sentence":"79 1"},{"page":198,"sentence":"00 0"},{"page":198,"sentence":"88 63\n5 0"},{"page":198,"sentence":"23 0"},{"page":198,"sentence":"09 0"},{"page":198,"sentence":"13 56\n6 0"},{"page":198,"sentence":"44 0"},{"page":198,"sentence":"28 0"},{"page":198,"sentence":"34 50\naccuracy 0"},{"page":198,"sentence":"50 423\nmacro avg 0"},{"page":198,"sentence":"45 0"},{"page":198,"sentence":"49 0"},{"page":198,"sentence":"45 423\nweighted avg 0"},{"page":198,"sentence":"46 0"},{"page":198,"sentence":"50 0"},{"page":198,"sentence":"46 423\n5"},{"page":198,"sentence":"3"},{"page":198,"sentence":"2"},{"page":198,"sentence":"Decision T ree Classifier\n[ ]:dt_model =DecisionTreeClassifier(random_state =42)\ndt_model"},{"page":198,"sentence":"fit(X_train, y_train)\n# Step 2: Predict on the test set\ny_pred_dt =dt_model"},{"page":198,"sentence":"predict(X_test)\n# Step 3: Evaluate the model's performance\naccuracy =accuracy_score(y_test, y_pred_dt)\nprint(f\"Accuracy: {accuracy :"},{"page":198,"sentence":"2f }\")\nprint(\"\\nClassification Report: \")\nprint(classification_report(y_test, y_pred_dt))\nAccuracy: 0"},{"page":198,"sentence":"70\nClassification Report:\n19"},{"page":199,"sentence":"precision recall f1-score support\n0 0"},{"page":199,"sentence":"73 0"},{"page":199,"sentence":"71 0"},{"page":199,"sentence":"72 56\n1 0"},{"page":199,"sentence":"53 0"},{"page":199,"sentence":"50 0"},{"page":199,"sentence":"51 62\n2 0"},{"page":199,"sentence":"65 0"},{"page":199,"sentence":"71 0"},{"page":199,"sentence":"67 78\n3 0"},{"page":199,"sentence":"82 0"},{"page":199,"sentence":"79 0"},{"page":199,"sentence":"81 58\n4 0"},{"page":199,"sentence":"97 1"},{"page":199,"sentence":"00 0"},{"page":199,"sentence":"98 63\n5 0"},{"page":199,"sentence":"67 0"},{"page":199,"sentence":"57 0"},{"page":199,"sentence":"62 56\n6 0"},{"page":199,"sentence":"56 0"},{"page":199,"sentence":"62 0"},{"page":199,"sentence":"59 50\naccuracy 0"},{"page":199,"sentence":"70 423\nmacro avg 0"},{"page":199,"sentence":"70 0"},{"page":199,"sentence":"70 0"},{"page":199,"sentence":"70 423\nweighted avg 0"},{"page":199,"sentence":"70 0"},{"page":199,"sentence":"70 0"},{"page":199,"sentence":"70 423\n[ ]:dt_model =DecisionTreeClassifier(random_state =42)\ndt_model"},{"page":199,"sentence":"fit(X_train, y_train)\n# Step 2: Predict on the test set\ny_pred_dt =dt_model"},{"page":199,"sentence":"predict(X_test)\n# Step 3: Evaluate the model's performance\naccuracy =accuracy_score(y_test, y_pred_dt)\nprint(f\"Accuracy: {accuracy :"},{"page":199,"sentence":"2f }\")\nprint(\"\\nClassification Report: \")\nprint(classification_report(y_test, y_pred_dt))\nAccuracy: 0"},{"page":199,"sentence":"70\nClassification Report:\nprecision recall f1-score support\n0 0"},{"page":199,"sentence":"73 0"},{"page":199,"sentence":"71 0"},{"page":199,"sentence":"72 56\n1 0"},{"page":199,"sentence":"53 0"},{"page":199,"sentence":"50 0"},{"page":199,"sentence":"51 62\n2 0"},{"page":199,"sentence":"65 0"},{"page":199,"sentence":"71 0"},{"page":199,"sentence":"67 78\n3 0"},{"page":199,"sentence":"82 0"},{"page":199,"sentence":"79 0"},{"page":199,"sentence":"81 58\n4 0"},{"page":199,"sentence":"97 1"},{"page":199,"sentence":"00 0"},{"page":199,"sentence":"98 63\n5 0"},{"page":199,"sentence":"67 0"},{"page":199,"sentence":"57 0"},{"page":199,"sentence":"62 56\n6 0"},{"page":199,"sentence":"56 0"},{"page":199,"sentence":"62 0"},{"page":199,"sentence":"59 50\naccuracy 0"},{"page":199,"sentence":"70 423\nmacro avg 0"},{"page":199,"sentence":"70 0"},{"page":199,"sentence":"70 0"},{"page":199,"sentence":"70 423\nweighted avg 0"},{"page":199,"sentence":"70 0"},{"page":199,"sentence":"70 0"},{"page":199,"sentence":"70 423\n5"},{"page":199,"sentence":"3"},{"page":199,"sentence":"3"},{"page":199,"sentence":"Random F orest Classifier\n[ ]:rf_model =RandomForestClassifier(random_state =42)\nrf_model"},{"page":199,"sentence":"fit(X_train, y_train)\nrf_predictions =rf_model"},{"page":199,"sentence":"predict(X_test)\nprint(\"Random Forest Classifier: \")\n20"},{"page":200,"sentence":"print(\"Accuracy: \", accuracy_score(y_test, rf_predictions))\nprint(classification_report(y_test, rf_predictions))\nRandom Forest Classifier:\nAccuracy: 0"},{"page":200,"sentence":"789598108747045\nprecision recall f1-score support\n0 0"},{"page":200,"sentence":"86 0"},{"page":200,"sentence":"79 0"},{"page":200,"sentence":"82 56\n1 0"},{"page":200,"sentence":"62 0"},{"page":200,"sentence":"63 0"},{"page":200,"sentence":"62 62\n2 0"},{"page":200,"sentence":"76 0"},{"page":200,"sentence":"79 0"},{"page":200,"sentence":"78 78\n3 0"},{"page":200,"sentence":"80 0"},{"page":200,"sentence":"95 0"},{"page":200,"sentence":"87 58\n4 1"},{"page":200,"sentence":"00 1"},{"page":200,"sentence":"00 1"},{"page":200,"sentence":"00 63\n5 0"},{"page":200,"sentence":"73 0"},{"page":200,"sentence":"71 0"},{"page":200,"sentence":"72 56\n6 0"},{"page":200,"sentence":"78 0"},{"page":200,"sentence":"62 0"},{"page":200,"sentence":"69 50\naccuracy 0"},{"page":200,"sentence":"79 423\nmacro avg 0"},{"page":200,"sentence":"79 0"},{"page":200,"sentence":"78 0"},{"page":200,"sentence":"79 423\nweighted avg 0"},{"page":200,"sentence":"79 0"},{"page":200,"sentence":"79 0"},{"page":200,"sentence":"79 423\n5"},{"page":200,"sentence":"3"},{"page":200,"sentence":"4"},{"page":200,"sentence":"XGBoost Classifier\n[ ]:xgb_model =XGBClassifier()\nxgb_model"},{"page":200,"sentence":"fit(X_train, y_train)\nxgb_predictions =xgb_model"},{"page":200,"sentence":"predict(X_test)\nprint(\"\\nXGBoost Classifier: \")\nprint(\"Accuracy: \", accuracy_score(y_test, xgb_predictions))\nprint(classification_report(y_test, xgb_predictions))\nXGBoost Classifier:\nAccuracy: 0"},{"page":200,"sentence":"7966903073286052\nprecision recall f1-score support\n0 0"},{"page":200,"sentence":"85 0"},{"page":200,"sentence":"80 0"},{"page":200,"sentence":"83 56\n1 0"},{"page":200,"sentence":"65 0"},{"page":200,"sentence":"65 0"},{"page":200,"sentence":"65 62\n2 0"},{"page":200,"sentence":"77 0"},{"page":200,"sentence":"77 0"},{"page":200,"sentence":"77 78\n3 0"},{"page":200,"sentence":"82 0"},{"page":200,"sentence":"91 0"},{"page":200,"sentence":"86 58\n4 1"},{"page":200,"sentence":"00 1"},{"page":200,"sentence":"00 1"},{"page":200,"sentence":"00 63\n5 0"},{"page":200,"sentence":"74 0"},{"page":200,"sentence":"75 0"},{"page":200,"sentence":"74 56\n6 0"},{"page":200,"sentence":"76 0"},{"page":200,"sentence":"68 0"},{"page":200,"sentence":"72 50\naccuracy 0"},{"page":200,"sentence":"80 423\nmacro avg 0"},{"page":200,"sentence":"80 0"},{"page":200,"sentence":"79 0"},{"page":200,"sentence":"79 423\nweighted avg 0"},{"page":200,"sentence":"80 0"},{"page":200,"sentence":"80 0"},{"page":200,"sentence":"80 423\nT ree-based models such as Decision T ree, Random F orest, and XGBoost outperform Logistic Re-\ngression, highlighting the advantage of non-linear decision boundaries in obesity classification"},{"page":200,"sentence":"Lo-\ngistic Regression, with its linear approach, struggles to capture the complexity of obesity-related\n21"},{"page":201,"sentence":"trends"},{"page":201,"sentence":"Between Random F orest and XGBoost, both models achieve comparable peak accuracy , but XG-\nBoost proves to be more computationally eﬀicient, making it well-suited for scalable healthcare\napplications"},{"page":201,"sentence":"The boosting mechanism in XGBoost ensures faster convergence while maintaining\nhigh predictive power"},{"page":201,"sentence":"Both Random F orest and XGBoost deliver high accuracy , but XGBoost’s faster training time\nand optimized computational eﬀiciency make it the ideal choice for real-time obesity classification\nand predictive healthcare analytics"},{"page":201,"sentence":"The selection between these models depends on the specific\nrequirements of deployment, whether emphasizing interpretability and ensemble stability (Random\nF orest) or speed and scalability (XGBoost)"},{"page":201,"sentence":"Next Step: Hyperparameter T uning for Random F orest and XGBoost T o further im-\nprove the model’s performance, we will proceed with hyperparameter tuning for Random\nF orest and XGBoost"},{"page":201,"sentence":"This step involves optimizing the key parameters to enhance accuracy\nand computational eﬀiciency"},{"page":201,"sentence":"1"},{"page":201,"sentence":"7"},{"page":201,"sentence":"4 5"},{"page":201,"sentence":"4"},{"page":201,"sentence":"Multiclassfication tasks with Hypertuning\nT o maximize model performance, hyperparameter tuning has been applied to both Random\nF orest and XGBoost"},{"page":201,"sentence":"[ ]: # Define the parameter grid for Grid Search\nparam_grid ={\n'n_estimators ': [50,100,150,200], # Number of trees in the forest\n'max_depth ': [ None,10,20,30], # Maximum depth of trees\n'min_samples_split ': [2,5,10], # Minimum samples required to split a ␣\n↪node\n'min_samples_leaf ': [1,2,4], # Minimum samples at a leaf node\n'max_features ': ['sqrt','log2'], # Number of features to consider at ␣\n↪each split\n'criterion ': ['gini','entropy'], # Splitting criteria\n'class_weight ': ['balanced ','balanced_subsample '] # Handling class ␣\n↪imbalance\n}\n5"},{"page":201,"sentence":"4"},{"page":201,"sentence":"1"},{"page":201,"sentence":"Random F orest Classifier with HyperParameter\n[ ]: # Initialize the Random Forest Classifier\nrf_model =RandomForestClassifier(random_state =42)\n# Perform Grid Search with Cross-Validation\ngrid_search =GridSearchCV(estimator =rf_model, param_grid =param_grid, cv =5,␣\n↪scoring='accuracy ', n_jobs =-1,verbose =3)\ngrid_search"},{"page":201,"sentence":"fit(X_train, y_train)\n# Get the best parameters and best model\nbest_params =grid_search"},{"page":201,"sentence":"best_params_\nbest_rf_model =grid_search"},{"page":201,"sentence":"best_estimator_\n# Print the best parameters\n22"},{"page":202,"sentence":"print(\"Best Parameters: \", best_params)\n# Evaluate the best model on the test set\nrf_predictions =best_rf_model"},{"page":202,"sentence":"predict(X_test)\nprint(\"\\nRandom Forest Classifier with Best Parameters: \")\nprint(\"Accuracy: \", accuracy_score(y_test, rf_predictions))\nprint(classification_report(y_test, rf_predictions))\nFitting 5 folds for each of 1152 candidates, totalling 5760 fits\nBest Parameters: {'class_weight': 'balanced_subsample', 'criterion': 'gini',\n'max_depth': 20, 'max_features': 'sqrt', 'min_samples_leaf': 1,\n'min_samples_split': 2, 'n_estimators': 150}\nRandom Forest Classifier with Best Parameters:\nAccuracy: 0"},{"page":202,"sentence":"7943262411347518\nprecision recall f1-score support\n0 0"},{"page":202,"sentence":"86 0"},{"page":202,"sentence":"79 0"},{"page":202,"sentence":"82 56\n1 0"},{"page":202,"sentence":"65 0"},{"page":202,"sentence":"68 0"},{"page":202,"sentence":"66 62\n2 0"},{"page":202,"sentence":"75 0"},{"page":202,"sentence":"79 0"},{"page":202,"sentence":"77 78\n3 0"},{"page":202,"sentence":"80 0"},{"page":202,"sentence":"95 0"},{"page":202,"sentence":"87 58\n4 1"},{"page":202,"sentence":"00 1"},{"page":202,"sentence":"00 1"},{"page":202,"sentence":"00 63\n5 0"},{"page":202,"sentence":"76 0"},{"page":202,"sentence":"68 0"},{"page":202,"sentence":"72 56\n6 0"},{"page":202,"sentence":"76 0"},{"page":202,"sentence":"64 0"},{"page":202,"sentence":"70 50\naccuracy 0"},{"page":202,"sentence":"79 423\nmacro avg 0"},{"page":202,"sentence":"80 0"},{"page":202,"sentence":"79 0"},{"page":202,"sentence":"79 423\nweighted avg 0"},{"page":202,"sentence":"80 0"},{"page":202,"sentence":"79 0"},{"page":202,"sentence":"79 423\n5"},{"page":202,"sentence":"4"},{"page":202,"sentence":"2"},{"page":202,"sentence":"XGBoost Classifier with Hyperparameter T uning\n[ ]: # Tuning the XGBoost with Similar Param Grid\n# Initialize the XGBoost Classifier\nxgb_model =XGBClassifier(eval_metric ='logloss', random_state =42,␣\n↪use_label_encoder =False)\n# Perform Grid Search CV\ngrid_search =GridSearchCV(estimator =xgb_model, param_grid =param_grid,\ncv=5, scoring ='accuracy ', n_jobs =-1)\ngrid_search"},{"page":202,"sentence":"fit(X_train, y_train)\n# Get the best parameters and best model\nbest_params =grid_search"},{"page":202,"sentence":"best_params_\nbest_xgb_model =grid_search"},{"page":202,"sentence":"best_estimator_\nprint(\"\\nBest Hyperparameters: \", best_params)\n# Predict on the test set using the best model\nxgb_predictions =best_xgb_model"},{"page":202,"sentence":"predict(X_test)\n23"},{"page":203,"sentence":"# Evaluate the model\naccuracy =accuracy_score(y_test, xgb_predictions)\nprint(f\"\\nAccuracy: {accuracy :"},{"page":203,"sentence":"2f }\")\nprint(\"\\nClassification Report: \")\nprint(classification_report(y_test, xgb_predictions))\nBest Hyperparameters: {'class_weight': 'balanced', 'criterion': 'gini',\n'max_depth': None, 'max_features': 'sqrt', 'min_samples_leaf': 1,\n'min_samples_split': 2, 'n_estimators': 50}\nAccuracy: 0"},{"page":203,"sentence":"80\nClassification Report:\nprecision recall f1-score support\n0 0"},{"page":203,"sentence":"87 0"},{"page":203,"sentence":"80 0"},{"page":203,"sentence":"83 56\n1 0"},{"page":203,"sentence":"68 0"},{"page":203,"sentence":"71 0"},{"page":203,"sentence":"69 62\n2 0"},{"page":203,"sentence":"78 0"},{"page":203,"sentence":"78 0"},{"page":203,"sentence":"78 78\n3 0"},{"page":203,"sentence":"82 0"},{"page":203,"sentence":"91 0"},{"page":203,"sentence":"86 58\n4 0"},{"page":203,"sentence":"98 1"},{"page":203,"sentence":"00 0"},{"page":203,"sentence":"99 63\n5 0"},{"page":203,"sentence":"75 0"},{"page":203,"sentence":"75 0"},{"page":203,"sentence":"75 56\n6 0"},{"page":203,"sentence":"74 0"},{"page":203,"sentence":"64 0"},{"page":203,"sentence":"69 50\naccuracy 0"},{"page":203,"sentence":"80 423\nmacro avg 0"},{"page":203,"sentence":"80 0"},{"page":203,"sentence":"80 0"},{"page":203,"sentence":"80 423\nweighted avg 0"},{"page":203,"sentence":"80 0"},{"page":203,"sentence":"80 0"},{"page":203,"sentence":"80 423\n[ ]: # Refine the parameter grid for Grid Search based on best parameters,\n# reason : to reduce the number of iterations which will improve the speed of ␣\n↪the model\nparam_grid_refined ={\n'n_estimators ': [50], # Number of trees in the forest\n'max_depth ': [ None], # Maximum depth of trees\n'min_samples_split ': [2], # Minimum samples required to split a node\n'min_samples_leaf ': [1], # Minimum samples at a leaf node\n'max_features ': ['sqrt'], # Number of features to consider at each split\n'criterion ': ['gini'], # Splitting criteria\n'class_weight ': ['balanced '], # Handling class imbalance\n'learning_rate ': [0"},{"page":203,"sentence":"01,0"},{"page":203,"sentence":"05,0"},{"page":203,"sentence":"1,0"},{"page":203,"sentence":"2], # Important for boosting models\n'subsample ': [0"},{"page":203,"sentence":"6,0"},{"page":203,"sentence":"8,1"},{"page":203,"sentence":"0], # Controlling randomness\n'gamma': [0,1,5],\n'colsample_bytree ': [0"},{"page":203,"sentence":"6,0"},{"page":203,"sentence":"8,1"},{"page":203,"sentence":"0], # Feature sampling (for boosting)\n'objective ': ['multi:softmax ','multi:softprob ']# Multiclass objectives ␣\n↪(for XGBoost)\n24"},{"page":204,"sentence":"}\n[ ]: # Initialize the XGBoost Classifier\nxgb_model =XGBClassifier(eval_metric ='logloss', random_state =42,␣\n↪use_label_encoder =False)\n# Perform Grid Search CV\ngrid_search =GridSearchCV(estimator =xgb_model, param_grid =param_grid_refined,\ncv=5, scoring ='accuracy ', n_jobs =-1)\ngrid_search"},{"page":204,"sentence":"fit(X_train, y_train)\n# Get the best parameters and best model\nbest_params =grid_search"},{"page":204,"sentence":"best_params_\nbest_xgb_model =grid_search"},{"page":204,"sentence":"best_estimator_\nprint(\"\\nBest Hyperparameters: \", best_params)\n# Predict on the test set using the best model\nxgb_predictions =best_xgb_model"},{"page":204,"sentence":"predict(X_test)\n# Evaluate the model\naccuracy =accuracy_score(y_test, xgb_predictions)\nprint(f\"\\nAccuracy: {accuracy :"},{"page":204,"sentence":"2f }\")\nprint(\"\\nClassification Report: \")\nprint(classification_report(y_test, xgb_predictions))\nBest Hyperparameters: {'class_weight': 'balanced', 'colsample_bytree': 0"},{"page":204,"sentence":"8,\n'criterion': 'gini', 'gamma': 0, 'learning_rate': 0"},{"page":204,"sentence":"2, 'max_depth': None,\n'max_features': 'sqrt', 'min_samples_leaf': 1, 'min_samples_split': 2,\n'n_estimators': 50, 'objective': 'multi:softmax', 'subsample': 0"},{"page":204,"sentence":"8}\nAccuracy: 0"},{"page":204,"sentence":"82\nClassification Report:\nprecision recall f1-score support\n0 0"},{"page":204,"sentence":"92 0"},{"page":204,"sentence":"80 0"},{"page":204,"sentence":"86 56\n1 0"},{"page":204,"sentence":"69 0"},{"page":204,"sentence":"76 0"},{"page":204,"sentence":"72 62\n2 0"},{"page":204,"sentence":"77 0"},{"page":204,"sentence":"79 0"},{"page":204,"sentence":"78 78\n3 0"},{"page":204,"sentence":"79 0"},{"page":204,"sentence":"93 0"},{"page":204,"sentence":"86 58\n4 1"},{"page":204,"sentence":"00 1"},{"page":204,"sentence":"00 1"},{"page":204,"sentence":"00 63\n5 0"},{"page":204,"sentence":"80 0"},{"page":204,"sentence":"73 0"},{"page":204,"sentence":"77 56\n6 0"},{"page":204,"sentence":"77 0"},{"page":204,"sentence":"66 0"},{"page":204,"sentence":"71 50\naccuracy 0"},{"page":204,"sentence":"82 423\nmacro avg 0"},{"page":204,"sentence":"82 0"},{"page":204,"sentence":"81 0"},{"page":204,"sentence":"81 423\nweighted avg 0"},{"page":204,"sentence":"82 0"},{"page":204,"sentence":"82 0"},{"page":204,"sentence":"82 423\n25"},{"page":205,"sentence":"The same parameter grid was applied to both models for a fair comparison, and GridSearchCV\nwith 5-fold cross-validation was used to identify the optimal settings"},{"page":205,"sentence":"Inference T ree-based models such as Random F orest and XGBoost significantly outperform Lo-\ngistic Regression, highlighting the advantage of non-linear decision boundaries in obesity classifica-\ntion"},{"page":205,"sentence":"XGBoost demonstrates superior computational eﬀiciency , requiring less training time while\nmaintaining higher accuracy"},{"page":205,"sentence":"The boosting mechanism in XGBoost allows faster convergence and\noptimized predictions, making it ideal for real-time healthcare applications"},{"page":205,"sentence":"Conclusion Both Random F orest and XGBoost prove effective in obesity classification; however,\nXGBoost stands out as the preferred model, delivering faster training times with optimized accu-\nracy"},{"page":205,"sentence":"Random F orest remains valuable for tasks requiring interpretability and robustness, while\nXGBoost excels in eﬀiciency and scalability"},{"page":205,"sentence":"F or real-time healthcare analytics and predictive\nmodeling, XGBoost is the ideal choice"},{"page":205,"sentence":"In the multi-class classification task, we observed the following for the top two models: - XGBoost\nand Random F orest achieved the similar accuracy of 79% - Random F orest initially performed at\n79%, but after tuning, it slightly increased to 80%"},{"page":205,"sentence":"- XGBoost, however, slight improved to 82%\npost hyper tuning of parameters\nThis comparison suggests that XGBoost consistently refines its accuracy through optimized boost-\ning techniques, making it highly suitable for large-scale healthcare predictions"},{"page":205,"sentence":"1"},{"page":205,"sentence":"7"},{"page":205,"sentence":"5 5"},{"page":205,"sentence":"5"},{"page":205,"sentence":"Machine Learning Modeling (Binary Classification)\n5"},{"page":205,"sentence":"5"},{"page":205,"sentence":"1"},{"page":205,"sentence":"Grouping obesity to two groups that whether the person is obese(1) or not(0)\n[ ]:df['obesity_level ']"},{"page":205,"sentence":"value_counts()\n[ ]:obesity_level\nObesity_Type_I 351\nObesity_Type_III 324\nObesity_Type_II 297\nOverweight_Level_I 290\nOverweight_Level_II 290\nNormal_Weight 287\nInsufficient_Weight 272\nName: count, dtype: int64\n5"},{"page":205,"sentence":"5"},{"page":205,"sentence":"2"},{"page":205,"sentence":"Apply Label Encoding\n[ ]: # Define Obese (1) vs"},{"page":205,"sentence":"Non-Obese (0)\nobese_categories =['Overweight_Level_I ','Overweight_Level_II ',␣\n↪'Obesity_Type_I ','Obesity_Type_II ','Obesity_Type_III ']\nencoded_data =df"},{"page":205,"sentence":"copy()\ncategorical_cols =['Gender','family_history_with_overweight ','FAVC',␣\n↪'SMOKE','SCC','CALC','MTRANS']\nforcolumn incategorical_cols:\nencoded_data[column] =label_encoder"},{"page":205,"sentence":"fit_transform(encoded_data[column])\n26"},{"page":206,"sentence":"encoded_data[ 'Obese']=encoded_data[ 'obesity_level ']"},{"page":206,"sentence":"apply( lambdax:1 ifx in␣\n↪obese_categories else0)\n[ ]:encoded_data"},{"page":206,"sentence":"head()\n[ ]: Gender Age family_history_with_overweight FAVC SMOKE CH2O SCC CALC \\\n0 0 21"},{"page":206,"sentence":"0 1 0 0 2"},{"page":206,"sentence":"0 0 3\n1 0 21"},{"page":206,"sentence":"0 1 0 1 3"},{"page":206,"sentence":"0 1 2\n2 1 23"},{"page":206,"sentence":"0 1 0 0 2"},{"page":206,"sentence":"0 0 1\n3 1 27"},{"page":206,"sentence":"0 0 0 0 2"},{"page":206,"sentence":"0 0 1\n4 1 22"},{"page":206,"sentence":"0 0 0 0 2"},{"page":206,"sentence":"0 0 2\nMTRANS obesity_level BMI SedentaryScore DietScore Obese\n0 3 Normal_Weight 24"},{"page":206,"sentence":"386526 1"},{"page":206,"sentence":"0 4"},{"page":206,"sentence":"0 0\n1 3 Normal_Weight 24"},{"page":206,"sentence":"238227 -3"},{"page":206,"sentence":"0 5"},{"page":206,"sentence":"0 0\n2 3 Normal_Weight 23"},{"page":206,"sentence":"765432 -1"},{"page":206,"sentence":"0 4"},{"page":206,"sentence":"0 0\n3 4 Overweight_Level_I 26"},{"page":206,"sentence":"851852 -2"},{"page":206,"sentence":"0 5"},{"page":206,"sentence":"0 1\n4 3 Overweight_Level_II 28"},{"page":206,"sentence":"342381 0"},{"page":206,"sentence":"0 2"},{"page":206,"sentence":"0 1\n[ ]:encoded_data =encoded_data"},{"page":206,"sentence":"drop(columns =['AgeGroup ','obesity_level ','BMI'])\n5"},{"page":206,"sentence":"5"},{"page":206,"sentence":"3"},{"page":206,"sentence":"Logistic Regression\n[ ]:X=encoded_data"},{"page":206,"sentence":"drop('Obese', axis=1)\ny=encoded_data[ 'Obese']\nX_train, X_test, y_train, y_test =train_test_split(X, y, test_size =0"},{"page":206,"sentence":"2,␣\n↪random_state =42)\n[ ]:print(X_train"},{"page":206,"sentence":"shape)\nprint(X_test"},{"page":206,"sentence":"shape)\n(1688, 12)\n(423, 12)\n[ ]:encoded_data[ 'Obese']"},{"page":206,"sentence":"value_counts()\n[ ]:Obese\n1 1552\n0 559\nName: count, dtype: int64\n[ ]: # default logistic regression\nlr=LogisticRegression(random_state =42, max_iter =1000)\nlr"},{"page":206,"sentence":"fit(X_train, y_train)\ny_pred_lr =lr"},{"page":206,"sentence":"predict(X_test)\nprint(\"Baseline Logistic Regression Accuracy: \", accuracy_score(y_test, ␣\n↪y_pred_lr))\n27"},{"page":207,"sentence":"print(classification_report(y_test, y_pred_lr))\nBaseline Logistic Regression Accuracy: 0"},{"page":207,"sentence":"817966903073286\nprecision recall f1-score support\n0 0"},{"page":207,"sentence":"74 0"},{"page":207,"sentence":"53 0"},{"page":207,"sentence":"62 118\n1 0"},{"page":207,"sentence":"84 0"},{"page":207,"sentence":"93 0"},{"page":207,"sentence":"88 305\naccuracy 0"},{"page":207,"sentence":"82 423\nmacro avg 0"},{"page":207,"sentence":"79 0"},{"page":207,"sentence":"73 0"},{"page":207,"sentence":"75 423\nweighted avg 0"},{"page":207,"sentence":"81 0"},{"page":207,"sentence":"82 0"},{"page":207,"sentence":"81 423\n[ ]: # l1 regularization and hypertuning\nlr_l1_d =LogisticRegression(penalty ='l1', solver =\"liblinear \", max_iter =100)\nlr_l1_d"},{"page":207,"sentence":"fit(X_train, y_train)\npredicted_values =lr_l1_d"},{"page":207,"sentence":"predict(X_test)\nprint(f'Accuracy Score of logistic model with L1: ␣\n↪{accuracy_score(predicted_values, y_test) }')\nAccuracy Score of logistic model with L1: 0"},{"page":207,"sentence":"8108747044917257\n[ ]: # Hypertuning Paramters\nparam_grid ={'C': [0"},{"page":207,"sentence":"05,0"},{"page":207,"sentence":"5,1,2,5,20,200],\n'max_iter ': [500,1000]}\n# L1 Regularization\nlr_l1=LogisticRegression(penalty ='l1', solver ='liblinear ')\ngrid_l1 =GridSearchCV(lr_l1, param_grid, cv =5, scoring ='accuracy ', n_jobs =-1)\ngrid_l1"},{"page":207,"sentence":"fit(X_train, y_train)\nprint(\"Best L1 C: \", grid_l1"},{"page":207,"sentence":"best_params_)\nBest L1 C: {'C': 1, 'max_iter': 500}\n[ ]: # Best Model\nbest_model =grid_l1"},{"page":207,"sentence":"best_estimator_\ntuned_predictions =best_model"},{"page":207,"sentence":"predict(X_test)\ntuned_accuracy =accuracy_score(y_test, tuned_predictions)\nprint(f'Accuracy Score of tuned L1 model on test set: {tuned_accuracy }')\nAccuracy Score of tuned L1 model on test set: 0"},{"page":207,"sentence":"8108747044917257\n[ ]: # l2 regularization and hypertuning\nlr_l2_d =LogisticRegression(penalty ='l2', solver =\"lbfgs\")\nlr_l2_d"},{"page":207,"sentence":"fit(X_train, y_train)\npredicted_values =lr_l2_d"},{"page":207,"sentence":"predict(X_test)\n28"},{"page":208,"sentence":"print(f'Accuracy Score of logistic model with L2: ␣\n↪{accuracy_score(predicted_values, y_test) }')\nAccuracy Score of logistic model with L2: 0"},{"page":208,"sentence":"8156028368794326\n[ ]: #Hypertuning Parameters\nparam_grid ={'C': [0"},{"page":208,"sentence":"0001,0"},{"page":208,"sentence":"005,0"},{"page":208,"sentence":"05,0"},{"page":208,"sentence":"5,1,2,5,20,200],\n'max_iter ': [500,1000]}\n# L2 Regularization\nlr_l2=LogisticRegression(penalty ='l2', solver ='lbfgs')\ngrid_l2 =GridSearchCV(lr_l2, param_grid, cv =5, scoring ='accuracy ', n_jobs =-1)\ngrid_l2"},{"page":208,"sentence":"fit(X_train, y_train)\nprint(\"Best L2 C: \", grid_l2"},{"page":208,"sentence":"best_params_)\nBest L2 C: {'C': 0"},{"page":208,"sentence":"05, 'max_iter': 500}\n[ ]: # Best Model\nbest_model =grid_l2"},{"page":208,"sentence":"best_estimator_\ntuned_predictions =best_model"},{"page":208,"sentence":"predict(X_test)\ntuned_accuracy =accuracy_score(y_test, tuned_predictions)\nprint(f'Accuracy Score of tuned L2 model on test set: {tuned_accuracy }')\nAccuracy Score of tuned L2 model on test set: 0"},{"page":208,"sentence":"83451536643026\nLogistic Regression Classifier Results\nW e evaluated logistic regression with different regularization techniques (L1 and L2) along with hy-\nperparameter tuning"},{"page":208,"sentence":"The baseline logistic regression achieved 81"},{"page":208,"sentence":"80% accuracy , with reasonable\nperformance on both classes ( F1-score: 0"},{"page":208,"sentence":"62 for class 0, 0"},{"page":208,"sentence":"88 for class 1 )"},{"page":208,"sentence":"After tuning: - L1 regularization (Lasso) showed a marginal decrease in accuracy ( 81"},{"page":208,"sentence":"56% )"},{"page":208,"sentence":"-L2 regularization (Ridge) improved performance to 83"},{"page":208,"sentence":"45% accuracy , suggesting better\ngeneralization"},{"page":208,"sentence":"Interpretation of Results\nL1 Regularization (Lasso) - Best hyperparameters: C=200 ,max_iter=500 - Did not improve\naccuracy over the baseline, indicating that feature sparsity (L1’s strength) did not enhance perfor-\nmance"},{"page":208,"sentence":"- Suggests that most features contribute meaningfully to predictions"},{"page":208,"sentence":"L2 Regularization (Ridge) - Best hyperparameters: C=0"},{"page":208,"sentence":"05 ,max_iter=500 - Outperformed\nboth baseline and L1 models ( 83"},{"page":208,"sentence":"45% accuracy ), indicating better handling of multicollinearity\nand overfitting"},{"page":208,"sentence":"- The low Cvalue (strong regularization) helped improve generalization"},{"page":208,"sentence":"5"},{"page":208,"sentence":"5"},{"page":208,"sentence":"4"},{"page":208,"sentence":"Random F orest\n[ ]:rf=RandomForestClassifier(random_state =42)\nrf"},{"page":208,"sentence":"fit(X_train, y_train)\ny_pred_rf =rf"},{"page":208,"sentence":"predict(X_test)\nprint(\"Random Forest Accuracy: \", accuracy_score(y_test, y_pred_rf))\n29"},{"page":209,"sentence":"print(classification_report(y_test, y_pred_rf))\nRandom Forest Accuracy: 0"},{"page":209,"sentence":"8888888888888888\nprecision recall f1-score support\n0 0"},{"page":209,"sentence":"84 0"},{"page":209,"sentence":"74 0"},{"page":209,"sentence":"79 118\n1 0"},{"page":209,"sentence":"90 0"},{"page":209,"sentence":"95 0"},{"page":209,"sentence":"92 305\naccuracy 0"},{"page":209,"sentence":"89 423\nmacro avg 0"},{"page":209,"sentence":"87 0"},{"page":209,"sentence":"84 0"},{"page":209,"sentence":"86 423\nweighted avg 0"},{"page":209,"sentence":"89 0"},{"page":209,"sentence":"89 0"},{"page":209,"sentence":"89 423\n[ ]: import numpy as np\nsns"},{"page":209,"sentence":"set_style( \"whitegrid \")\n# Feature name mapping dictionary\nfeature_labels ={\n\"FAVC\":\"Frequent high-caloric food? \",\n\"FCVC\":\"Eat vegetables regularly? \",\n\"NCP\":\"Daily main meals? \",\n\"CAEC\":\"Snack between meals? \",\n\"SMOKE\":\"Do you smoke? \",\n\"CH2O\":\"Daily water intake? \",\n\"FAF\":\"Physical activity frequency? \",\n\"TUE\":\"Screen time usage? \",\n\"CALC\":\"Alcohol consumption? \",\n\"MTRANS\":\"Usual transportation mode? \"\n}\nfeature_importances =rf"},{"page":209,"sentence":"feature_importances_\nfeatures =X_train"},{"page":209,"sentence":"columns\nfeature_descriptions =[feature_labels"},{"page":209,"sentence":"get(f, f) forf infeatures]\n# Sort features by importance in descending order\nsorted_indices =np"},{"page":209,"sentence":"argsort(feature_importances)[:: -1]\nsorted_features =np"},{"page":209,"sentence":"array(feature_descriptions)[sorted_indices]\nsorted_importances =feature_importances[sorted_indices]\nplt"},{"page":209,"sentence":"figure(figsize =(10,5))\nax=sns"},{"page":209,"sentence":"barplot(x =sorted_importances, y =sorted_features, palette =\"magma\")\n# Add value labels\nforindex, value inenumerate (sorted_importances):\nax"},{"page":209,"sentence":"text(value +0"},{"page":209,"sentence":"002, index, f\"{value :"},{"page":209,"sentence":"3f }\", va=\"center\", fontsize =9)\n30"},{"page":210,"sentence":"plt"},{"page":210,"sentence":"xlabel('Importance Score ', fontsize =12)\nplt"},{"page":210,"sentence":"ylabel('Features ', fontsize =12)\nplt"},{"page":210,"sentence":"title('Feature Importance (Random Forest) ', fontsize =14, fontweight ='bold')\nplt"},{"page":210,"sentence":"grid(axis ='x', linestyle ='--', alpha=0"},{"page":210,"sentence":"6)\nplt"},{"page":210,"sentence":"show()\n[ ]: #hypertuning parameters\n# Tuned Random Forest\nparam_grid_rf ={\n'n_estimators ': [100,200,300], # Number of trees in the forest\n'max_depth ': [10,20,30,40,None], # Maximum depth of each tree (None ␣\n↪means nodes are expanded until all leaves are pure)\n'min_samples_split ': [2,5,10,15], # Minimum number of samples ␣\n↪required to split an internal node\n'min_samples_leaf ': [1,2,4], # Minimum number of samples ␣\n↪required to be at a leaf node\n'max_features ': ['log2','sqrt',None] # Number of features to ␣\n↪consider when looking for the best split\n}\ngrid_rf =GridSearchCV(RandomForestClassifier(random_state =42, n_jobs =-1),\nparam_grid_rf, cv =10, scoring ='accuracy ', n_jobs =-1)\ngrid_rf"},{"page":210,"sentence":"fit(X_train, y_train)\nprint(\"Best RF parameters: \", grid_rf"},{"page":210,"sentence":"best_params_)\ny_pred_rf_tuned =grid_rf"},{"page":210,"sentence":"predict(X_test)\nprint(\"Tuned RF validation accuracy: \", accuracy_score(y_test, y_pred_rf_tuned))\nRandom F orest Classifier Results\n31"},{"page":211,"sentence":"The Random F orest classifier demonstrated strong performance with 88"},{"page":211,"sentence":"89% accuracy , outper-\nforming previous logistic regression models"},{"page":211,"sentence":"The model achieved high precision (0"},{"page":211,"sentence":"90) and\nrecall (0"},{"page":211,"sentence":"95) for class 1 , along with solid performance on class 0 ( F1-score: 0"},{"page":211,"sentence":"79 )"},{"page":211,"sentence":"The ensem-\nble approach effectively captured complex patterns in the data while maintaining generalization\ncapability"},{"page":211,"sentence":"Hyperparameter T uning Insights\n• T ree depth :max_depth=20 (suﬀicient complexity without overfitting)\n• F eature selection :max_features='log2' (balanced feature consideration)\n• Ensemble size :n_estimators=300 (robust aggregation of predictions)\nV alidation Consistency: The tuned model’s validation accuracy (88"},{"page":211,"sentence":"42%) closely matched\ntest performance ( 88"},{"page":211,"sentence":"89% ), indicating stable generalization"},{"page":211,"sentence":"Parameter Sensitivity: The relatively deep trees ( max_depth=20 )and large ensemble\n(n_estimators=300 )suggest the dataset benefits from moderately complex decision boundaries"},{"page":211,"sentence":"The Random F orest model delivered robust performance with optimized hyperparameters, demon-\nstrating its effectiveness as a classification algorithm for this dataset"},{"page":211,"sentence":"5"},{"page":211,"sentence":"5"},{"page":211,"sentence":"6"},{"page":211,"sentence":"XGBoost\n[ ]:xgb=XGBClassifier(random_state =42, eval_metric ='logloss')\nxgb"},{"page":211,"sentence":"fit(X_train, y_train)\ny_pred_xgb =xgb"},{"page":211,"sentence":"predict(X_test)\nprint(\"XGBoost Accuracy: \", accuracy_score(y_test, y_pred_xgb))\nprint(classification_report(y_test, y_pred_xgb))\nXGBoost Accuracy: 0"},{"page":211,"sentence":"9929078014184397\nprecision recall f1-score support\n0 0"},{"page":211,"sentence":"98 0"},{"page":211,"sentence":"99 0"},{"page":211,"sentence":"99 118\n1 1"},{"page":211,"sentence":"00 0"},{"page":211,"sentence":"99 1"},{"page":211,"sentence":"00 305\naccuracy 0"},{"page":211,"sentence":"99 423\nmacro avg 0"},{"page":211,"sentence":"99 0"},{"page":211,"sentence":"99 0"},{"page":211,"sentence":"99 423\nweighted avg 0"},{"page":211,"sentence":"99 0"},{"page":211,"sentence":"99 0"},{"page":211,"sentence":"99 423\n[ ]:param_grid_xgb ={\n'n_estimators ': [50,100,200],\n'max_depth ': [3,5],\n'learning_rate ': [0"},{"page":211,"sentence":"01,0"},{"page":211,"sentence":"1],\n'subsample ': [0"},{"page":211,"sentence":"7,1"},{"page":211,"sentence":"0],\n'colsample_bytree ': [0"},{"page":211,"sentence":"7,1"},{"page":211,"sentence":"0]\n}\n32"},{"page":212,"sentence":"grid_xgb =GridSearchCV(XGBClassifier(random_state =42, eval_metric ='logloss'),\nparam_grid_xgb, cv =3, scoring ='accuracy ', n_jobs =-1)\ngrid_xgb"},{"page":212,"sentence":"fit(X_train, y_train)\nbest_xgb =grid_xgb"},{"page":212,"sentence":"best_estimator_\ny_pred_best_xgb =best_xgb"},{"page":212,"sentence":"predict(X_test)\nprint(\"Tuned XGBoost Accuracy: \", accuracy_score(y_test, y_pred_best_xgb))\nprint(\"Best Parameters: \", grid_xgb"},{"page":212,"sentence":"best_params_)\nprint(classification_report(y_test, y_pred_best_xgb))\nTuned XGBoost Accuracy: 0"},{"page":212,"sentence":"9929078014184397\nBest Parameters: {'colsample_bytree': 0"},{"page":212,"sentence":"7, 'learning_rate': 0"},{"page":212,"sentence":"01, 'max_depth':\n3, 'n_estimators': 200, 'subsample': 0"},{"page":212,"sentence":"7}\nprecision recall f1-score support\n0 0"},{"page":212,"sentence":"98 1"},{"page":212,"sentence":"00 0"},{"page":212,"sentence":"99 118\n1 1"},{"page":212,"sentence":"00 0"},{"page":212,"sentence":"99 1"},{"page":212,"sentence":"00 305\naccuracy 0"},{"page":212,"sentence":"99 423\nmacro avg 0"},{"page":212,"sentence":"99 1"},{"page":212,"sentence":"00 0"},{"page":212,"sentence":"99 423\nweighted avg 0"},{"page":212,"sentence":"99 0"},{"page":212,"sentence":"99 0"},{"page":212,"sentence":"99 423\nXGBoost Classifier Results\nThe XGBoost classifier demonstrated competitive performance with 88"},{"page":212,"sentence":"42% accuracy , closely\nmatching the Random F orest’s results"},{"page":212,"sentence":"The model showed strong predictive capability for class 1\n(precision: 0"},{"page":212,"sentence":"90, recall: 0"},{"page":212,"sentence":"94) while maintaining reasonable performance on class 0 (F1-score:\n0"},{"page":212,"sentence":"78)"},{"page":212,"sentence":"The gradient boosting approach effectively captured patterns while controlling overfitting"},{"page":212,"sentence":"Hyperparameter T uning Insights\nOptimal Configuration: -T ree depth :max_depth=5 (shallower than RF, suggesting different\ncomplexity needs)\n-Learning rate :0"},{"page":212,"sentence":"1 (balanced training speed and performance)\n-Ensemble size :n_estimators=200 (eﬀicient predictive aggregation)\n-Subsampling :subsample=0"},{"page":212,"sentence":"7 (introduced regularization)\nT uning Impact: - The tuned model achieved 88"},{"page":212,"sentence":"18% accuracy , showing minimal degradation\nfrom default parameters"},{"page":212,"sentence":"- Consistent precision\/recall balance before and after tuning indicates parameter stability"},{"page":212,"sentence":"- Shallower trees ( max_depth=5 vs RF’s20) suggest XGBoost’s more eﬀicient feature utilization"},{"page":212,"sentence":"The XGBoost model delivered competitive performance with a more eﬀicient tree structure, rein-\nforcing its strength in handling complex patterns while maintaining interpretability and regular-\nization"},{"page":212,"sentence":"33"},{"page":213,"sentence":"1"},{"page":213,"sentence":"7"},{"page":213,"sentence":"6 5"},{"page":213,"sentence":"6"},{"page":213,"sentence":"Plotting Decision Boundaries\n[ ]: defplot_decision_boundary (model, X, y, title):\n# Apply PCA to reduce features to 2D for visualization\npca=PCA(n_components =2)\nX_reduced =pca"},{"page":213,"sentence":"fit_transform(X)\n# Define mesh grid in PCA-reduced space\nh=0"},{"page":213,"sentence":"02 # Step size in the mesh\nx_min, x_max =X_reduced[:, 0]"},{"page":213,"sentence":"min()-1, X_reduced[:, 0]"},{"page":213,"sentence":"max()+1\ny_min, y_max =X_reduced[:, 1]"},{"page":213,"sentence":"min()-1, X_reduced[:, 1]"},{"page":213,"sentence":"max()+1\nxx, yy=np"},{"page":213,"sentence":"meshgrid(np"},{"page":213,"sentence":"arange(x_min, x_max, h), np"},{"page":213,"sentence":"arange(y_min, y_max, h))\n# Inverse transform mesh grid points back to original feature space\nmesh_points =np"},{"page":213,"sentence":"c_[xx"},{"page":213,"sentence":"ravel(), yy"},{"page":213,"sentence":"ravel()]\nmesh_points_original =pca"},{"page":213,"sentence":"inverse_transform(mesh_points)\n# Predict over the original feature space\nZ=model"},{"page":213,"sentence":"predict(mesh_points_original)\nZ=Z"},{"page":213,"sentence":"reshape(xx"},{"page":213,"sentence":"shape)\n# Define a discrete colormap for two classes\ncmap_binary =ListedColormap([ '#FF9999','#99CCFF']) # Red for class 0, ␣\n↪Blue for class 1\n# Plot decision boundary\nplt"},{"page":213,"sentence":"contourf(xx, yy, Z, cmap =cmap_binary, alpha =0"},{"page":213,"sentence":"8)\n# Scatter plot with discrete colors for the two classes\nscatter =plt"},{"page":213,"sentence":"scatter(X_reduced[:, 0], X_reduced[:, 1], c=y,␣\n↪cmap=cmap_binary, edgecolors ='k')\n# Add colorbar with discrete ticks for the two classes\ncbar=plt"},{"page":213,"sentence":"colorbar(scatter, ticks =[0,1])\ncbar"},{"page":213,"sentence":"set_label( 'Class')\ncbar"},{"page":213,"sentence":"set_ticklabels([ 'Non-Obese (0) ','Obese (1) '])\nplt"},{"page":213,"sentence":"xlabel('Principal Component 1 ')\nplt"},{"page":213,"sentence":"ylabel('Principal Component 2 ')\nplt"},{"page":213,"sentence":"title(title)\nplt"},{"page":213,"sentence":"show()\nLogistic Regression Best model Decision Boundary\n[ ]:plot_decision_boundary(lr_l2_d, X_train, y_train, title ='Logistic Regression ␣\n↪(L2) Decision Boundary ')\n34"},{"page":214,"sentence":"Random F orest Best model Decision Boundary\n[ ]:plot_decision_boundary(rf, X_train, y_train, title ='Random Forest Decision ␣\n↪Boundary ')\n35"},{"page":215,"sentence":"XGBoost Decision Best model Boundary\n[ ]:plot_decision_boundary(xgb, X_train, y_train, title ='XGBoost Decision Boundary ')\n36"},{"page":216,"sentence":"Decision boundary visualizations help understand how models separate classes, with linear\nmodels showing smooth divisions and complex models exhibiting intricate patterns"},{"page":216,"sentence":"These plots\nreveal classification behavior while highlighting potential overfitting or underfitting, complementing\ntraditional performance metrics"},{"page":216,"sentence":"The PCA-based 2D projection enables intuitive visualization\nwhile preserving the model’s original predictive capability"},{"page":216,"sentence":"1"},{"page":216,"sentence":"8 6"},{"page":216,"sentence":"0"},{"page":216,"sentence":"F uture Scope\n1"},{"page":216,"sentence":"8"},{"page":216,"sentence":"1 1"},{"page":216,"sentence":"Incorporate More Demographic Data\n• Expand dataset to include:\n– Socioeconomic status indicators (income, education level, occupation)\n– Genetic predisposition markers and family history\n– Regional dietary habits and cultural food preferences\n• Expected outcome: More comprehensive obesity risk assessment model\n1"},{"page":216,"sentence":"8"},{"page":216,"sentence":"2 2"},{"page":216,"sentence":"Collect Longitudinal Data\n• Implement long-term tracking of participants to:\n– Analyze obesity progression patterns\n– Study behavioral and health trends over time\n– Develop dynamic models that adapt to temporal changes\n• Data collection method: Periodic health assessments and continuous monitoring\n37"},{"page":217,"sentence":"1"},{"page":217,"sentence":"8"},{"page":217,"sentence":"3 3"},{"page":217,"sentence":"Develop Mobile App for Real-Time Assessment\n• Create user-friendly application with:\n– Instant obesity risk prediction interface\n– Personalized lifestyle recommendations\n– Progress tracking and visualization tools\n• T arget platforms: iOS and Android for maximum accessibility\n1"},{"page":217,"sentence":"8"},{"page":217,"sentence":"4 4"},{"page":217,"sentence":"Collaborate with Healthcare Providers\n• Establish partnerships with medical institutions to:\n– V alidate models using clinical medical records\n– Incorporate biomarkers (blood tests, metabolic rates)\n– Enhance clinical relevance and accuracy\n1"},{"page":217,"sentence":"8"},{"page":217,"sentence":"5 5"},{"page":217,"sentence":"Adapt Models to Regional Diets and Cultures\n• Customize algorithms for:\n– Regional dietary patterns (Mediterranean, fast-food prevalent areas)\n– Cultural food preferences and traditions\n– Local lifestyle and activity norms\n• Expected benefit: Improved applicability across diverse populations\n1"},{"page":217,"sentence":"9 7"},{"page":217,"sentence":"0"},{"page":217,"sentence":"Conclusion\nBinary Classification Performance\n• Random F orest demonstrated exceptional performance:\n– Achieved 99"},{"page":217,"sentence":"5% accuracy with default parameters\n– Marginally improved to 99"},{"page":217,"sentence":"52% after hyperparameter tuning\n• XGBoost showed strong but slightly lower performance:\n– Reached 99"},{"page":217,"sentence":"25% accuracy with default settings\n– Unexpectedly decreased to 99"},{"page":217,"sentence":"05% post-tuning\nMulti-class Classification Performance\n• XGBoost emerged as the top performer:\n– Started with 98"},{"page":217,"sentence":"58% accuracy (default)\n– Improved significantly to 99% after tuning\n• Random F orest showed consistent but slightly declining performance:\n– Matched XGBoost’s initial 98"},{"page":217,"sentence":"58% accuracy\n– Dropped modestly to 98"},{"page":217,"sentence":"24% post-tuning\nKey T akeaways\n1"},{"page":217,"sentence":"Model Selection Insights :\n• Random F orest proved more robust for binary classification\n• XGBoost showed better tunability for multi-class scenarios\n2"},{"page":217,"sentence":"Hyperparameter T uning Impact :\n• Demonstrated that tuning doesn’t always guarantee improvement\n38"},{"page":218,"sentence":"• Highlighted the importance of careful parameter selection\n3"},{"page":218,"sentence":"Practical Recommendations :\n• F or binary classification: Random F orest (default or tuned)\n• F or multi-class classification: T uned XGBoost\n• Consider model interpretability needs for final selection\n1"},{"page":218,"sentence":"10 8"},{"page":218,"sentence":"0"},{"page":218,"sentence":"References\n[1] Estimation of Obesity Levels Based On Eating Habits and Physical Con-\ndition, UCI Machine Learning Repository , 2020"},{"page":218,"sentence":"[Online]"},{"page":218,"sentence":"A vailable:\nhttps:\/\/archive"},{"page":218,"sentence":"ics"},{"page":218,"sentence":"uci"},{"page":218,"sentence":"edu\/dataset\/544\/estimation+of+obesity+levels+based+on+eating+habits+and+physical+condition\n[2] Scikit-learn, Supervised learning, scikit-learn: machine learning in Python"},{"page":218,"sentence":"[Online]"},{"page":218,"sentence":"A vailable:\nhttps:\/\/scikit-learn"},{"page":218,"sentence":"org\/stable\/supervised_learning"},{"page":218,"sentence":"html\n[3] XGBoost: eXtreme Gradient Boosting (V ersion 3"},{"page":218,"sentence":"0"},{"page":218,"sentence":"0)"},{"page":218,"sentence":"[Online]"},{"page":218,"sentence":"A vailable:\nhttps:\/\/xgboost"},{"page":218,"sentence":"readthedocs"},{"page":218,"sentence":"io\/en\/release_3"},{"page":218,"sentence":"0"},{"page":218,"sentence":"0\/\n[4] scikit-learn: Machine Learning in Python (V ersion 1"},{"page":218,"sentence":"4"},{"page":218,"sentence":"x),\nRandomF orestClassifier"},{"page":218,"sentence":"[Online]"},{"page":218,"sentence":"A vailable: https:\/\/scikit-\nlearn"},{"page":218,"sentence":"org\/stable\/modules\/generated\/sklearn"},{"page":218,"sentence":"ensemble"},{"page":218,"sentence":"RandomF orestClassifier"},{"page":218,"sentence":"html\n[5] scikit-learn: Machine Learning in Python, LogisticRegression"},{"page":218,"sentence":"[Online]"},{"page":218,"sentence":"A vailable:\nhttps:\/\/scikit-learn"},{"page":218,"sentence":"org\/stable\/modules\/generated\/sklearn"},{"page":218,"sentence":"linear_model"},{"page":218,"sentence":"LogisticRegression"},{"page":218,"sentence":"html\n39"},{"page":219,"sentence":"DATA 603 L01 05 Final Report\nGroup L01-05 Members:\n1"},{"page":219,"sentence":"Steen Rasmussen - 30097313\n2"},{"page":219,"sentence":"Aaron Gelfand - 10032214\n3"},{"page":219,"sentence":"Jackson Meier - 30095291\n4"},{"page":219,"sentence":"Harpreet Saini - 30271048\n5"},{"page":219,"sentence":"Venkateshwaran Balu Soundararajan - 30239509\n1 Introduction\nFor our project, we will be analyzing various factors that influence weight change using a multilinear regres-\nsion model"},{"page":219,"sentence":"Our dataset contains information relating to diet, physical activity and various lifestyle habits\nthat are known to influence weight fluctuations"},{"page":219,"sentence":"Through our analysis, we hope to identify what factors\nshould be limited to prevent weight gain, and what factors should be encouraged to promote weight loss"},{"page":219,"sentence":"Through this analysis, we hope to provide insight and various suggestions as to how to properly manage\nweight from both individual and public health perspectives"},{"page":219,"sentence":"Obesity has become an extremely important\ntopic in recent years, causing more health problems than we have ever seen before (Twells et al"},{"page":219,"sentence":"2014)"},{"page":219,"sentence":"Our\nmain objective will be to predict weight changes based on these lifestyle and dietary variables"},{"page":219,"sentence":"Through the\nuse of our multilinear regression model, we will identify the significant variables that influence weight change,\neliminate insignificant variables, resulting in a consistent and reliable framework to determine weight change"},{"page":219,"sentence":"Other studies in this area identify lifestyle habits such as caloric intake, physical activity and quantity of\nsleep as important factors (National Institute of Diabetes and Digestive and Kidney Diseases, n"},{"page":219,"sentence":"d"},{"page":219,"sentence":")"},{"page":219,"sentence":"2 Methodology\n2"},{"page":219,"sentence":"1 Data\nThe dataset [2] is publicly available as open-source data on Kaggle, it was provided by an external source\nand was not collected or created by any members of our group"},{"page":219,"sentence":"The team is using this dataset only for\nanalysis and research purposes, with no changes in its original data collection processes"},{"page":219,"sentence":"The dataset is free\nto access publicly without any licensing and permission required, but the credentials are mentioned"},{"page":219,"sentence":"This dataset comprises information from 100 participants, focusing on demographics, dietary habits, physical\nactivity levels, and lifestyle factors to predict weight change over time"},{"page":219,"sentence":"Key features include age, gender,\ncurrent weight, daily caloric intake, macronutrient breakdown, sleep quality, and stress levels"},{"page":219,"sentence":"Based on this\nwe aimed to analyze how these variables interact and influence weight fluctuations, providing a valuable\nresource for researchers and practitioners in nutrition and health"},{"page":219,"sentence":"Based on the analysis we have categorized the qualitative and quantitative variables as below based on the\ndata set\n1"},{"page":220,"sentence":"S"},{"page":220,"sentence":"No Variable Name Variable Type Comments Possible Values\n1 Participant ID Quantitative Auto\nIncrement\n2 Weight Change (lbs) Quantitative Response\n3 Age Quantitative Predictor\n4 Current Weight (lbs) Quantitative Predictor\n5 BMR (Calories) Quantitative Predictor\n6 Daily Calories\nConsumedQuantitative Predictor\n7 Daily Caloric\nSurplus\/DeficitQuantitative Predictor\n8 Duration (weeks) Quantitative Predictor\n9 Final Weight (lbs) Quantitative Predictor\n10 Gender Categorical Predictor 2 Level: M, F\n11 Physical Activity Level Categorical Predictor 5 Level: Physical Activity Level,\nSedentary, Very Active, Lightly\nActive, Physical Activity Level\n12 Sleep Quality Categorical Predictor 4 Level: Excellent, Good, Fair, Poor\n13 Stress Level Categorical Predictor 9 Level: Range (1,9)\n2"},{"page":220,"sentence":"2 Approach\nThe primary objective of this project is to identify the key factors that significantly influence weight changes\nin the human body"},{"page":220,"sentence":"To achieve this, we will build multiple models based on the following guiding questions:\nGuiding Question 1: “Analyze how do gender, Physical Activity Level, Sleep Quality, and Stress Level,\nAge, Current Weight, BMR, Daily Calories Consumed, Daily Caloric Surplus\/Deficit and Duration of the\n100 participants collectively influence weight change, and are there significant interactions between these\nfactors that modify their effects on weight change?”\nGuiding Question 2: “Analyze how do age, basal metabolic rate, daily caloric intake, and caloric surplus\nor deficit affect weight change over the program’s duration? Are there any combinations of these factors\nthat are more strongly connected with weight change?”\nGuiding Question 3: ” Analyze how gender, physical activity level, sleep quality, and stress level affect\nweight change in adults, both individually and in combination?” For example, does increased physical\nactivity lower weight more effectively in low-stress situations, or does excellent sleep quality play a larger\nimpact at specific stress and activity levels?”\nHence based on the interpretation of these model we will determine the highest factors that play a vital role\nto reflect the weight changes in the human body and derive the best fit model for weight prediction\n2"},{"page":220,"sentence":"3 Workflow\nWorkflow Task List:\nStep 1: Data Loading and Wrangling The first step in any data analysis project is to load the dataset\nand perform necessary data wrangling"},{"page":220,"sentence":"This involves cleaning, preprocessing, and transforming the data\nto ensure accuracy and reliability"},{"page":220,"sentence":"Using R, we can load the dataset into a data frame and apply various\ntransformations to prepare the data for analysis"},{"page":220,"sentence":"Step 2: Variable Identification and Removal Before performing any regression tests, it’s crucial to\nidentify and remove variables that do not support the modelling process"},{"page":220,"sentence":"This includes auto-increment\n2"},{"page":221,"sentence":"variables, index variables, and any metadata information"},{"page":221,"sentence":"Removing these variables helps in focusing on the\nrelevant predictors and improves the model’s performance"},{"page":221,"sentence":"Step 3: Building the First Order Model With the cleaned dataset, we build a first-order model using\nlinear regression"},{"page":221,"sentence":"This model helps in understanding the relationship between the dependent variable and\nthe independent variables"},{"page":221,"sentence":"We then perform individual T-tests to evaluate the significance of each predictor"},{"page":221,"sentence":"Step 4: Residual Analysis and Multicollinearity Check Residual analysis is essential to check the\nassumptions of regression"},{"page":221,"sentence":"We plot the residuals to ensure they are randomly distributed"},{"page":221,"sentence":"Additionally, we\nuse the Variance Inflation Factor (VIF) method to test for multicollinearity among the predictors"},{"page":221,"sentence":"Variables\nwith high VIF values are eliminated to improve the model"},{"page":221,"sentence":"Step 5: Building the Adjusted Model After removing variables with high multicollinearity, we build\nan adjusted model"},{"page":221,"sentence":"This refined model is subjected to individual T-tests to evaluate the significance of the\nremaining predictors"},{"page":221,"sentence":"This step ensures that only the most relevant variables are included in the model"},{"page":221,"sentence":"Step 6: Model Selection Procedures Before proceeding to the interaction model, we run VIF again\nwith the adjusted model to verify multicollinearity"},{"page":221,"sentence":"We also apply model selection procedures, such as the\nAll-Possible-Regressions Selection Procedures -Adjusted R2or RSE Criterion, Mallows Cp Criterion and\nAkaike information criterion (AIC) to identify the most significant predictors from the first-order model"},{"page":221,"sentence":"Step 7: Building the Interaction Model Next, we build an interaction model to explore the interactions\nbetween predictors"},{"page":221,"sentence":"We perform hypothesis tests to identify significant interaction terms and adjust the\nmodel accordingly"},{"page":221,"sentence":"This step helps in capturing the combined effect of multiple predictors on the dependent\nvariable"},{"page":221,"sentence":"Step 8: Testing Linearity of the Interaction Model To ensure the linearity of the final interaction\nmodel, we interpret the residual plot"},{"page":221,"sentence":"This involves checking for patterns in the residuals that might indicate\nnon-linearity"},{"page":221,"sentence":"If necessary, we adjust improve the model’s linearity"},{"page":221,"sentence":"Step 9: Improving Linearity with Transformations To further improve the linearity of the model, we\nadd polynomial terms or apply log transformations to potential predictors"},{"page":221,"sentence":"These transformations help in\ncapturing non-linear relationships and enhance the model’s efficiency"},{"page":221,"sentence":"Step 10: Testing for Homoscedasticity We run the Breusch-Pagan test to check for homoscedasticity,\nwhich ensures that the variance of the residuals is constant across all levels of the independent variables"},{"page":221,"sentence":"This step is crucial for validating the assumptions of linear regression"},{"page":221,"sentence":"Step 11: Verifying Normality Using the Shapiro-Wilks test, we verify the normality of the residuals"},{"page":221,"sentence":"This test helps in confirming that the residuals are normally distributed, which is an important assumption\nfor linear regression models"},{"page":221,"sentence":"Step 12: Finalizing the Model, Making Interpretations and Predictions After verifying all assump-\ntions and making necessary adjustments, we finalize the model and make interpretations of the model"},{"page":221,"sentence":"The\nfinal step involves using the model to make predictions on new data"},{"page":221,"sentence":"This step demonstrates the practical\napplication of the model and its ability to provide actionable insights"},{"page":221,"sentence":"2"},{"page":221,"sentence":"4 Contributions\nJackson: Developed Project Introduction and Defined objectives, Interpretation and Conclusion\nVenkateshwaran: Expanded the Project Methodology, Categorized the dataset variables and defined the\nworkflow\/Task list for the models being developed and Tested\nSteen:Model with Quantitative variables - Responsible for building the full model with interaction terms\nthat will focus on exploring only the quantitative variables (Age, Current Weight, BMR, Daily Calories\nConsumed, Daily Caloric Surplus\/Deficit, Weight Change, Duration, and Final Weight)"},{"page":221,"sentence":"Harpreet: Model with Qualitative Variables – Concentrate on assessing the roles played by these qualitative\nvariables (Gender, Physical Activity Level, Sleep Quality, and Stress Level) in the model, detailing how they\nmodify or account for differences in the dependent variable"},{"page":221,"sentence":"3"},{"page":222,"sentence":"Aaron: Model with all variables - Responsible for building the full model with interaction terms that will\nfocus on exploring relationships among both qualitative and quantitative variables"},{"page":222,"sentence":"A multiple regression\nmodel with interaction terms will allow them to assess not only the individual impact of each predictor on the\noutcome variable but also to examine how the effect of one predictor might change depending on the levels\nof another (e"},{"page":222,"sentence":"g"},{"page":222,"sentence":", stress level affecting the relationship between physical activity level and weight change)"},{"page":222,"sentence":"3 Main Results of the Analysis\nTo demonstrate the importance of including all variable types in our predictive model, we decided to create\nand compare three models:\n1"},{"page":222,"sentence":"A quantitative model\n2"},{"page":222,"sentence":"A qualitative model\n3"},{"page":222,"sentence":"A model containing quantitative and qualitative variables\nBefore creating any of our models, we made sure the appropriate libraries were uploaded, and the dataset\nwas uploaded"},{"page":222,"sentence":"## Registered S3 method overwritten by ’GGally’:\n## method from\n## +"},{"page":222,"sentence":"gg ggplot2\n## Loading required package: carData\n## Warning: package ’lmtest’ was built under R version 4"},{"page":222,"sentence":"4"},{"page":222,"sentence":"2\n## Loading required package: zoo\n##\n## Attaching package: ’zoo’\n## The following objects are masked from ’package:base’:\n##\n## as"},{"page":222,"sentence":"Date, as"},{"page":222,"sentence":"Date"},{"page":222,"sentence":"numeric\n##\n## Attaching package: ’olsrr’\n## The following object is masked from ’package:MASS’:\n##\n## cement\n## The following object is masked from ’package:datasets’:\n##\n## rivers\n## Warning: package ’Ecdat’ was built under R version 4"},{"page":222,"sentence":"4"},{"page":222,"sentence":"2\n## Loading required package: Ecfun\n4"},{"page":223,"sentence":"## Warning: package ’Ecfun’ was built under R version 4"},{"page":223,"sentence":"4"},{"page":223,"sentence":"2\n##\n## Attaching package: ’Ecfun’\n## The following object is masked from ’package:base’:\n##\n## sign\n##\n## Attaching package: ’Ecdat’\n## The following object is masked from ’package:MASS’:\n##\n## SP500\n## The following object is masked from ’package:carData’:\n##\n## Mroz\n## The following object is masked from ’package:datasets’:\n##\n## Orange\n## Participant"},{"page":223,"sentence":"ID Age Gender Current"},{"page":223,"sentence":"Weight"},{"page":223,"sentence":"lbs"},{"page":223,"sentence":"BMR"},{"page":223,"sentence":"Calories"},{"page":223,"sentence":"## 1 1 56 M 228"},{"page":223,"sentence":"4 3102"},{"page":223,"sentence":"3\n## 2 2 46 F 165"},{"page":223,"sentence":"4 2275"},{"page":223,"sentence":"5\n## 3 3 32 F 142"},{"page":223,"sentence":"8 2119"},{"page":223,"sentence":"4\n## 4 4 25 F 145"},{"page":223,"sentence":"5 2181"},{"page":223,"sentence":"3\n## 5 5 38 M 155"},{"page":223,"sentence":"5 2463"},{"page":223,"sentence":"8\n## 6 6 56 F 152"},{"page":223,"sentence":"9 2100"},{"page":223,"sentence":"6\n## Daily"},{"page":223,"sentence":"Calories"},{"page":223,"sentence":"Consumed Daily"},{"page":223,"sentence":"Caloric"},{"page":223,"sentence":"Surplus"},{"page":223,"sentence":"Deficit Weight"},{"page":223,"sentence":"Change"},{"page":223,"sentence":"lbs"},{"page":223,"sentence":"## 1 3916"},{"page":223,"sentence":"0 813"},{"page":223,"sentence":"7 0"},{"page":223,"sentence":"2000\n## 2 3823"},{"page":223,"sentence":"0 1547"},{"page":223,"sentence":"5 2"},{"page":223,"sentence":"4000\n## 3 2785"},{"page":223,"sentence":"4 666"},{"page":223,"sentence":"0 1"},{"page":223,"sentence":"4000\n## 4 2587"},{"page":223,"sentence":"3 406"},{"page":223,"sentence":"0 0"},{"page":223,"sentence":"8000\n## 5 3312"},{"page":223,"sentence":"8 849"},{"page":223,"sentence":"0 2"},{"page":223,"sentence":"0000\n## 6 2262"},{"page":223,"sentence":"4 161"},{"page":223,"sentence":"9 -12"},{"page":223,"sentence":"5135\n## Duration"},{"page":223,"sentence":"weeks"},{"page":223,"sentence":"Physical"},{"page":223,"sentence":"Activity"},{"page":223,"sentence":"Level Sleep"},{"page":223,"sentence":"Quality Stress"},{"page":223,"sentence":"Level\n## 1 1 Sedentary Excellent 6\n## 2 6 Very Active Excellent 6\n## 3 7 Sedentary Good 3\n## 4 8 Sedentary Fair 2\n## 5 10 Lightly Active Good 1\n## 6 9 Sedentary Poor 6\n## Final"},{"page":223,"sentence":"Weight"},{"page":223,"sentence":"lbs"},{"page":223,"sentence":"## 1 228"},{"page":223,"sentence":"6\n## 2 167"},{"page":223,"sentence":"8\n## 3 144"},{"page":223,"sentence":"2\n## 4 146"},{"page":223,"sentence":"3\n## 5 157"},{"page":223,"sentence":"5\n## 6 140"},{"page":223,"sentence":"4\nIf there is an issue uploading the dataset from the github link that has been used, a copy of the dataset has\nbeen included in our submission, that can be manually uploaded"},{"page":223,"sentence":"5"},{"page":224,"sentence":"3"},{"page":224,"sentence":"1 Quantitative Model\nTo construct our quantitative model, we begin by inspecting our dataset to determine which variables should\nbe included"},{"page":224,"sentence":"## [1] \"Participant"},{"page":224,"sentence":"ID\" \"Age\"\n## [3] \"Gender\" \"Current"},{"page":224,"sentence":"Weight"},{"page":224,"sentence":"lbs"},{"page":224,"sentence":"\"\n## [5] \"BMR"},{"page":224,"sentence":"Calories"},{"page":224,"sentence":"\" \"Daily"},{"page":224,"sentence":"Calories"},{"page":224,"sentence":"Consumed\"\n## [7] \"Daily"},{"page":224,"sentence":"Caloric"},{"page":224,"sentence":"Surplus"},{"page":224,"sentence":"Deficit\" \"Weight"},{"page":224,"sentence":"Change"},{"page":224,"sentence":"lbs"},{"page":224,"sentence":"\"\n## [9] \"Duration"},{"page":224,"sentence":"weeks"},{"page":224,"sentence":"\" \"Physical"},{"page":224,"sentence":"Activity"},{"page":224,"sentence":"Level\"\n## [11] \"Sleep"},{"page":224,"sentence":"Quality\" \"Stress"},{"page":224,"sentence":"Level\"\n## [13] \"Final"},{"page":224,"sentence":"Weight"},{"page":224,"sentence":"lbs"},{"page":224,"sentence":"\"\nVariables under consideration:\n[1] “Participant"},{"page":224,"sentence":"ID”\n[2] “Age”\n[3] “Gender”\n[4] “Current"},{"page":224,"sentence":"Weight"},{"page":224,"sentence":"lbs"},{"page":224,"sentence":"”\n[5] “BMR"},{"page":224,"sentence":"Calories"},{"page":224,"sentence":"”\n[6] “Daily"},{"page":224,"sentence":"Calories"},{"page":224,"sentence":"Consumed”\n[7] “Daily"},{"page":224,"sentence":"Caloric"},{"page":224,"sentence":"Surplus"},{"page":224,"sentence":"Deficit” [8] “Weight"},{"page":224,"sentence":"Change"},{"page":224,"sentence":"lbs"},{"page":224,"sentence":"”\n[9] “Duration"},{"page":224,"sentence":"weeks"},{"page":224,"sentence":"”\n[10] “Physical"},{"page":224,"sentence":"Activity"},{"page":224,"sentence":"Level”\n[11] “Sleep"},{"page":224,"sentence":"Quality”\n[12] “Stress"},{"page":224,"sentence":"Level”\n[13] “Final"},{"page":224,"sentence":"Weight"},{"page":224,"sentence":"lbs"},{"page":224,"sentence":"”\nWe will begin by excluding Participant"},{"page":224,"sentence":"ID and any qualitative variables, leaving us with:\n[1] “Age”\n[2] “Current"},{"page":224,"sentence":"Weight"},{"page":224,"sentence":"lbs"},{"page":224,"sentence":"”\n[3] “BMR"},{"page":224,"sentence":"Calories"},{"page":224,"sentence":"”\n[4] “Daily"},{"page":224,"sentence":"Calories"},{"page":224,"sentence":"Consumed”\n[5] “Daily"},{"page":224,"sentence":"Caloric"},{"page":224,"sentence":"Surplus"},{"page":224,"sentence":"Deficit” [6] “Weight"},{"page":224,"sentence":"Change"},{"page":224,"sentence":"lbs"},{"page":224,"sentence":"”\n[7] “Duration"},{"page":224,"sentence":"weeks"},{"page":224,"sentence":"”\n[8] “Final"},{"page":224,"sentence":"Weight"},{"page":224,"sentence":"lbs"},{"page":224,"sentence":"”\nWe will then test that at least one of our predictors is significant using the following hypothesis:\nH0:β1=β2="},{"page":224,"sentence":"=βi= 0(i=1,2,"},{"page":224,"sentence":",p)\nHa:At least one βi̸= 0(i=1,2,"},{"page":224,"sentence":",p)\n##\n## Call:\n## lm(formula = Weight"},{"page":224,"sentence":"Change"},{"page":224,"sentence":"lbs"},{"page":224,"sentence":"~ Age + Current"},{"page":224,"sentence":"Weight"},{"page":224,"sentence":"lbs"},{"page":224,"sentence":"+\n## BMR"},{"page":224,"sentence":"Calories"},{"page":224,"sentence":"+ Daily"},{"page":224,"sentence":"Calories"},{"page":224,"sentence":"Consumed + Daily"},{"page":224,"sentence":"Caloric"},{"page":224,"sentence":"Surplus"},{"page":224,"sentence":"Deficit +\n## Duration"},{"page":224,"sentence":"weeks"},{"page":224,"sentence":"+ Final"},{"page":224,"sentence":"Weight"},{"page":224,"sentence":"lbs"},{"page":224,"sentence":", data = weight)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -0"},{"page":224,"sentence":"054593 -0"},{"page":224,"sentence":"006195 -0"},{"page":224,"sentence":"000756 0"},{"page":224,"sentence":"004415 0"},{"page":224,"sentence":"047691\n##\n## Coefficients:\n## Estimate Std"},{"page":224,"sentence":"Error t value Pr(>|t|)\n## (Intercept) 1"},{"page":224,"sentence":"454e-02 2"},{"page":224,"sentence":"121e-02 0"},{"page":224,"sentence":"685 0"},{"page":224,"sentence":"495\n6"},{"page":225,"sentence":"## Age -2"},{"page":225,"sentence":"411e-05 2"},{"page":225,"sentence":"024e-04 -0"},{"page":225,"sentence":"119 0"},{"page":225,"sentence":"905\n## Current"},{"page":225,"sentence":"Weight"},{"page":225,"sentence":"lbs"},{"page":225,"sentence":"-9"},{"page":225,"sentence":"996e-01 3"},{"page":225,"sentence":"647e-04 -2740"},{"page":225,"sentence":"998 <2e-16 ***\n## BMR"},{"page":225,"sentence":"Calories"},{"page":225,"sentence":"-3"},{"page":225,"sentence":"607e-02 5"},{"page":225,"sentence":"307e-02 -0"},{"page":225,"sentence":"680 0"},{"page":225,"sentence":"498\n## Daily"},{"page":225,"sentence":"Calories"},{"page":225,"sentence":"Consumed 3"},{"page":225,"sentence":"607e-02 5"},{"page":225,"sentence":"307e-02 0"},{"page":225,"sentence":"680 0"},{"page":225,"sentence":"498\n## Daily"},{"page":225,"sentence":"Caloric"},{"page":225,"sentence":"Surplus"},{"page":225,"sentence":"Deficit -3"},{"page":225,"sentence":"606e-02 5"},{"page":225,"sentence":"307e-02 -0"},{"page":225,"sentence":"680 0"},{"page":225,"sentence":"499\n## Duration"},{"page":225,"sentence":"weeks"},{"page":225,"sentence":"-3"},{"page":225,"sentence":"329e-05 6"},{"page":225,"sentence":"211e-04 -0"},{"page":225,"sentence":"054 0"},{"page":225,"sentence":"957\n## Final"},{"page":225,"sentence":"Weight"},{"page":225,"sentence":"lbs"},{"page":225,"sentence":"9"},{"page":225,"sentence":"996e-01 2"},{"page":225,"sentence":"915e-04 3429"},{"page":225,"sentence":"410 <2e-16 ***\n## ---\n## Signif"},{"page":225,"sentence":"codes: 0 ’***’ 0"},{"page":225,"sentence":"001 ’**’ 0"},{"page":225,"sentence":"01 ’*’ 0"},{"page":225,"sentence":"05 ’"},{"page":225,"sentence":"’ 0"},{"page":225,"sentence":"1 ’ ’ 1\n##\n## Residual standard error: 0"},{"page":225,"sentence":"02119 on 92 degrees of freedom\n## Multiple R-squared: 1, Adjusted R-squared: 1\n## F-statistic: 1"},{"page":225,"sentence":"746e+06 on 7 and 92 DF, p-value: < 2"},{"page":225,"sentence":"2e-16\nThe predictors Current"},{"page":225,"sentence":"Weight"},{"page":225,"sentence":"lbs"},{"page":225,"sentence":"and Final"},{"page":225,"sentence":"Weight"},{"page":225,"sentence":"lbs"},{"page":225,"sentence":"are highly significant but when used in relation\nto Weight"},{"page":225,"sentence":"Change"},{"page":225,"sentence":"lbs"},{"page":225,"sentence":"are too correlated"},{"page":225,"sentence":"Hence, we will remove them because weight change is calculated\nusing the current weight and the final weight"},{"page":225,"sentence":"##\n## Call:\n## lm(formula = Weight"},{"page":225,"sentence":"Change"},{"page":225,"sentence":"lbs"},{"page":225,"sentence":"~ Age + BMR"},{"page":225,"sentence":"Calories"},{"page":225,"sentence":"+ Daily"},{"page":225,"sentence":"Calories"},{"page":225,"sentence":"Consumed +\n## Daily"},{"page":225,"sentence":"Caloric"},{"page":225,"sentence":"Surplus"},{"page":225,"sentence":"Deficit + Duration"},{"page":225,"sentence":"weeks"},{"page":225,"sentence":", data = weight)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -30"},{"page":225,"sentence":"924 -2"},{"page":225,"sentence":"704 1"},{"page":225,"sentence":"683 4"},{"page":225,"sentence":"674 9"},{"page":225,"sentence":"202\n##\n## Coefficients:\n## Estimate Std"},{"page":225,"sentence":"Error t value Pr(>|t|)\n## (Intercept) 3"},{"page":225,"sentence":"24270 6"},{"page":225,"sentence":"78058 0"},{"page":225,"sentence":"478 0"},{"page":225,"sentence":"634\n## Age 0"},{"page":225,"sentence":"02333 0"},{"page":225,"sentence":"06373 0"},{"page":225,"sentence":"366 0"},{"page":225,"sentence":"715\n## BMR"},{"page":225,"sentence":"Calories"},{"page":225,"sentence":"-13"},{"page":225,"sentence":"79019 18"},{"page":225,"sentence":"71243 -0"},{"page":225,"sentence":"737 0"},{"page":225,"sentence":"463\n## Daily"},{"page":225,"sentence":"Calories"},{"page":225,"sentence":"Consumed 13"},{"page":225,"sentence":"78798 18"},{"page":225,"sentence":"71224 0"},{"page":225,"sentence":"737 0"},{"page":225,"sentence":"463\n## Daily"},{"page":225,"sentence":"Caloric"},{"page":225,"sentence":"Surplus"},{"page":225,"sentence":"Deficit -13"},{"page":225,"sentence":"78740 18"},{"page":225,"sentence":"71234 -0"},{"page":225,"sentence":"737 0"},{"page":225,"sentence":"463\n## Duration"},{"page":225,"sentence":"weeks"},{"page":225,"sentence":"-0"},{"page":225,"sentence":"26693 0"},{"page":225,"sentence":"21795 -1"},{"page":225,"sentence":"225 0"},{"page":225,"sentence":"224\n##\n## Residual standard error: 7"},{"page":225,"sentence":"495 on 94 degrees of freedom\n## Multiple R-squared: 0"},{"page":225,"sentence":"03738, Adjusted R-squared: -0"},{"page":225,"sentence":"01382\n## F-statistic: 0"},{"page":225,"sentence":"7301 on 5 and 94 DF, p-value: 0"},{"page":225,"sentence":"6026\nAfter removing Current"},{"page":225,"sentence":"Weight"},{"page":225,"sentence":"lbs"},{"page":225,"sentence":"and Final"},{"page":225,"sentence":"Weight"},{"page":225,"sentence":"lbs, we see no statistically significant predictors and\nwe have an adjusted R2of -0"},{"page":225,"sentence":"01382 which suggests that the remaining predictors have limited explanatory\nvalue"},{"page":225,"sentence":"This low adjusted R2indicates that more refinement is needed"},{"page":225,"sentence":"As we are still uncertain whether the model has multicollinearity, we will now test the remaining variables\nfor that"},{"page":225,"sentence":"## Age BMR"},{"page":225,"sentence":"Calories"},{"page":225,"sentence":"## 1"},{"page":225,"sentence":"068859e+00 8"},{"page":225,"sentence":"195700e+07\n## Daily"},{"page":225,"sentence":"Calories"},{"page":225,"sentence":"Consumed Daily"},{"page":225,"sentence":"Caloric"},{"page":225,"sentence":"Surplus"},{"page":225,"sentence":"Deficit\n## 1"},{"page":225,"sentence":"625962e+08 8"},{"page":225,"sentence":"519425e+07\n## Duration"},{"page":225,"sentence":"weeks"},{"page":225,"sentence":"## 1"},{"page":225,"sentence":"034519e+00\n7"},{"page":226,"sentence":"##\n## Call:\n## imcdiag(mod = quant_weight_model_take2, method = \"VIF\")\n##\n##\n## VIF Multicollinearity Diagnostics\n##\n## VIF detection\n## Age 1"},{"page":226,"sentence":"068900e+00 0\n## BMR"},{"page":226,"sentence":"Calories"},{"page":226,"sentence":"8"},{"page":226,"sentence":"195700e+07 1\n## Daily"},{"page":226,"sentence":"Calories"},{"page":226,"sentence":"Consumed 1"},{"page":226,"sentence":"625962e+08 1\n## Daily"},{"page":226,"sentence":"Caloric"},{"page":226,"sentence":"Surplus"},{"page":226,"sentence":"Deficit 8"},{"page":226,"sentence":"519425e+07 1\n## Duration"},{"page":226,"sentence":"weeks"},{"page":226,"sentence":"1"},{"page":226,"sentence":"034500e+00 0\n##\n## Multicollinearity may be due to BMR"},{"page":226,"sentence":"Calories"},{"page":226,"sentence":"Daily"},{"page":226,"sentence":"Calories"},{"page":226,"sentence":"Consumed Daily"},{"page":226,"sentence":"Caloric"},{"page":226,"sentence":"Surplus"},{"page":226,"sentence":"Deficit regressors\n##\n## 1 --> COLLINEARITY is detected by the test\n## 0 --> COLLINEARITY is not detected by the test\n##\n## ===================================\nAfter checking the VIF, we have the result: Age = 1"},{"page":226,"sentence":"068859, BMR"},{"page":226,"sentence":"Calories"},{"page":226,"sentence":"= 8"},{"page":226,"sentence":"185700×107,\nDaily"},{"page":226,"sentence":"Calories"},{"page":226,"sentence":"Consumed = 1"},{"page":226,"sentence":"625962×108, Daily"},{"page":226,"sentence":"Caloric"},{"page":226,"sentence":"Surplus"},{"page":226,"sentence":"Deficit = 8"},{"page":226,"sentence":"519425×107, and Dura-\ntion"},{"page":226,"sentence":"weeks"},{"page":226,"sentence":"= 1"},{"page":226,"sentence":"034519"},{"page":226,"sentence":"Values greater than 10 suggest severe multicollinearity, hence BMR"},{"page":226,"sentence":"Calories"},{"page":226,"sentence":",\nDaily"},{"page":226,"sentence":"Calories"},{"page":226,"sentence":"Consumed, and Daily"},{"page":226,"sentence":"Caloric"},{"page":226,"sentence":"Surplus"},{"page":226,"sentence":"Deficit are caught in VIF detection and need to be ad-\ndressed"},{"page":226,"sentence":"Based on our data dictionary we can see that Daily"},{"page":226,"sentence":"Caloric"},{"page":226,"sentence":"Surplus"},{"page":226,"sentence":"Deficit is the difference between\nDaily"},{"page":226,"sentence":"Calories"},{"page":226,"sentence":"Consumed and BMR"},{"page":226,"sentence":"Calories"},{"page":226,"sentence":", therefore we have chosen to keep Daily"},{"page":226,"sentence":"Caloric"},{"page":226,"sentence":"Surplus"},{"page":226,"sentence":"Deficit\nwhile removing the other two variables"},{"page":226,"sentence":"Leaving us with the model below:\n##\n## Call:\n## lm(formula = Weight"},{"page":226,"sentence":"Change"},{"page":226,"sentence":"lbs"},{"page":226,"sentence":"~ Age + Daily"},{"page":226,"sentence":"Caloric"},{"page":226,"sentence":"Surplus"},{"page":226,"sentence":"Deficit +\n## Duration"},{"page":226,"sentence":"weeks"},{"page":226,"sentence":", data = weight)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -31"},{"page":226,"sentence":"819 -2"},{"page":226,"sentence":"310 1"},{"page":226,"sentence":"403 4"},{"page":226,"sentence":"602 9"},{"page":226,"sentence":"156\n##\n## Coefficients:\n## Estimate Std"},{"page":226,"sentence":"Error t value Pr(>|t|)\n## (Intercept) -2"},{"page":226,"sentence":"6238347 3"},{"page":226,"sentence":"4349578 -0"},{"page":226,"sentence":"764 0"},{"page":226,"sentence":"447\n## Age 0"},{"page":226,"sentence":"0298644 0"},{"page":226,"sentence":"0618788 0"},{"page":226,"sentence":"483 0"},{"page":226,"sentence":"630\n## Daily"},{"page":226,"sentence":"Caloric"},{"page":226,"sentence":"Surplus"},{"page":226,"sentence":"Deficit 0"},{"page":226,"sentence":"0006742 0"},{"page":226,"sentence":"0020356 0"},{"page":226,"sentence":"331 0"},{"page":226,"sentence":"741\n## Duration"},{"page":226,"sentence":"weeks"},{"page":226,"sentence":"-0"},{"page":226,"sentence":"2835862 0"},{"page":226,"sentence":"2155103 -1"},{"page":226,"sentence":"316 0"},{"page":226,"sentence":"191\n##\n## Residual standard error: 7"},{"page":226,"sentence":"475 on 96 degrees of freedom\n## Multiple R-squared: 0"},{"page":226,"sentence":"02201, Adjusted R-squared: -0"},{"page":226,"sentence":"008555\n## F-statistic: 0"},{"page":226,"sentence":"7201 on 3 and 96 DF, p-value: 0"},{"page":226,"sentence":"5424\nFrom our output we can see that the p-value of our model is quite large, at 0"},{"page":226,"sentence":"5424, and none of our predictors\nour significant"},{"page":226,"sentence":"We can attempt a stepwise selection to see if any predictors should be included"},{"page":226,"sentence":"NOTEThe codeline below is only included to demonstrate the code that was used"},{"page":226,"sentence":"The output returns an\nerror indicating that none of the variables are appropriate to select"},{"page":226,"sentence":"8"},{"page":227,"sentence":"#stepmod=ols_step_both_p(quant_weight_model_take3, p_enter=0"},{"page":227,"sentence":"05,p_remove=0"},{"page":227,"sentence":"3,details=TRUE)\nBased on our output, the large p-value of our model, and the fact that no predictors have a p-value < 0"},{"page":227,"sentence":"05,\nwe conclude that this model is not significantly different than a model with no predictors"},{"page":227,"sentence":"This suggests\nthat we should attempt other modelling approaches, such as a generalized additive model"},{"page":227,"sentence":"However, as this\nis not covered in the scope of our course, we will simply conclude that using only the quantitative variables\nis not a good method for determining weight change given our dataset"},{"page":227,"sentence":"3"},{"page":227,"sentence":"2 Qualitative Model\n## Participant"},{"page":227,"sentence":"ID Age Gender Current"},{"page":227,"sentence":"Weight"},{"page":227,"sentence":"lbs"},{"page":227,"sentence":"BMR"},{"page":227,"sentence":"Calories"},{"page":227,"sentence":"## 1 1 56 M 228"},{"page":227,"sentence":"4 3102"},{"page":227,"sentence":"3\n## 2 2 46 F 165"},{"page":227,"sentence":"4 2275"},{"page":227,"sentence":"5\n## 3 3 32 F 142"},{"page":227,"sentence":"8 2119"},{"page":227,"sentence":"4\n## 4 4 25 F 145"},{"page":227,"sentence":"5 2181"},{"page":227,"sentence":"3\n## 5 5 38 M 155"},{"page":227,"sentence":"5 2463"},{"page":227,"sentence":"8\n## 6 6 56 F 152"},{"page":227,"sentence":"9 2100"},{"page":227,"sentence":"6\n## Daily"},{"page":227,"sentence":"Calories"},{"page":227,"sentence":"Consumed Daily"},{"page":227,"sentence":"Caloric"},{"page":227,"sentence":"Surplus"},{"page":227,"sentence":"Deficit Weight"},{"page":227,"sentence":"Change"},{"page":227,"sentence":"lbs"},{"page":227,"sentence":"## 1 3916"},{"page":227,"sentence":"0 813"},{"page":227,"sentence":"7 0"},{"page":227,"sentence":"2000\n## 2 3823"},{"page":227,"sentence":"0 1547"},{"page":227,"sentence":"5 2"},{"page":227,"sentence":"4000\n## 3 2785"},{"page":227,"sentence":"4 666"},{"page":227,"sentence":"0 1"},{"page":227,"sentence":"4000\n## 4 2587"},{"page":227,"sentence":"3 406"},{"page":227,"sentence":"0 0"},{"page":227,"sentence":"8000\n## 5 3312"},{"page":227,"sentence":"8 849"},{"page":227,"sentence":"0 2"},{"page":227,"sentence":"0000\n## 6 2262"},{"page":227,"sentence":"4 161"},{"page":227,"sentence":"9 -12"},{"page":227,"sentence":"5135\n## Duration"},{"page":227,"sentence":"weeks"},{"page":227,"sentence":"Physical"},{"page":227,"sentence":"Activity"},{"page":227,"sentence":"Level Sleep"},{"page":227,"sentence":"Quality Stress"},{"page":227,"sentence":"Level\n## 1 1 Sedentary Excellent 6\n## 2 6 Very Active Excellent 6\n## 3 7 Sedentary Good 3\n## 4 8 Sedentary Fair 2\n## 5 10 Lightly Active Good 1\n## 6 9 Sedentary Poor 6\n## Final"},{"page":227,"sentence":"Weight"},{"page":227,"sentence":"lbs"},{"page":227,"sentence":"## 1 228"},{"page":227,"sentence":"6\n## 2 167"},{"page":227,"sentence":"8\n## 3 144"},{"page":227,"sentence":"2\n## 4 146"},{"page":227,"sentence":"3\n## 5 157"},{"page":227,"sentence":"5\n## 6 140"},{"page":227,"sentence":"4\nMeet our, 100 participants who has decided to embark on a transformative journey to improve their health\nand well-being"},{"page":227,"sentence":"They are determined to contribute to body test which is going to be really helpful in the\nhealth department to understand how various lifestyle factors influence the body weight"},{"page":227,"sentence":"For the purposes of this section, we will be creating a model that focuses on qualitative variables, starting\nwith the following variables -\n1"},{"page":227,"sentence":"Gender- M or F\n2"},{"page":227,"sentence":"Physical"},{"page":227,"sentence":"Activity"},{"page":227,"sentence":"Level\n3"},{"page":227,"sentence":"Sleep"},{"page":227,"sentence":"Quality\n4"},{"page":227,"sentence":"Stress"},{"page":227,"sentence":"Level\nBoth genders commits to track their progress with how their physical activity level is throughout that period\nof time"},{"page":227,"sentence":"Additionally, mental aspects were recorded such as their sleep quality and stress levels"},{"page":227,"sentence":"9"},{"page":228,"sentence":"We can determine whether our model contains any significant predictors using the hypothesis:\nH0:β1=β2="},{"page":228,"sentence":"=βi= 0(i=1,2,"},{"page":228,"sentence":",p)\nHa:At least one βi̸= 0(i=1,2,"},{"page":228,"sentence":",p)\n#Full Model\n##\n## Call:\n## lm(formula = Weight"},{"page":228,"sentence":"Change"},{"page":228,"sentence":"lbs"},{"page":228,"sentence":"~ factor(Gender) + factor(Physical"},{"page":228,"sentence":"Activity"},{"page":228,"sentence":"Level) +\n## factor(Sleep"},{"page":228,"sentence":"Quality) + factor(Stress"},{"page":228,"sentence":"Level), data = weight)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -19"},{"page":228,"sentence":"313 -1"},{"page":228,"sentence":"369 -0"},{"page":228,"sentence":"074 2"},{"page":228,"sentence":"093 12"},{"page":228,"sentence":"709\n##\n## Coefficients:\n## Estimate Std"},{"page":228,"sentence":"Error t value\n## (Intercept) 1"},{"page":228,"sentence":"7189 1"},{"page":228,"sentence":"8081 0"},{"page":228,"sentence":"951\n## factor(Gender)M -0"},{"page":228,"sentence":"8365 0"},{"page":228,"sentence":"9712 -0"},{"page":228,"sentence":"861\n## factor(Physical"},{"page":228,"sentence":"Activity"},{"page":228,"sentence":"Level)Moderately Active 0"},{"page":228,"sentence":"0540 1"},{"page":228,"sentence":"2103 0"},{"page":228,"sentence":"045\n## factor(Physical"},{"page":228,"sentence":"Activity"},{"page":228,"sentence":"Level)Sedentary -0"},{"page":228,"sentence":"6371 1"},{"page":228,"sentence":"2509 -0"},{"page":228,"sentence":"509\n## factor(Physical"},{"page":228,"sentence":"Activity"},{"page":228,"sentence":"Level)Very Active 1"},{"page":228,"sentence":"4788 1"},{"page":228,"sentence":"2152 1"},{"page":228,"sentence":"217\n## factor(Sleep"},{"page":228,"sentence":"Quality)Fair 0"},{"page":228,"sentence":"5978 1"},{"page":228,"sentence":"3964 0"},{"page":228,"sentence":"428\n## factor(Sleep"},{"page":228,"sentence":"Quality)Good 1"},{"page":228,"sentence":"1141 1"},{"page":228,"sentence":"4241 0"},{"page":228,"sentence":"782\n## factor(Sleep"},{"page":228,"sentence":"Quality)Poor -8"},{"page":228,"sentence":"1191 1"},{"page":228,"sentence":"2927 -6"},{"page":228,"sentence":"281\n## factor(Stress"},{"page":228,"sentence":"Level)2 0"},{"page":228,"sentence":"2977 1"},{"page":228,"sentence":"7632 0"},{"page":228,"sentence":"169\n## factor(Stress"},{"page":228,"sentence":"Level)3 1"},{"page":228,"sentence":"2671 1"},{"page":228,"sentence":"7525 0"},{"page":228,"sentence":"723\n## factor(Stress"},{"page":228,"sentence":"Level)4 1"},{"page":228,"sentence":"5876 2"},{"page":228,"sentence":"0526 0"},{"page":228,"sentence":"773\n## factor(Stress"},{"page":228,"sentence":"Level)5 1"},{"page":228,"sentence":"8938 1"},{"page":228,"sentence":"8458 1"},{"page":228,"sentence":"026\n## factor(Stress"},{"page":228,"sentence":"Level)6 -0"},{"page":228,"sentence":"2817 1"},{"page":228,"sentence":"7490 -0"},{"page":228,"sentence":"161\n## factor(Stress"},{"page":228,"sentence":"Level)7 -0"},{"page":228,"sentence":"2628 1"},{"page":228,"sentence":"8777 -0"},{"page":228,"sentence":"140\n## factor(Stress"},{"page":228,"sentence":"Level)8 -10"},{"page":228,"sentence":"8574 1"},{"page":228,"sentence":"8308 -5"},{"page":228,"sentence":"930\n## factor(Stress"},{"page":228,"sentence":"Level)9 -9"},{"page":228,"sentence":"1820 1"},{"page":228,"sentence":"8864 -4"},{"page":228,"sentence":"867\n## Pr(>|t|)\n## (Intercept) 0"},{"page":228,"sentence":"344\n## factor(Gender)M 0"},{"page":228,"sentence":"392\n## factor(Physical"},{"page":228,"sentence":"Activity"},{"page":228,"sentence":"Level)Moderately Active 0"},{"page":228,"sentence":"965\n## factor(Physical"},{"page":228,"sentence":"Activity"},{"page":228,"sentence":"Level)Sedentary 0"},{"page":228,"sentence":"612\n## factor(Physical"},{"page":228,"sentence":"Activity"},{"page":228,"sentence":"Level)Very Active 0"},{"page":228,"sentence":"227\n## factor(Sleep"},{"page":228,"sentence":"Quality)Fair 0"},{"page":228,"sentence":"670\n## factor(Sleep"},{"page":228,"sentence":"Quality)Good 0"},{"page":228,"sentence":"436\n## factor(Sleep"},{"page":228,"sentence":"Quality)Poor 1"},{"page":228,"sentence":"42e-08 ***\n## factor(Stress"},{"page":228,"sentence":"Level)2 0"},{"page":228,"sentence":"866\n## factor(Stress"},{"page":228,"sentence":"Level)3 0"},{"page":228,"sentence":"472\n## factor(Stress"},{"page":228,"sentence":"Level)4 0"},{"page":228,"sentence":"441\n## factor(Stress"},{"page":228,"sentence":"Level)5 0"},{"page":228,"sentence":"308\n## factor(Stress"},{"page":228,"sentence":"Level)6 0"},{"page":228,"sentence":"872\n## factor(Stress"},{"page":228,"sentence":"Level)7 0"},{"page":228,"sentence":"889\n## factor(Stress"},{"page":228,"sentence":"Level)8 6"},{"page":228,"sentence":"50e-08 ***\n## factor(Stress"},{"page":228,"sentence":"Level)9 5"},{"page":228,"sentence":"23e-06 ***\n## ---\n## Signif"},{"page":228,"sentence":"codes: 0 ’***’ 0"},{"page":228,"sentence":"001 ’**’ 0"},{"page":228,"sentence":"01 ’*’ 0"},{"page":228,"sentence":"05 ’"},{"page":228,"sentence":"’ 0"},{"page":228,"sentence":"1 ’ ’ 1\n##\n## Residual standard error: 4"},{"page":228,"sentence":"159 on 84 degrees of freedom\n10"},{"page":229,"sentence":"## Multiple R-squared: 0"},{"page":229,"sentence":"7351, Adjusted R-squared: 0"},{"page":229,"sentence":"6878\n## F-statistic: 15"},{"page":229,"sentence":"54 on 15 and 84 DF, p-value: < 2"},{"page":229,"sentence":"2e-16\nBased on our output, we can see that there is at least on predictor with a p-value < 0"},{"page":229,"sentence":"05, allowing us to\nreject the null hypothesis and conclude that at least one predictor is significant"},{"page":229,"sentence":"To determine which predictors are significant, we can test the hypothesis:\nH0:βi= 0(i=1,2,"},{"page":229,"sentence":",p)\nHa:βi̸= 0(i=1,2,"},{"page":229,"sentence":",p)\nFrom our output above we can see that the predictors Sleep"},{"page":229,"sentence":"Quality and Stress"},{"page":229,"sentence":"Level contain at least one\nfactor with a p-value < 0"},{"page":229,"sentence":"05"},{"page":229,"sentence":"We therefore reject the null hypothesis and conclude that Sleep"},{"page":229,"sentence":"Quality and\nStress"},{"page":229,"sentence":"Level significantly affect weight change and should be included in our model"},{"page":229,"sentence":"##\n## Call:\n## lm(formula = Weight"},{"page":229,"sentence":"Change"},{"page":229,"sentence":"lbs"},{"page":229,"sentence":"~ factor(Sleep"},{"page":229,"sentence":"Quality) + factor(Stress"},{"page":229,"sentence":"Level),\n## data = weight)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -20"},{"page":229,"sentence":"0668 -1"},{"page":229,"sentence":"5978 -0"},{"page":229,"sentence":"1951 2"},{"page":229,"sentence":"0673 14"},{"page":229,"sentence":"2170\n##\n## Coefficients:\n## Estimate Std"},{"page":229,"sentence":"Error t value Pr(>|t|)\n## (Intercept) 1"},{"page":229,"sentence":"66777 1"},{"page":229,"sentence":"64232 1"},{"page":229,"sentence":"015 0"},{"page":229,"sentence":"313\n## factor(Sleep"},{"page":229,"sentence":"Quality)Fair 0"},{"page":229,"sentence":"66673 1"},{"page":229,"sentence":"37884 0"},{"page":229,"sentence":"484 0"},{"page":229,"sentence":"630\n## factor(Sleep"},{"page":229,"sentence":"Quality)Good 0"},{"page":229,"sentence":"86678 1"},{"page":229,"sentence":"41286 0"},{"page":229,"sentence":"613 0"},{"page":229,"sentence":"541\n## factor(Sleep"},{"page":229,"sentence":"Quality)Poor -7"},{"page":229,"sentence":"89997 1"},{"page":229,"sentence":"28104 -6"},{"page":229,"sentence":"167 2"},{"page":229,"sentence":"06e-08 ***\n## factor(Stress"},{"page":229,"sentence":"Level)2 -0"},{"page":229,"sentence":"16713 1"},{"page":229,"sentence":"69144 -0"},{"page":229,"sentence":"099 0"},{"page":229,"sentence":"922\n## factor(Stress"},{"page":229,"sentence":"Level)3 0"},{"page":229,"sentence":"72075 1"},{"page":229,"sentence":"68828 0"},{"page":229,"sentence":"427 0"},{"page":229,"sentence":"670\n## factor(Stress"},{"page":229,"sentence":"Level)4 1"},{"page":229,"sentence":"12429 2"},{"page":229,"sentence":"01231 0"},{"page":229,"sentence":"559 0"},{"page":229,"sentence":"578\n## factor(Stress"},{"page":229,"sentence":"Level)5 1"},{"page":229,"sentence":"45804 1"},{"page":229,"sentence":"78473 0"},{"page":229,"sentence":"817 0"},{"page":229,"sentence":"416\n## factor(Stress"},{"page":229,"sentence":"Level)6 -0"},{"page":229,"sentence":"05374 1"},{"page":229,"sentence":"71822 -0"},{"page":229,"sentence":"031 0"},{"page":229,"sentence":"975\n## factor(Stress"},{"page":229,"sentence":"Level)7 -0"},{"page":229,"sentence":"14142 1"},{"page":229,"sentence":"82197 -0"},{"page":229,"sentence":"078 0"},{"page":229,"sentence":"938\n## factor(Stress"},{"page":229,"sentence":"Level)8 -11"},{"page":229,"sentence":"34225 1"},{"page":229,"sentence":"77596 -6"},{"page":229,"sentence":"387 7"},{"page":229,"sentence":"78e-09 ***\n## factor(Stress"},{"page":229,"sentence":"Level)9 -9"},{"page":229,"sentence":"37917 1"},{"page":229,"sentence":"86760 -5"},{"page":229,"sentence":"022 2"},{"page":229,"sentence":"65e-06 ***\n## ---\n## Signif"},{"page":229,"sentence":"codes: 0 ’***’ 0"},{"page":229,"sentence":"001 ’**’ 0"},{"page":229,"sentence":"01 ’*’ 0"},{"page":229,"sentence":"05 ’"},{"page":229,"sentence":"’ 0"},{"page":229,"sentence":"1 ’ ’ 1\n##\n## Residual standard error: 4"},{"page":229,"sentence":"145 on 88 degrees of freedom\n## Multiple R-squared: 0"},{"page":229,"sentence":"7244, Adjusted R-squared: 0"},{"page":229,"sentence":"69\n## F-statistic: 21"},{"page":229,"sentence":"03 on 11 and 88 DF, p-value: < 2"},{"page":229,"sentence":"2e-16\nFrom our output we can see that our refined model has a slightly better Adjusted R-squared (0"},{"page":229,"sentence":"69) than\nthe full model (0"},{"page":229,"sentence":"6878), indicating an improvement in model simplicity and explanatory power"},{"page":229,"sentence":"The variables factor(Sleep"},{"page":229,"sentence":"Quality)Poor ,factor(Stress"},{"page":229,"sentence":"Level)8 , andfactor(Stress"},{"page":229,"sentence":"Level)9 remain\nhighly significant and have the greatest impact on weight change"},{"page":229,"sentence":"Ton ensure no issues with multicollinearity we can run a VIF test on our model\n## GVIF Df GVIF^(1\/(2*Df))\n## factor(Sleep"},{"page":229,"sentence":"Quality) 1"},{"page":229,"sentence":"227473 3 1"},{"page":229,"sentence":"034750\n## factor(Stress"},{"page":229,"sentence":"Level) 1"},{"page":229,"sentence":"227473 8 1"},{"page":229,"sentence":"012892\n11"},{"page":230,"sentence":"##\n## Call:\n## imcdiag(mod = weight_refined_model, method = \"VIF\")\n##\n##\n## VIF Multicollinearity Diagnostics\n##\n## VIF detection\n## factor(Sleep"},{"page":230,"sentence":"Quality)Fair 2"},{"page":230,"sentence":"0186 0\n## factor(Sleep"},{"page":230,"sentence":"Quality)Good 1"},{"page":230,"sentence":"9939 0\n## factor(Sleep"},{"page":230,"sentence":"Quality)Poor 2"},{"page":230,"sentence":"2506 0\n## factor(Stress"},{"page":230,"sentence":"Level)2 2"},{"page":230,"sentence":"0051 0\n## factor(Stress"},{"page":230,"sentence":"Level)3 1"},{"page":230,"sentence":"9976 0\n## factor(Stress"},{"page":230,"sentence":"Level)4 1"},{"page":230,"sentence":"5345 0\n## factor(Stress"},{"page":230,"sentence":"Level)5 1"},{"page":230,"sentence":"8152 0\n## factor(Stress"},{"page":230,"sentence":"Level)6 1"},{"page":230,"sentence":"9436 0\n## factor(Stress"},{"page":230,"sentence":"Level)7 1"},{"page":230,"sentence":"7391 0\n## factor(Stress"},{"page":230,"sentence":"Level)8 1"},{"page":230,"sentence":"7974 0\n## factor(Stress"},{"page":230,"sentence":"Level)9 1"},{"page":230,"sentence":"6628 0\n##\n## NOTE: VIF Method Failed to detect multicollinearity\n##\n##\n## 0 --> COLLINEARITY is not detected by the test\n##\n## ===================================\nFrom our output we can see that the VIF is less than 5 so all predictors are kept as there is no indication of\nsignificant multicollinearity"},{"page":230,"sentence":"Now that we have concluded the absence of multicollinearity, we can begin strengthening our model"},{"page":230,"sentence":"To\nbegin, we will look at adding interaction terms"},{"page":230,"sentence":"Interaction terms are useful when we suspect that the effect\nof one predictor on the response variable depends on the level of another predictor"},{"page":230,"sentence":"##\n## Call:\n## lm(formula = Weight"},{"page":230,"sentence":"Change"},{"page":230,"sentence":"lbs"},{"page":230,"sentence":"~ (factor(Sleep"},{"page":230,"sentence":"Quality) + factor(Stress"},{"page":230,"sentence":"Level))^2,\n## data = weight)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -17"},{"page":230,"sentence":"509 -1"},{"page":230,"sentence":"190 0"},{"page":230,"sentence":"000 1"},{"page":230,"sentence":"251 16"},{"page":230,"sentence":"775\n##\n## Coefficients: (2 not defined because of singularities)\n## Estimate Std"},{"page":230,"sentence":"Error t value\n## (Intercept) 0"},{"page":230,"sentence":"90000 4"},{"page":230,"sentence":"36708 0"},{"page":230,"sentence":"206\n## factor(Sleep"},{"page":230,"sentence":"Quality)Fair 2"},{"page":230,"sentence":"00000 5"},{"page":230,"sentence":"04267 0"},{"page":230,"sentence":"397\n## factor(Sleep"},{"page":230,"sentence":"Quality)Good 0"},{"page":230,"sentence":"96667 5"},{"page":230,"sentence":"04267 0"},{"page":230,"sentence":"192\n## factor(Sleep"},{"page":230,"sentence":"Quality)Poor -6"},{"page":230,"sentence":"86346 4"},{"page":230,"sentence":"88254 -1"},{"page":230,"sentence":"406\n## factor(Stress"},{"page":230,"sentence":"Level)2 1"},{"page":230,"sentence":"20000 5"},{"page":230,"sentence":"04267 0"},{"page":230,"sentence":"238\n## factor(Stress"},{"page":230,"sentence":"Level)3 -0"},{"page":230,"sentence":"30000 5"},{"page":230,"sentence":"04267 -0"},{"page":230,"sentence":"059\n## factor(Stress"},{"page":230,"sentence":"Level)4 4"},{"page":230,"sentence":"15260 3"},{"page":230,"sentence":"78200 1"},{"page":230,"sentence":"098\n## factor(Stress"},{"page":230,"sentence":"Level)5 0"},{"page":230,"sentence":"85000 5"},{"page":230,"sentence":"34856 0"},{"page":230,"sentence":"159\n## factor(Stress"},{"page":230,"sentence":"Level)6 1"},{"page":230,"sentence":"50000 4"},{"page":230,"sentence":"88254 0"},{"page":230,"sentence":"307\n12"},{"page":231,"sentence":"## factor(Stress"},{"page":231,"sentence":"Level)7 -0"},{"page":231,"sentence":"40000 5"},{"page":231,"sentence":"34856 -0"},{"page":231,"sentence":"075\n## factor(Stress"},{"page":231,"sentence":"Level)8 -4"},{"page":231,"sentence":"57874 6"},{"page":231,"sentence":"17598 -0"},{"page":231,"sentence":"741\n## factor(Stress"},{"page":231,"sentence":"Level)9 -12"},{"page":231,"sentence":"20581 3"},{"page":231,"sentence":"08799 -3"},{"page":231,"sentence":"953\n## factor(Sleep"},{"page":231,"sentence":"Quality)Fair:factor(Stress"},{"page":231,"sentence":"Level)2 -3"},{"page":231,"sentence":"14000 5"},{"page":231,"sentence":"96657 -0"},{"page":231,"sentence":"526\n## factor(Sleep"},{"page":231,"sentence":"Quality)Good:factor(Stress"},{"page":231,"sentence":"Level)2 -0"},{"page":231,"sentence":"60667 5"},{"page":231,"sentence":"96657 -0"},{"page":231,"sentence":"102\n## factor(Sleep"},{"page":231,"sentence":"Quality)Poor:factor(Stress"},{"page":231,"sentence":"Level)2 2"},{"page":231,"sentence":"14010 7"},{"page":231,"sentence":"01910 0"},{"page":231,"sentence":"305\n## factor(Sleep"},{"page":231,"sentence":"Quality)Fair:factor(Stress"},{"page":231,"sentence":"Level)3 1"},{"page":231,"sentence":"80000 7"},{"page":231,"sentence":"13141 0"},{"page":231,"sentence":"252\n## factor(Sleep"},{"page":231,"sentence":"Quality)Good:factor(Stress"},{"page":231,"sentence":"Level)3 0"},{"page":231,"sentence":"36667 6"},{"page":231,"sentence":"17598 0"},{"page":231,"sentence":"059\n## factor(Sleep"},{"page":231,"sentence":"Quality)Poor:factor(Stress"},{"page":231,"sentence":"Level)3 1"},{"page":231,"sentence":"89297 5"},{"page":231,"sentence":"73767 0"},{"page":231,"sentence":"330\n## factor(Sleep"},{"page":231,"sentence":"Quality)Fair:factor(Stress"},{"page":231,"sentence":"Level)4 -4"},{"page":231,"sentence":"25260 5"},{"page":231,"sentence":"49512 -0"},{"page":231,"sentence":"774\n## factor(Sleep"},{"page":231,"sentence":"Quality)Good:factor(Stress"},{"page":231,"sentence":"Level)4 -4"},{"page":231,"sentence":"11927 5"},{"page":231,"sentence":"19786 -0"},{"page":231,"sentence":"792\n## factor(Sleep"},{"page":231,"sentence":"Quality)Poor:factor(Stress"},{"page":231,"sentence":"Level)4 NA NA NA\n## factor(Sleep"},{"page":231,"sentence":"Quality)Fair:factor(Stress"},{"page":231,"sentence":"Level)5 -2"},{"page":231,"sentence":"15000 6"},{"page":231,"sentence":"67082 -0"},{"page":231,"sentence":"322\n## factor(Sleep"},{"page":231,"sentence":"Quality)Good:factor(Stress"},{"page":231,"sentence":"Level)5 1"},{"page":231,"sentence":"68333 7"},{"page":231,"sentence":"35089 0"},{"page":231,"sentence":"229\n## factor(Sleep"},{"page":231,"sentence":"Quality)Poor:factor(Stress"},{"page":231,"sentence":"Level)5 1"},{"page":231,"sentence":"46086 6"},{"page":231,"sentence":"04595 0"},{"page":231,"sentence":"242\n## factor(Sleep"},{"page":231,"sentence":"Quality)Fair:factor(Stress"},{"page":231,"sentence":"Level)6 -2"},{"page":231,"sentence":"46667 6"},{"page":231,"sentence":"04595 -0"},{"page":231,"sentence":"408\n## factor(Sleep"},{"page":231,"sentence":"Quality)Good:factor(Stress"},{"page":231,"sentence":"Level)6 -1"},{"page":231,"sentence":"56667 6"},{"page":231,"sentence":"30334 -0"},{"page":231,"sentence":"249\n## factor(Sleep"},{"page":231,"sentence":"Quality)Poor:factor(Stress"},{"page":231,"sentence":"Level)6 -2"},{"page":231,"sentence":"00745 5"},{"page":231,"sentence":"77710 -0"},{"page":231,"sentence":"347\n## factor(Sleep"},{"page":231,"sentence":"Quality)Fair:factor(Stress"},{"page":231,"sentence":"Level)7 0"},{"page":231,"sentence":"06667 6"},{"page":231,"sentence":"42817 0"},{"page":231,"sentence":"010\n## factor(Sleep"},{"page":231,"sentence":"Quality)Good:factor(Stress"},{"page":231,"sentence":"Level)7 3"},{"page":231,"sentence":"33333 7"},{"page":231,"sentence":"35089 0"},{"page":231,"sentence":"453\n## factor(Sleep"},{"page":231,"sentence":"Quality)Poor:factor(Stress"},{"page":231,"sentence":"Level)7 -0"},{"page":231,"sentence":"37889 6"},{"page":231,"sentence":"17598 -0"},{"page":231,"sentence":"061\n## factor(Sleep"},{"page":231,"sentence":"Quality)Fair:factor(Stress"},{"page":231,"sentence":"Level)8 -6"},{"page":231,"sentence":"58104 7"},{"page":231,"sentence":"35089 -0"},{"page":231,"sentence":"895\n## factor(Sleep"},{"page":231,"sentence":"Quality)Good:factor(Stress"},{"page":231,"sentence":"Level)8 -2"},{"page":231,"sentence":"98419 7"},{"page":231,"sentence":"35089 -0"},{"page":231,"sentence":"406\n## factor(Sleep"},{"page":231,"sentence":"Quality)Poor:factor(Stress"},{"page":231,"sentence":"Level)8 -9"},{"page":231,"sentence":"31800 6"},{"page":231,"sentence":"78890 -1"},{"page":231,"sentence":"373\n## factor(Sleep"},{"page":231,"sentence":"Quality)Fair:factor(Stress"},{"page":231,"sentence":"Level)9 4"},{"page":231,"sentence":"63575 4"},{"page":231,"sentence":"71699 0"},{"page":231,"sentence":"983\n## factor(Sleep"},{"page":231,"sentence":"Quality)Good:factor(Stress"},{"page":231,"sentence":"Level)9 5"},{"page":231,"sentence":"04842 5"},{"page":231,"sentence":"04267 1"},{"page":231,"sentence":"001\n## factor(Sleep"},{"page":231,"sentence":"Quality)Poor:factor(Stress"},{"page":231,"sentence":"Level)9 NA NA NA\n## Pr(>|t|)\n## (Intercept) 0"},{"page":231,"sentence":"837357\n## factor(Sleep"},{"page":231,"sentence":"Quality)Fair 0"},{"page":231,"sentence":"692931\n## factor(Sleep"},{"page":231,"sentence":"Quality)Good 0"},{"page":231,"sentence":"848568\n## factor(Sleep"},{"page":231,"sentence":"Quality)Poor 0"},{"page":231,"sentence":"164499\n## factor(Stress"},{"page":231,"sentence":"Level)2 0"},{"page":231,"sentence":"812642\n## factor(Stress"},{"page":231,"sentence":"Level)3 0"},{"page":231,"sentence":"952740\n## factor(Stress"},{"page":231,"sentence":"Level)4 0"},{"page":231,"sentence":"276198\n## factor(Stress"},{"page":231,"sentence":"Level)5 0"},{"page":231,"sentence":"874216\n## factor(Stress"},{"page":231,"sentence":"Level)6 0"},{"page":231,"sentence":"759646\n## factor(Stress"},{"page":231,"sentence":"Level)7 0"},{"page":231,"sentence":"940611\n## factor(Stress"},{"page":231,"sentence":"Level)8 0"},{"page":231,"sentence":"461094\n## factor(Stress"},{"page":231,"sentence":"Level)9 0"},{"page":231,"sentence":"000191 ***\n## factor(Sleep"},{"page":231,"sentence":"Quality)Fair:factor(Stress"},{"page":231,"sentence":"Level)2 0"},{"page":231,"sentence":"600468\n## factor(Sleep"},{"page":231,"sentence":"Quality)Good:factor(Stress"},{"page":231,"sentence":"Level)2 0"},{"page":231,"sentence":"919321\n## factor(Sleep"},{"page":231,"sentence":"Quality)Poor:factor(Stress"},{"page":231,"sentence":"Level)2 0"},{"page":231,"sentence":"761404\n## factor(Sleep"},{"page":231,"sentence":"Quality)Fair:factor(Stress"},{"page":231,"sentence":"Level)3 0"},{"page":231,"sentence":"801513\n## factor(Sleep"},{"page":231,"sentence":"Quality)Good:factor(Stress"},{"page":231,"sentence":"Level)3 0"},{"page":231,"sentence":"952837\n## factor(Sleep"},{"page":231,"sentence":"Quality)Poor:factor(Stress"},{"page":231,"sentence":"Level)3 0"},{"page":231,"sentence":"742506\n## factor(Sleep"},{"page":231,"sentence":"Quality)Fair:factor(Stress"},{"page":231,"sentence":"Level)4 0"},{"page":231,"sentence":"441761\n## factor(Sleep"},{"page":231,"sentence":"Quality)Good:factor(Stress"},{"page":231,"sentence":"Level)4 0"},{"page":231,"sentence":"430913\n## factor(Sleep"},{"page":231,"sentence":"Quality)Poor:factor(Stress"},{"page":231,"sentence":"Level)4 NA\n## factor(Sleep"},{"page":231,"sentence":"Quality)Fair:factor(Stress"},{"page":231,"sentence":"Level)5 0"},{"page":231,"sentence":"748245\n## factor(Sleep"},{"page":231,"sentence":"Quality)Good:factor(Stress"},{"page":231,"sentence":"Level)5 0"},{"page":231,"sentence":"819579\n## factor(Sleep"},{"page":231,"sentence":"Quality)Poor:factor(Stress"},{"page":231,"sentence":"Level)5 0"},{"page":231,"sentence":"809819\n## factor(Sleep"},{"page":231,"sentence":"Quality)Fair:factor(Stress"},{"page":231,"sentence":"Level)6 0"},{"page":231,"sentence":"684604\n## factor(Sleep"},{"page":231,"sentence":"Quality)Good:factor(Stress"},{"page":231,"sentence":"Level)6 0"},{"page":231,"sentence":"804484\n13"},{"page":232,"sentence":"## factor(Sleep"},{"page":232,"sentence":"Quality)Poor:factor(Stress"},{"page":232,"sentence":"Level)6 0"},{"page":232,"sentence":"729334\n## factor(Sleep"},{"page":232,"sentence":"Quality)Fair:factor(Stress"},{"page":232,"sentence":"Level)7 0"},{"page":232,"sentence":"991757\n## factor(Sleep"},{"page":232,"sentence":"Quality)Good:factor(Stress"},{"page":232,"sentence":"Level)7 0"},{"page":232,"sentence":"651705\n## factor(Sleep"},{"page":232,"sentence":"Quality)Poor:factor(Stress"},{"page":232,"sentence":"Level)7 0"},{"page":232,"sentence":"951266\n## factor(Sleep"},{"page":232,"sentence":"Quality)Fair:factor(Stress"},{"page":232,"sentence":"Level)8 0"},{"page":232,"sentence":"373896\n## factor(Sleep"},{"page":232,"sentence":"Quality)Good:factor(Stress"},{"page":232,"sentence":"Level)8 0"},{"page":232,"sentence":"686083\n## factor(Sleep"},{"page":232,"sentence":"Quality)Poor:factor(Stress"},{"page":232,"sentence":"Level)8 0"},{"page":232,"sentence":"174544\n## factor(Sleep"},{"page":232,"sentence":"Quality)Fair:factor(Stress"},{"page":232,"sentence":"Level)9 0"},{"page":232,"sentence":"329306\n## factor(Sleep"},{"page":232,"sentence":"Quality)Good:factor(Stress"},{"page":232,"sentence":"Level)9 0"},{"page":232,"sentence":"320415\n## factor(Sleep"},{"page":232,"sentence":"Quality)Poor:factor(Stress"},{"page":232,"sentence":"Level)9 NA\n## ---\n## Signif"},{"page":232,"sentence":"codes: 0 ’***’ 0"},{"page":232,"sentence":"001 ’**’ 0"},{"page":232,"sentence":"01 ’*’ 0"},{"page":232,"sentence":"05 ’"},{"page":232,"sentence":"’ 0"},{"page":232,"sentence":"1 ’ ’ 1\n##\n## Residual standard error: 4"},{"page":232,"sentence":"367 on 66 degrees of freedom\n## Multiple R-squared: 0"},{"page":232,"sentence":"7705, Adjusted R-squared: 0"},{"page":232,"sentence":"6558\n## F-statistic: 6"},{"page":232,"sentence":"716 on 33 and 66 DF, p-value: 3"},{"page":232,"sentence":"128e-11\nThe interaction model does not improve predictive performance or interpretability over the refined model"},{"page":232,"sentence":"The refined model remains the best choice for explaining the relationship between weight change, Sleep\nQuality, and Stress Level"},{"page":232,"sentence":"Furthermore, the Adjusted R sqaure in our interaction model has decreased from our refined model (0"},{"page":232,"sentence":"6558,\ndown from 0"},{"page":232,"sentence":"69), and the RSE has increased (4"},{"page":232,"sentence":"367, up from 4"},{"page":232,"sentence":"145)"},{"page":232,"sentence":"We also see that only one predictor\nhas a p-value < 0"},{"page":232,"sentence":"05"},{"page":232,"sentence":"Based on all of this, we conclude that the refined model is better than the presented\ninteraction model"},{"page":232,"sentence":"To further improve our model we can attempt the addition of higher order terms"},{"page":232,"sentence":"NoteUse of I(factor()ˆ2)\nis for continuous variables where you want to square the variable, but it’s not applicable to categorical\nvariables"},{"page":232,"sentence":"As here we have all categorical variables we will just do it like -\n##\n## Call:\n## lm(formula = Weight"},{"page":232,"sentence":"Change"},{"page":232,"sentence":"lbs"},{"page":232,"sentence":"~ (factor(Sleep"},{"page":232,"sentence":"Quality) + factor(Stress"},{"page":232,"sentence":"Level))^3,\n## data = weight)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -17"},{"page":232,"sentence":"509 -1"},{"page":232,"sentence":"190 0"},{"page":232,"sentence":"000 1"},{"page":232,"sentence":"251 16"},{"page":232,"sentence":"775\n##\n## Coefficients: (2 not defined because of singularities)\n## Estimate Std"},{"page":232,"sentence":"Error t value\n## (Intercept) 0"},{"page":232,"sentence":"90000 4"},{"page":232,"sentence":"36708 0"},{"page":232,"sentence":"206\n## factor(Sleep"},{"page":232,"sentence":"Quality)Fair 2"},{"page":232,"sentence":"00000 5"},{"page":232,"sentence":"04267 0"},{"page":232,"sentence":"397\n## factor(Sleep"},{"page":232,"sentence":"Quality)Good 0"},{"page":232,"sentence":"96667 5"},{"page":232,"sentence":"04267 0"},{"page":232,"sentence":"192\n## factor(Sleep"},{"page":232,"sentence":"Quality)Poor -6"},{"page":232,"sentence":"86346 4"},{"page":232,"sentence":"88254 -1"},{"page":232,"sentence":"406\n## factor(Stress"},{"page":232,"sentence":"Level)2 1"},{"page":232,"sentence":"20000 5"},{"page":232,"sentence":"04267 0"},{"page":232,"sentence":"238\n## factor(Stress"},{"page":232,"sentence":"Level)3 -0"},{"page":232,"sentence":"30000 5"},{"page":232,"sentence":"04267 -0"},{"page":232,"sentence":"059\n## factor(Stress"},{"page":232,"sentence":"Level)4 4"},{"page":232,"sentence":"15260 3"},{"page":232,"sentence":"78200 1"},{"page":232,"sentence":"098\n## factor(Stress"},{"page":232,"sentence":"Level)5 0"},{"page":232,"sentence":"85000 5"},{"page":232,"sentence":"34856 0"},{"page":232,"sentence":"159\n## factor(Stress"},{"page":232,"sentence":"Level)6 1"},{"page":232,"sentence":"50000 4"},{"page":232,"sentence":"88254 0"},{"page":232,"sentence":"307\n## factor(Stress"},{"page":232,"sentence":"Level)7 -0"},{"page":232,"sentence":"40000 5"},{"page":232,"sentence":"34856 -0"},{"page":232,"sentence":"075\n## factor(Stress"},{"page":232,"sentence":"Level)8 -4"},{"page":232,"sentence":"57874 6"},{"page":232,"sentence":"17598 -0"},{"page":232,"sentence":"741\n## factor(Stress"},{"page":232,"sentence":"Level)9 -12"},{"page":232,"sentence":"20581 3"},{"page":232,"sentence":"08799 -3"},{"page":232,"sentence":"953\n## factor(Sleep"},{"page":232,"sentence":"Quality)Fair:factor(Stress"},{"page":232,"sentence":"Level)2 -3"},{"page":232,"sentence":"14000 5"},{"page":232,"sentence":"96657 -0"},{"page":232,"sentence":"526\n## factor(Sleep"},{"page":232,"sentence":"Quality)Good:factor(Stress"},{"page":232,"sentence":"Level)2 -0"},{"page":232,"sentence":"60667 5"},{"page":232,"sentence":"96657 -0"},{"page":232,"sentence":"102\n14"},{"page":233,"sentence":"## factor(Sleep"},{"page":233,"sentence":"Quality)Poor:factor(Stress"},{"page":233,"sentence":"Level)2 2"},{"page":233,"sentence":"14010 7"},{"page":233,"sentence":"01910 0"},{"page":233,"sentence":"305\n## factor(Sleep"},{"page":233,"sentence":"Quality)Fair:factor(Stress"},{"page":233,"sentence":"Level)3 1"},{"page":233,"sentence":"80000 7"},{"page":233,"sentence":"13141 0"},{"page":233,"sentence":"252\n## factor(Sleep"},{"page":233,"sentence":"Quality)Good:factor(Stress"},{"page":233,"sentence":"Level)3 0"},{"page":233,"sentence":"36667 6"},{"page":233,"sentence":"17598 0"},{"page":233,"sentence":"059\n## factor(Sleep"},{"page":233,"sentence":"Quality)Poor:factor(Stress"},{"page":233,"sentence":"Level)3 1"},{"page":233,"sentence":"89297 5"},{"page":233,"sentence":"73767 0"},{"page":233,"sentence":"330\n## factor(Sleep"},{"page":233,"sentence":"Quality)Fair:factor(Stress"},{"page":233,"sentence":"Level)4 -4"},{"page":233,"sentence":"25260 5"},{"page":233,"sentence":"49512 -0"},{"page":233,"sentence":"774\n## factor(Sleep"},{"page":233,"sentence":"Quality)Good:factor(Stress"},{"page":233,"sentence":"Level)4 -4"},{"page":233,"sentence":"11927 5"},{"page":233,"sentence":"19786 -0"},{"page":233,"sentence":"792\n## factor(Sleep"},{"page":233,"sentence":"Quality)Poor:factor(Stress"},{"page":233,"sentence":"Level)4 NA NA NA\n## factor(Sleep"},{"page":233,"sentence":"Quality)Fair:factor(Stress"},{"page":233,"sentence":"Level)5 -2"},{"page":233,"sentence":"15000 6"},{"page":233,"sentence":"67082 -0"},{"page":233,"sentence":"322\n## factor(Sleep"},{"page":233,"sentence":"Quality)Good:factor(Stress"},{"page":233,"sentence":"Level)5 1"},{"page":233,"sentence":"68333 7"},{"page":233,"sentence":"35089 0"},{"page":233,"sentence":"229\n## factor(Sleep"},{"page":233,"sentence":"Quality)Poor:factor(Stress"},{"page":233,"sentence":"Level)5 1"},{"page":233,"sentence":"46086 6"},{"page":233,"sentence":"04595 0"},{"page":233,"sentence":"242\n## factor(Sleep"},{"page":233,"sentence":"Quality)Fair:factor(Stress"},{"page":233,"sentence":"Level)6 -2"},{"page":233,"sentence":"46667 6"},{"page":233,"sentence":"04595 -0"},{"page":233,"sentence":"408\n## factor(Sleep"},{"page":233,"sentence":"Quality)Good:factor(Stress"},{"page":233,"sentence":"Level)6 -1"},{"page":233,"sentence":"56667 6"},{"page":233,"sentence":"30334 -0"},{"page":233,"sentence":"249\n## factor(Sleep"},{"page":233,"sentence":"Quality)Poor:factor(Stress"},{"page":233,"sentence":"Level)6 -2"},{"page":233,"sentence":"00745 5"},{"page":233,"sentence":"77710 -0"},{"page":233,"sentence":"347\n## factor(Sleep"},{"page":233,"sentence":"Quality)Fair:factor(Stress"},{"page":233,"sentence":"Level)7 0"},{"page":233,"sentence":"06667 6"},{"page":233,"sentence":"42817 0"},{"page":233,"sentence":"010\n## factor(Sleep"},{"page":233,"sentence":"Quality)Good:factor(Stress"},{"page":233,"sentence":"Level)7 3"},{"page":233,"sentence":"33333 7"},{"page":233,"sentence":"35089 0"},{"page":233,"sentence":"453\n## factor(Sleep"},{"page":233,"sentence":"Quality)Poor:factor(Stress"},{"page":233,"sentence":"Level)7 -0"},{"page":233,"sentence":"37889 6"},{"page":233,"sentence":"17598 -0"},{"page":233,"sentence":"061\n## factor(Sleep"},{"page":233,"sentence":"Quality)Fair:factor(Stress"},{"page":233,"sentence":"Level)8 -6"},{"page":233,"sentence":"58104 7"},{"page":233,"sentence":"35089 -0"},{"page":233,"sentence":"895\n## factor(Sleep"},{"page":233,"sentence":"Quality)Good:factor(Stress"},{"page":233,"sentence":"Level)8 -2"},{"page":233,"sentence":"98419 7"},{"page":233,"sentence":"35089 -0"},{"page":233,"sentence":"406\n## factor(Sleep"},{"page":233,"sentence":"Quality)Poor:factor(Stress"},{"page":233,"sentence":"Level)8 -9"},{"page":233,"sentence":"31800 6"},{"page":233,"sentence":"78890 -1"},{"page":233,"sentence":"373\n## factor(Sleep"},{"page":233,"sentence":"Quality)Fair:factor(Stress"},{"page":233,"sentence":"Level)9 4"},{"page":233,"sentence":"63575 4"},{"page":233,"sentence":"71699 0"},{"page":233,"sentence":"983\n## factor(Sleep"},{"page":233,"sentence":"Quality)Good:factor(Stress"},{"page":233,"sentence":"Level)9 5"},{"page":233,"sentence":"04842 5"},{"page":233,"sentence":"04267 1"},{"page":233,"sentence":"001\n## factor(Sleep"},{"page":233,"sentence":"Quality)Poor:factor(Stress"},{"page":233,"sentence":"Level)9 NA NA NA\n## Pr(>|t|)\n## (Intercept) 0"},{"page":233,"sentence":"837357\n## factor(Sleep"},{"page":233,"sentence":"Quality)Fair 0"},{"page":233,"sentence":"692931\n## factor(Sleep"},{"page":233,"sentence":"Quality)Good 0"},{"page":233,"sentence":"848568\n## factor(Sleep"},{"page":233,"sentence":"Quality)Poor 0"},{"page":233,"sentence":"164499\n## factor(Stress"},{"page":233,"sentence":"Level)2 0"},{"page":233,"sentence":"812642\n## factor(Stress"},{"page":233,"sentence":"Level)3 0"},{"page":233,"sentence":"952740\n## factor(Stress"},{"page":233,"sentence":"Level)4 0"},{"page":233,"sentence":"276198\n## factor(Stress"},{"page":233,"sentence":"Level)5 0"},{"page":233,"sentence":"874216\n## factor(Stress"},{"page":233,"sentence":"Level)6 0"},{"page":233,"sentence":"759646\n## factor(Stress"},{"page":233,"sentence":"Level)7 0"},{"page":233,"sentence":"940611\n## factor(Stress"},{"page":233,"sentence":"Level)8 0"},{"page":233,"sentence":"461094\n## factor(Stress"},{"page":233,"sentence":"Level)9 0"},{"page":233,"sentence":"000191 ***\n## factor(Sleep"},{"page":233,"sentence":"Quality)Fair:factor(Stress"},{"page":233,"sentence":"Level)2 0"},{"page":233,"sentence":"600468\n## factor(Sleep"},{"page":233,"sentence":"Quality)Good:factor(Stress"},{"page":233,"sentence":"Level)2 0"},{"page":233,"sentence":"919321\n## factor(Sleep"},{"page":233,"sentence":"Quality)Poor:factor(Stress"},{"page":233,"sentence":"Level)2 0"},{"page":233,"sentence":"761404\n## factor(Sleep"},{"page":233,"sentence":"Quality)Fair:factor(Stress"},{"page":233,"sentence":"Level)3 0"},{"page":233,"sentence":"801513\n## factor(Sleep"},{"page":233,"sentence":"Quality)Good:factor(Stress"},{"page":233,"sentence":"Level)3 0"},{"page":233,"sentence":"952837\n## factor(Sleep"},{"page":233,"sentence":"Quality)Poor:factor(Stress"},{"page":233,"sentence":"Level)3 0"},{"page":233,"sentence":"742506\n## factor(Sleep"},{"page":233,"sentence":"Quality)Fair:factor(Stress"},{"page":233,"sentence":"Level)4 0"},{"page":233,"sentence":"441761\n## factor(Sleep"},{"page":233,"sentence":"Quality)Good:factor(Stress"},{"page":233,"sentence":"Level)4 0"},{"page":233,"sentence":"430913\n## factor(Sleep"},{"page":233,"sentence":"Quality)Poor:factor(Stress"},{"page":233,"sentence":"Level)4 NA\n## factor(Sleep"},{"page":233,"sentence":"Quality)Fair:factor(Stress"},{"page":233,"sentence":"Level)5 0"},{"page":233,"sentence":"748245\n## factor(Sleep"},{"page":233,"sentence":"Quality)Good:factor(Stress"},{"page":233,"sentence":"Level)5 0"},{"page":233,"sentence":"819579\n## factor(Sleep"},{"page":233,"sentence":"Quality)Poor:factor(Stress"},{"page":233,"sentence":"Level)5 0"},{"page":233,"sentence":"809819\n## factor(Sleep"},{"page":233,"sentence":"Quality)Fair:factor(Stress"},{"page":233,"sentence":"Level)6 0"},{"page":233,"sentence":"684604\n## factor(Sleep"},{"page":233,"sentence":"Quality)Good:factor(Stress"},{"page":233,"sentence":"Level)6 0"},{"page":233,"sentence":"804484\n## factor(Sleep"},{"page":233,"sentence":"Quality)Poor:factor(Stress"},{"page":233,"sentence":"Level)6 0"},{"page":233,"sentence":"729334\n## factor(Sleep"},{"page":233,"sentence":"Quality)Fair:factor(Stress"},{"page":233,"sentence":"Level)7 0"},{"page":233,"sentence":"991757\n## factor(Sleep"},{"page":233,"sentence":"Quality)Good:factor(Stress"},{"page":233,"sentence":"Level)7 0"},{"page":233,"sentence":"651705\n## factor(Sleep"},{"page":233,"sentence":"Quality)Poor:factor(Stress"},{"page":233,"sentence":"Level)7 0"},{"page":233,"sentence":"951266\n## factor(Sleep"},{"page":233,"sentence":"Quality)Fair:factor(Stress"},{"page":233,"sentence":"Level)8 0"},{"page":233,"sentence":"373896\n15"},{"page":234,"sentence":"## factor(Sleep"},{"page":234,"sentence":"Quality)Good:factor(Stress"},{"page":234,"sentence":"Level)8 0"},{"page":234,"sentence":"686083\n## factor(Sleep"},{"page":234,"sentence":"Quality)Poor:factor(Stress"},{"page":234,"sentence":"Level)8 0"},{"page":234,"sentence":"174544\n## factor(Sleep"},{"page":234,"sentence":"Quality)Fair:factor(Stress"},{"page":234,"sentence":"Level)9 0"},{"page":234,"sentence":"329306\n## factor(Sleep"},{"page":234,"sentence":"Quality)Good:factor(Stress"},{"page":234,"sentence":"Level)9 0"},{"page":234,"sentence":"320415\n## factor(Sleep"},{"page":234,"sentence":"Quality)Poor:factor(Stress"},{"page":234,"sentence":"Level)9 NA\n## ---\n## Signif"},{"page":234,"sentence":"codes: 0 ’***’ 0"},{"page":234,"sentence":"001 ’**’ 0"},{"page":234,"sentence":"01 ’*’ 0"},{"page":234,"sentence":"05 ’"},{"page":234,"sentence":"’ 0"},{"page":234,"sentence":"1 ’ ’ 1\n##\n## Residual standard error: 4"},{"page":234,"sentence":"367 on 66 degrees of freedom\n## Multiple R-squared: 0"},{"page":234,"sentence":"7705, Adjusted R-squared: 0"},{"page":234,"sentence":"6558\n## F-statistic: 6"},{"page":234,"sentence":"716 on 33 and 66 DF, p-value: 3"},{"page":234,"sentence":"128e-11\nNotice that this gives the same output as before"},{"page":234,"sentence":"Similar to before we will stick with our refined model"},{"page":234,"sentence":"Now we will test for some of the assumptions in our model, using plots and stastical tests"},{"page":234,"sentence":"We can test for linearity by inspecting our residual plots"},{"page":234,"sentence":"## ‘geom_smooth()‘ using formula = ’y ~ x’\n−20−10010\n−15 −10 −5 0 5\nFitted ValuesResidualsResiduals vs Fitted Values\nThis plot suggests that the model does not quite pass the assumption of linearity"},{"page":234,"sentence":"We can see that the\nresiduals do not appear randomly scattered, rather they are clustered in 3 different groups, additionally we\ncan see the presence of a curve in our line"},{"page":234,"sentence":"Normally we could try transforming our data, but in this case,\nas mentioned before, we cannot add higher order terms"},{"page":234,"sentence":"We also cannot perform a log transformation on\nour predictors or our responding variable, since our dummy variables contain 0 and our responding variable\ncontains negative values"},{"page":234,"sentence":"To test our independence assumption, we can inspect the residuals in the figure below"},{"page":234,"sentence":"16"},{"page":235,"sentence":"0 20 40 60 80 100−20 −10 051015Residuals vs Observation Number\nObservation NumberResidualsGiven the randomly scattered point, and lack of trends, we can suggest that independence has most likely\nbeen met"},{"page":235,"sentence":"Although there a few outliers, they do not appear to follow any pattern"},{"page":235,"sentence":"Additionally, our\nresponding variable is not considered time-series data"},{"page":235,"sentence":"To test for equal variance, we can inspect our residual plots and perform a Breusch-Pagan Test, where the\nhypothesis would be:\nH0:σ2\n1=σ2\n2="},{"page":235,"sentence":"=σ2\nn(heteroscedasticity is not present) Ha:at least one σ2\niis different from the others i = 1, 2,"},{"page":235,"sentence":", n (heteroscedasticity is present)\n## ‘geom_smooth()‘ using formula = ’y ~ x’\n17"},{"page":236,"sentence":"−20−10010\n−15 −10 −5 0 5\nFitted ValuesResidualsResiduals vs Fitted Values##\n## studentized Breusch-Pagan test\n##\n## data: weight_interaction_model\n## BP = 52"},{"page":236,"sentence":"041, df = 33, p-value = 0"},{"page":236,"sentence":"01872\nAs we can see the presence of patterns in our data points, and the line is curved, we believe heteroscedasticity\nis present"},{"page":236,"sentence":"Our Breusch-Pagan test returned a p-value of 0"},{"page":236,"sentence":"01872, which is less than 0"},{"page":236,"sentence":"05"},{"page":236,"sentence":"Therefore we\nreject the null hypothesis, and conclude there is statistically significant evidence of heteroscedasticity in the\nmodel"},{"page":236,"sentence":"To test our assumptions of normality, we can create our Q-Q plot and run a Shapiro-Wilks test, using the\nthe hypothesis:\nH0:the residuals are normally distributed Ha:the residuals are not normally distributed\n18"},{"page":237,"sentence":"−2 −1 0 1 2−20 −10 051015Normal Q−Q Plot\nTheoretical QuantilesSample Quantiles##\n## Shapiro-Wilk normality test\n##\n## data: residuals(weight_refined_model)\n## W = 0"},{"page":237,"sentence":"83622, p-value = 3"},{"page":237,"sentence":"793e-09\nThe Q-Q plot suggests that the data may not be perfectly normally distributed"},{"page":237,"sentence":"The outliers might be\nindicative of non-normality"},{"page":237,"sentence":"As our Shapiro-Wilks test returned a p-value of 3"},{"page":237,"sentence":"793e-09, which is < 0"},{"page":237,"sentence":"05, we\nreject the null hypothesis and conclude that our residuals are not normally distributed"},{"page":237,"sentence":"To check for outliers we can look at our Cook’s Distance and Leverage plots"},{"page":237,"sentence":"19"},{"page":238,"sentence":"0 20 40 60 80 1000"},{"page":238,"sentence":"00 0"},{"page":238,"sentence":"10 0"},{"page":238,"sentence":"20 0"},{"page":238,"sentence":"30Cook's Distance Plot\nObs"},{"page":238,"sentence":"numberCook's distance\nlm(Weight"},{"page":238,"sentence":"Change"},{"page":238,"sentence":"lbs"},{"page":238,"sentence":"~ factor(Sleep"},{"page":238,"sentence":"Quality) + factor(Stress"},{"page":238,"sentence":"Level))Cook's distance\n8\n72\n38## [1] Participant"},{"page":238,"sentence":"ID Age\n## [3] Gender Current"},{"page":238,"sentence":"Weight"},{"page":238,"sentence":"lbs"},{"page":238,"sentence":"## [5] BMR"},{"page":238,"sentence":"Calories"},{"page":238,"sentence":"Daily"},{"page":238,"sentence":"Calories"},{"page":238,"sentence":"Consumed\n## [7] Daily"},{"page":238,"sentence":"Caloric"},{"page":238,"sentence":"Surplus"},{"page":238,"sentence":"Deficit Weight"},{"page":238,"sentence":"Change"},{"page":238,"sentence":"lbs"},{"page":238,"sentence":"## [9] Duration"},{"page":238,"sentence":"weeks"},{"page":238,"sentence":"Physical"},{"page":238,"sentence":"Activity"},{"page":238,"sentence":"Level\n## [11] Sleep"},{"page":238,"sentence":"Quality Stress"},{"page":238,"sentence":"Level\n## [13] Final"},{"page":238,"sentence":"Weight"},{"page":238,"sentence":"lbs"},{"page":238,"sentence":"## <0 rows> (or 0-length row"},{"page":238,"sentence":"names)\n20"},{"page":239,"sentence":"0 20 40 60 80 1000"},{"page":239,"sentence":"100"},{"page":239,"sentence":"120"},{"page":239,"sentence":"140"},{"page":239,"sentence":"16Leverage Plot\nObservation IndexLeverage2p\/n\n3p\/nThere are three influential points in the data, highlighted by the red vertical lines at observations 8, 38, and\n72"},{"page":239,"sentence":"Cook’s Distance Values: These points have high Cook’s distances, exceeding the threshold, suggesting\nthey significantly influence the regression model"},{"page":239,"sentence":"High leverage: The outlier has an unusual combination of predictor values, making it influential"},{"page":239,"sentence":"High\nresidual: The outlier has a large difference between its observed and predicted values, suggesting it’s not\nwell explained by the model"},{"page":239,"sentence":"The data points at observations 8, 38, and 72 are influential because they significantly affect the estimated\ncoefficients of the regression model"},{"page":239,"sentence":"Although all of our assumptions were not met, we will still present our final model"},{"page":239,"sentence":"##\n## Call:\n## lm(formula = Weight"},{"page":239,"sentence":"Change"},{"page":239,"sentence":"lbs"},{"page":239,"sentence":"~ factor(Sleep"},{"page":239,"sentence":"Quality) + factor(Stress"},{"page":239,"sentence":"Level),\n## data = weight)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -20"},{"page":239,"sentence":"0668 -1"},{"page":239,"sentence":"5978 -0"},{"page":239,"sentence":"1951 2"},{"page":239,"sentence":"0673 14"},{"page":239,"sentence":"2170\n##\n## Coefficients:\n## Estimate Std"},{"page":239,"sentence":"Error t value Pr(>|t|)\n## (Intercept) 1"},{"page":239,"sentence":"66777 1"},{"page":239,"sentence":"64232 1"},{"page":239,"sentence":"015 0"},{"page":239,"sentence":"313\n## factor(Sleep"},{"page":239,"sentence":"Quality)Fair 0"},{"page":239,"sentence":"66673 1"},{"page":239,"sentence":"37884 0"},{"page":239,"sentence":"484 0"},{"page":239,"sentence":"630\n## factor(Sleep"},{"page":239,"sentence":"Quality)Good 0"},{"page":239,"sentence":"86678 1"},{"page":239,"sentence":"41286 0"},{"page":239,"sentence":"613 0"},{"page":239,"sentence":"541\n## factor(Sleep"},{"page":239,"sentence":"Quality)Poor -7"},{"page":239,"sentence":"89997 1"},{"page":239,"sentence":"28104 -6"},{"page":239,"sentence":"167 2"},{"page":239,"sentence":"06e-08 ***\n21"},{"page":240,"sentence":"## factor(Stress"},{"page":240,"sentence":"Level)2 -0"},{"page":240,"sentence":"16713 1"},{"page":240,"sentence":"69144 -0"},{"page":240,"sentence":"099 0"},{"page":240,"sentence":"922\n## factor(Stress"},{"page":240,"sentence":"Level)3 0"},{"page":240,"sentence":"72075 1"},{"page":240,"sentence":"68828 0"},{"page":240,"sentence":"427 0"},{"page":240,"sentence":"670\n## factor(Stress"},{"page":240,"sentence":"Level)4 1"},{"page":240,"sentence":"12429 2"},{"page":240,"sentence":"01231 0"},{"page":240,"sentence":"559 0"},{"page":240,"sentence":"578\n## factor(Stress"},{"page":240,"sentence":"Level)5 1"},{"page":240,"sentence":"45804 1"},{"page":240,"sentence":"78473 0"},{"page":240,"sentence":"817 0"},{"page":240,"sentence":"416\n## factor(Stress"},{"page":240,"sentence":"Level)6 -0"},{"page":240,"sentence":"05374 1"},{"page":240,"sentence":"71822 -0"},{"page":240,"sentence":"031 0"},{"page":240,"sentence":"975\n## factor(Stress"},{"page":240,"sentence":"Level)7 -0"},{"page":240,"sentence":"14142 1"},{"page":240,"sentence":"82197 -0"},{"page":240,"sentence":"078 0"},{"page":240,"sentence":"938\n## factor(Stress"},{"page":240,"sentence":"Level)8 -11"},{"page":240,"sentence":"34225 1"},{"page":240,"sentence":"77596 -6"},{"page":240,"sentence":"387 7"},{"page":240,"sentence":"78e-09 ***\n## factor(Stress"},{"page":240,"sentence":"Level)9 -9"},{"page":240,"sentence":"37917 1"},{"page":240,"sentence":"86760 -5"},{"page":240,"sentence":"022 2"},{"page":240,"sentence":"65e-06 ***\n## ---\n## Signif"},{"page":240,"sentence":"codes: 0 ’***’ 0"},{"page":240,"sentence":"001 ’**’ 0"},{"page":240,"sentence":"01 ’*’ 0"},{"page":240,"sentence":"05 ’"},{"page":240,"sentence":"’ 0"},{"page":240,"sentence":"1 ’ ’ 1\n##\n## Residual standard error: 4"},{"page":240,"sentence":"145 on 88 degrees of freedom\n## Multiple R-squared: 0"},{"page":240,"sentence":"7244, Adjusted R-squared: 0"},{"page":240,"sentence":"69\n## F-statistic: 21"},{"page":240,"sentence":"03 on 11 and 88 DF, p-value: < 2"},{"page":240,"sentence":"2e-16\nWeight"},{"page":240,"sentence":"Change (lbs) = 1"},{"page":240,"sentence":"66777+0"},{"page":240,"sentence":"66673·SleepQualityFair +0"},{"page":240,"sentence":"86678·SleepQualityGood −7"},{"page":240,"sentence":"89997·SleepQualityPoor −0"},{"page":240,"sentence":"16713·StressLevel2 +0"},{"page":240,"sentence":"72075·StressLevel3 +1"},{"page":240,"sentence":"12429·StressLevel4 +1"},{"page":240,"sentence":"45804·StressLevel5−0"},{"page":240,"sentence":"05374·StressLevel6−0"},{"page":240,"sentence":"14142·StressLevel7−11"},{"page":240,"sentence":"3423·StressLevel8−9"},{"page":240,"sentence":"3792·StressLevel9\nIn conclusion the refined model explores the relationship between weight change and two key factors: sleep\nquality and stress level"},{"page":240,"sentence":"Now that we have our final model, we can begin interpreting it"},{"page":240,"sentence":"Intercept: When sleep quality is excellent, and our stress level is 1, we can expect weight change to increase\nby 1"},{"page":240,"sentence":"66777 pounds"},{"page":240,"sentence":"Sleep Quality:\n•Participants with fair sleep quality gain 0"},{"page":240,"sentence":"66673 pounds more weight on average compared to those\nwith excellent sleep quality"},{"page":240,"sentence":"•Participants with good sleep quality gain 0"},{"page":240,"sentence":"86678 pounds more weight on average compared to those\nwith excellent sleep quality"},{"page":240,"sentence":"•Participants with poor sleep quality lose 7"},{"page":240,"sentence":"89997 pounds more weight on average compared to those\nwith excellent sleep quality"},{"page":240,"sentence":"Stress Level:\n•Participants with a stress level of 2 lose 0"},{"page":240,"sentence":"16713 pounds more weight on average compared to those\nwith a stress level of 1"},{"page":240,"sentence":"•Participants with a stress level of 3 gain 0"},{"page":240,"sentence":"72075 pounds more weight on average compared to those\nwith a stress level of 1"},{"page":240,"sentence":"•Participants with a stress level of 4 gain 1"},{"page":240,"sentence":"12429 pounds more weight on average compared to those\nwith a stress level of 1"},{"page":240,"sentence":"•Participants with a stress level of 5 gain 1"},{"page":240,"sentence":"45804 pounds more weight on average compared to those\nwith a stress level of 1"},{"page":240,"sentence":"•Participants with a stress level of 6 lose 0"},{"page":240,"sentence":"05374 pounds more weight on average compared to those\nwith a stress level of 1"},{"page":240,"sentence":"•Participants with a stress level of 7 lose 0"},{"page":240,"sentence":"14142 pounds more weight on average compared to those\nwith a stress level of 1"},{"page":240,"sentence":"•Participants with a stress level of 8 lose 11"},{"page":240,"sentence":"34225 pounds more weight on average compared to those\nwith a stress level of 1"},{"page":240,"sentence":"•Participants with a stress level of 9 lose 9"},{"page":240,"sentence":"37917 pounds more weight on average compared to those\nwith a stress level of 1"},{"page":240,"sentence":"22"},{"page":241,"sentence":"These findings suggest that worse sleep quality and higher stress levels are associated with greater weight\nloss"},{"page":241,"sentence":"Overall, the model explains a moderate proportion of variance in weight change (Adjusted R-squared =\n0"},{"page":241,"sentence":"69), indicating that these two factors contribute to understanding weight changes, but other un-explored\nfactors might also play a significant role"},{"page":241,"sentence":"3"},{"page":241,"sentence":"3 Model Including All Variables\nTo determine the best model for predicting weight change, given our dataset, we begin by inspecting our\ndataset"},{"page":241,"sentence":"## Participant"},{"page":241,"sentence":"ID Age Gender Current"},{"page":241,"sentence":"Weight"},{"page":241,"sentence":"lbs"},{"page":241,"sentence":"BMR"},{"page":241,"sentence":"Calories"},{"page":241,"sentence":"## 1 1 56 M 228"},{"page":241,"sentence":"4 3102"},{"page":241,"sentence":"3\n## 2 2 46 F 165"},{"page":241,"sentence":"4 2275"},{"page":241,"sentence":"5\n## 3 3 32 F 142"},{"page":241,"sentence":"8 2119"},{"page":241,"sentence":"4\n## 4 4 25 F 145"},{"page":241,"sentence":"5 2181"},{"page":241,"sentence":"3\n## 5 5 38 M 155"},{"page":241,"sentence":"5 2463"},{"page":241,"sentence":"8\n## 6 6 56 F 152"},{"page":241,"sentence":"9 2100"},{"page":241,"sentence":"6\n## Daily"},{"page":241,"sentence":"Calories"},{"page":241,"sentence":"Consumed Daily"},{"page":241,"sentence":"Caloric"},{"page":241,"sentence":"Surplus"},{"page":241,"sentence":"Deficit Weight"},{"page":241,"sentence":"Change"},{"page":241,"sentence":"lbs"},{"page":241,"sentence":"## 1 3916"},{"page":241,"sentence":"0 813"},{"page":241,"sentence":"7 0"},{"page":241,"sentence":"2000\n## 2 3823"},{"page":241,"sentence":"0 1547"},{"page":241,"sentence":"5 2"},{"page":241,"sentence":"4000\n## 3 2785"},{"page":241,"sentence":"4 666"},{"page":241,"sentence":"0 1"},{"page":241,"sentence":"4000\n## 4 2587"},{"page":241,"sentence":"3 406"},{"page":241,"sentence":"0 0"},{"page":241,"sentence":"8000\n## 5 3312"},{"page":241,"sentence":"8 849"},{"page":241,"sentence":"0 2"},{"page":241,"sentence":"0000\n## 6 2262"},{"page":241,"sentence":"4 161"},{"page":241,"sentence":"9 -12"},{"page":241,"sentence":"5135\n## Duration"},{"page":241,"sentence":"weeks"},{"page":241,"sentence":"Physical"},{"page":241,"sentence":"Activity"},{"page":241,"sentence":"Level Sleep"},{"page":241,"sentence":"Quality Stress"},{"page":241,"sentence":"Level\n## 1 1 Sedentary Excellent 6\n## 2 6 Very Active Excellent 6\n## 3 7 Sedentary Good 3\n## 4 8 Sedentary Fair 2\n## 5 10 Lightly Active Good 1\n## 6 9 Sedentary Poor 6\n## Final"},{"page":241,"sentence":"Weight"},{"page":241,"sentence":"lbs"},{"page":241,"sentence":"## 1 228"},{"page":241,"sentence":"6\n## 2 167"},{"page":241,"sentence":"8\n## 3 144"},{"page":241,"sentence":"2\n## 4 146"},{"page":241,"sentence":"3\n## 5 157"},{"page":241,"sentence":"5\n## 6 140"},{"page":241,"sentence":"4\nOur first step is to build our full model, and determine whether any assumptions have been broken"},{"page":241,"sentence":"Do\nnote, that we chose to remove the variables “Current"},{"page":241,"sentence":"Weight"},{"page":241,"sentence":"lbs"},{"page":241,"sentence":"” and “Final"},{"page":241,"sentence":"Weight"},{"page":241,"sentence":"lbs"},{"page":241,"sentence":"” because our\nresponding variable, “Weight"},{"page":241,"sentence":"Change"},{"page":241,"sentence":"lbs"},{"page":241,"sentence":"” is just a result of subtracting the two variables, making weight\nchangedependentonbothcurrentandfinalweight"},{"page":241,"sentence":"Toensurethatatleastoneofourpredictorsissignificant,\nwe test the hypothesis:\nH0:β1=β2="},{"page":241,"sentence":"=βi= 0(i=1,2,"},{"page":241,"sentence":",p)\nHa:At least one βi̸= 0(i=1,2,"},{"page":241,"sentence":",p)\n##\n## Call:\n## lm(formula = Weight"},{"page":241,"sentence":"Change"},{"page":241,"sentence":"lbs"},{"page":241,"sentence":"~ Age + factor(Gender) + BMR"},{"page":241,"sentence":"Calories"},{"page":241,"sentence":"+\n## Daily"},{"page":241,"sentence":"Calories"},{"page":241,"sentence":"Consumed + Daily"},{"page":241,"sentence":"Caloric"},{"page":241,"sentence":"Surplus"},{"page":241,"sentence":"Deficit +\n23"},{"page":242,"sentence":"## Duration"},{"page":242,"sentence":"weeks"},{"page":242,"sentence":"+ factor(Physical"},{"page":242,"sentence":"Activity"},{"page":242,"sentence":"Level) + factor(Sleep"},{"page":242,"sentence":"Quality) +\n## factor(Stress"},{"page":242,"sentence":"Level), data = weight)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -16"},{"page":242,"sentence":"5881 -1"},{"page":242,"sentence":"4426 0"},{"page":242,"sentence":"2319 2"},{"page":242,"sentence":"1582 9"},{"page":242,"sentence":"7510\n##\n## Coefficients:\n## Estimate Std"},{"page":242,"sentence":"Error t value\n## (Intercept) 7"},{"page":242,"sentence":"032845 4"},{"page":242,"sentence":"940503 1"},{"page":242,"sentence":"424\n## Age -0"},{"page":242,"sentence":"002834 0"},{"page":242,"sentence":"036018 -0"},{"page":242,"sentence":"079\n## factor(Gender)M 0"},{"page":242,"sentence":"263772 1"},{"page":242,"sentence":"150845 0"},{"page":242,"sentence":"229\n## BMR"},{"page":242,"sentence":"Calories"},{"page":242,"sentence":"-6"},{"page":242,"sentence":"915519 10"},{"page":242,"sentence":"273016 -0"},{"page":242,"sentence":"673\n## Daily"},{"page":242,"sentence":"Calories"},{"page":242,"sentence":"Consumed 6"},{"page":242,"sentence":"913309 10"},{"page":242,"sentence":"272867 0"},{"page":242,"sentence":"673\n## Daily"},{"page":242,"sentence":"Caloric"},{"page":242,"sentence":"Surplus"},{"page":242,"sentence":"Deficit -6"},{"page":242,"sentence":"911143 10"},{"page":242,"sentence":"273082 -0"},{"page":242,"sentence":"673\n## Duration"},{"page":242,"sentence":"weeks"},{"page":242,"sentence":"-0"},{"page":242,"sentence":"395738 0"},{"page":242,"sentence":"122177 -3"},{"page":242,"sentence":"239\n## factor(Physical"},{"page":242,"sentence":"Activity"},{"page":242,"sentence":"Level)Moderately Active -0"},{"page":242,"sentence":"316972 1"},{"page":242,"sentence":"247677 -0"},{"page":242,"sentence":"254\n## factor(Physical"},{"page":242,"sentence":"Activity"},{"page":242,"sentence":"Level)Sedentary 0"},{"page":242,"sentence":"007914 1"},{"page":242,"sentence":"327862 0"},{"page":242,"sentence":"006\n## factor(Physical"},{"page":242,"sentence":"Activity"},{"page":242,"sentence":"Level)Very Active 0"},{"page":242,"sentence":"751174 1"},{"page":242,"sentence":"520393 0"},{"page":242,"sentence":"494\n## factor(Sleep"},{"page":242,"sentence":"Quality)Fair 1"},{"page":242,"sentence":"544141 1"},{"page":242,"sentence":"366646 1"},{"page":242,"sentence":"130\n## factor(Sleep"},{"page":242,"sentence":"Quality)Good 2"},{"page":242,"sentence":"109521 1"},{"page":242,"sentence":"416478 1"},{"page":242,"sentence":"489\n## factor(Sleep"},{"page":242,"sentence":"Quality)Poor -7"},{"page":242,"sentence":"411684 1"},{"page":242,"sentence":"271290 -5"},{"page":242,"sentence":"830\n## factor(Stress"},{"page":242,"sentence":"Level)2 -0"},{"page":242,"sentence":"153266 1"},{"page":242,"sentence":"717603 -0"},{"page":242,"sentence":"089\n## factor(Stress"},{"page":242,"sentence":"Level)3 1"},{"page":242,"sentence":"489659 1"},{"page":242,"sentence":"714714 0"},{"page":242,"sentence":"869\n## factor(Stress"},{"page":242,"sentence":"Level)4 1"},{"page":242,"sentence":"006707 1"},{"page":242,"sentence":"974665 0"},{"page":242,"sentence":"510\n## factor(Stress"},{"page":242,"sentence":"Level)5 0"},{"page":242,"sentence":"770360 1"},{"page":242,"sentence":"798465 0"},{"page":242,"sentence":"428\n## factor(Stress"},{"page":242,"sentence":"Level)6 -0"},{"page":242,"sentence":"849362 1"},{"page":242,"sentence":"690039 -0"},{"page":242,"sentence":"503\n## factor(Stress"},{"page":242,"sentence":"Level)7 0"},{"page":242,"sentence":"727956 1"},{"page":242,"sentence":"848089 0"},{"page":242,"sentence":"394\n## factor(Stress"},{"page":242,"sentence":"Level)8 -11"},{"page":242,"sentence":"058953 1"},{"page":242,"sentence":"754401 -6"},{"page":242,"sentence":"304\n## factor(Stress"},{"page":242,"sentence":"Level)9 -9"},{"page":242,"sentence":"822984 1"},{"page":242,"sentence":"838339 -5"},{"page":242,"sentence":"343\n## Pr(>|t|)\n## (Intercept) 0"},{"page":242,"sentence":"15853\n## Age 0"},{"page":242,"sentence":"93748\n## factor(Gender)M 0"},{"page":242,"sentence":"81931\n## BMR"},{"page":242,"sentence":"Calories"},{"page":242,"sentence":"0"},{"page":242,"sentence":"50280\n## Daily"},{"page":242,"sentence":"Calories"},{"page":242,"sentence":"Consumed 0"},{"page":242,"sentence":"50293\n## Daily"},{"page":242,"sentence":"Caloric"},{"page":242,"sentence":"Surplus"},{"page":242,"sentence":"Deficit 0"},{"page":242,"sentence":"50307\n## Duration"},{"page":242,"sentence":"weeks"},{"page":242,"sentence":"0"},{"page":242,"sentence":"00176 **\n## factor(Physical"},{"page":242,"sentence":"Activity"},{"page":242,"sentence":"Level)Moderately Active 0"},{"page":242,"sentence":"80012\n## factor(Physical"},{"page":242,"sentence":"Activity"},{"page":242,"sentence":"Level)Sedentary 0"},{"page":242,"sentence":"99526\n## factor(Physical"},{"page":242,"sentence":"Activity"},{"page":242,"sentence":"Level)Very Active 0"},{"page":242,"sentence":"62263\n## factor(Sleep"},{"page":242,"sentence":"Quality)Fair 0"},{"page":242,"sentence":"26195\n## factor(Sleep"},{"page":242,"sentence":"Quality)Good 0"},{"page":242,"sentence":"14040\n## factor(Sleep"},{"page":242,"sentence":"Quality)Poor 1"},{"page":242,"sentence":"15e-07 ***\n## factor(Stress"},{"page":242,"sentence":"Level)2 0"},{"page":242,"sentence":"92912\n## factor(Stress"},{"page":242,"sentence":"Level)3 0"},{"page":242,"sentence":"38762\n## factor(Stress"},{"page":242,"sentence":"Level)4 0"},{"page":242,"sentence":"61160\n## factor(Stress"},{"page":242,"sentence":"Level)5 0"},{"page":242,"sentence":"66957\n## factor(Stress"},{"page":242,"sentence":"Level)6 0"},{"page":242,"sentence":"61667\n## factor(Stress"},{"page":242,"sentence":"Level)7 0"},{"page":242,"sentence":"69472\n## factor(Stress"},{"page":242,"sentence":"Level)8 1"},{"page":242,"sentence":"55e-08 ***\n## factor(Stress"},{"page":242,"sentence":"Level)9 8"},{"page":242,"sentence":"58e-07 ***\n## ---\n## Signif"},{"page":242,"sentence":"codes: 0 ’***’ 0"},{"page":242,"sentence":"001 ’**’ 0"},{"page":242,"sentence":"01 ’*’ 0"},{"page":242,"sentence":"05 ’"},{"page":242,"sentence":"’ 0"},{"page":242,"sentence":"1 ’ ’ 1\n24"},{"page":243,"sentence":"##\n## Residual standard error: 3"},{"page":243,"sentence":"925 on 79 degrees of freedom\n## Multiple R-squared: 0"},{"page":243,"sentence":"7781, Adjusted R-squared: 0"},{"page":243,"sentence":"7219\n## F-statistic: 13"},{"page":243,"sentence":"85 on 20 and 79 DF, p-value: < 2"},{"page":243,"sentence":"2e-16\nBased on our output, we can see that at least one predictor has a p-value < 0"},{"page":243,"sentence":"05, therefore we reject our null\nhypothesis and conclude that at least one predictor significantly affects weight change"},{"page":243,"sentence":"Before determining\nwhich predictors to include in our model, we want to test for multicollinearity"},{"page":243,"sentence":"This can be done using the\nVIF method"},{"page":243,"sentence":"## GVIF Df GVIF^(1\/(2*Df))\n## Age 1"},{"page":243,"sentence":"244553e+00 1 1"},{"page":243,"sentence":"115595\n## factor(Gender) 2"},{"page":243,"sentence":"106715e+00 1 1"},{"page":243,"sentence":"451453\n## BMR"},{"page":243,"sentence":"Calories"},{"page":243,"sentence":"9"},{"page":243,"sentence":"005157e+07 1 9489"},{"page":243,"sentence":"550825\n## Daily"},{"page":243,"sentence":"Calories"},{"page":243,"sentence":"Consumed 1"},{"page":243,"sentence":"786538e+08 1 13366"},{"page":243,"sentence":"144669\n## Daily"},{"page":243,"sentence":"Caloric"},{"page":243,"sentence":"Surplus"},{"page":243,"sentence":"Deficit 9"},{"page":243,"sentence":"361072e+07 1 9675"},{"page":243,"sentence":"263124\n## Duration"},{"page":243,"sentence":"weeks"},{"page":243,"sentence":"1"},{"page":243,"sentence":"185115e+00 1 1"},{"page":243,"sentence":"088630\n## factor(Physical"},{"page":243,"sentence":"Activity"},{"page":243,"sentence":"Level) 4"},{"page":243,"sentence":"324149e+00 3 1"},{"page":243,"sentence":"276390\n## factor(Sleep"},{"page":243,"sentence":"Quality) 1"},{"page":243,"sentence":"580526e+00 3 1"},{"page":243,"sentence":"079279\n## factor(Stress"},{"page":243,"sentence":"Level) 3"},{"page":243,"sentence":"048675e+00 8 1"},{"page":243,"sentence":"072153\n##\n## Call:\n## imcdiag(mod = weight_model_full, method = \"VIF\")\n##\n##\n## VIF Multicollinearity Diagnostics\n##\n## VIF detection\n## Age 1"},{"page":243,"sentence":"244600e+00 0\n## factor(Gender)M 2"},{"page":243,"sentence":"106700e+00 0\n## BMR"},{"page":243,"sentence":"Calories"},{"page":243,"sentence":"9"},{"page":243,"sentence":"005157e+07 1\n## Daily"},{"page":243,"sentence":"Calories"},{"page":243,"sentence":"Consumed 1"},{"page":243,"sentence":"786538e+08 1\n## Daily"},{"page":243,"sentence":"Caloric"},{"page":243,"sentence":"Surplus"},{"page":243,"sentence":"Deficit 9"},{"page":243,"sentence":"361071e+07 1\n## Duration"},{"page":243,"sentence":"weeks"},{"page":243,"sentence":"1"},{"page":243,"sentence":"185100e+00 0\n## factor(Physical"},{"page":243,"sentence":"Activity"},{"page":243,"sentence":"Level)Moderately Active 1"},{"page":243,"sentence":"894200e+00 0\n## factor(Physical"},{"page":243,"sentence":"Activity"},{"page":243,"sentence":"Level)Sedentary 1"},{"page":243,"sentence":"898400e+00 0\n## factor(Physical"},{"page":243,"sentence":"Activity"},{"page":243,"sentence":"Level)Very Active 2"},{"page":243,"sentence":"656800e+00 0\n## factor(Sleep"},{"page":243,"sentence":"Quality)Fair 2"},{"page":243,"sentence":"210900e+00 0\n## factor(Sleep"},{"page":243,"sentence":"Quality)Good 2"},{"page":243,"sentence":"234400e+00 0\n## factor(Sleep"},{"page":243,"sentence":"Quality)Poor 2"},{"page":243,"sentence":"471100e+00 0\n## factor(Stress"},{"page":243,"sentence":"Level)2 2"},{"page":243,"sentence":"305200e+00 0\n## factor(Stress"},{"page":243,"sentence":"Level)3 2"},{"page":243,"sentence":"297400e+00 0\n## factor(Stress"},{"page":243,"sentence":"Level)4 1"},{"page":243,"sentence":"647400e+00 0\n## factor(Stress"},{"page":243,"sentence":"Level)5 2"},{"page":243,"sentence":"055000e+00 0\n## factor(Stress"},{"page":243,"sentence":"Level)6 2"},{"page":243,"sentence":"096500e+00 0\n## factor(Stress"},{"page":243,"sentence":"Level)7 1"},{"page":243,"sentence":"994900e+00 0\n## factor(Stress"},{"page":243,"sentence":"Level)8 1"},{"page":243,"sentence":"955600e+00 0\n## factor(Stress"},{"page":243,"sentence":"Level)9 1"},{"page":243,"sentence":"796200e+00 0\n##\n## Multicollinearity may be due to BMR"},{"page":243,"sentence":"Calories"},{"page":243,"sentence":"Daily"},{"page":243,"sentence":"Calories"},{"page":243,"sentence":"Consumed Daily"},{"page":243,"sentence":"Caloric"},{"page":243,"sentence":"Surplus"},{"page":243,"sentence":"Deficit regressors\n##\n## 1 --> COLLINEARITY is detected by the test\n25"},{"page":244,"sentence":"## 0 --> COLLINEARITY is not detected by the test\n##\n## ===================================\nFrom our output, we can see that three variables have a VIF score > 5, suggesting multicollinearity"},{"page":244,"sentence":"These\nvariables are “BMR"},{"page":244,"sentence":"Calories"},{"page":244,"sentence":"”, “Daily"},{"page":244,"sentence":"Calories"},{"page":244,"sentence":"Consumed”, and “Daily"},{"page":244,"sentence":"Caloric"},{"page":244,"sentence":"Surplus"},{"page":244,"sentence":"Deficit”"},{"page":244,"sentence":"Based on\nthe definitions provided in the data set, “Daily"},{"page":244,"sentence":"Caloric"},{"page":244,"sentence":"Surplus"},{"page":244,"sentence":"Deficit” is the difference between calories\nconsumedandBMR,thereforewechosetokeep“Daily"},{"page":244,"sentence":"Caloric"},{"page":244,"sentence":"Surplus"},{"page":244,"sentence":"Deficit”andremove“BMR"},{"page":244,"sentence":"Calories"},{"page":244,"sentence":"”,\nand “Daily"},{"page":244,"sentence":"Calories"},{"page":244,"sentence":"Consumed”"},{"page":244,"sentence":"Following the removal of those variables, we will determine which predictors are significant using the hy-\npothesis test:\nH0:βi= 0(i=1,2,"},{"page":244,"sentence":",p)\nHa:βi̸= 0(i=1,2,"},{"page":244,"sentence":",p)\nThis can be achieved by looking at the individual t-tests from the summary of our adjusted model"},{"page":244,"sentence":"##\n## Call:\n## lm(formula = Weight"},{"page":244,"sentence":"Change"},{"page":244,"sentence":"lbs"},{"page":244,"sentence":"~ Daily"},{"page":244,"sentence":"Caloric"},{"page":244,"sentence":"Surplus"},{"page":244,"sentence":"Deficit +\n## Age + factor(Gender) + Duration"},{"page":244,"sentence":"weeks"},{"page":244,"sentence":"+ factor(Physical"},{"page":244,"sentence":"Activity"},{"page":244,"sentence":"Level) +\n## factor(Sleep"},{"page":244,"sentence":"Quality) + factor(Stress"},{"page":244,"sentence":"Level), data = weight)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -17"},{"page":244,"sentence":"221 -1"},{"page":244,"sentence":"637 0"},{"page":244,"sentence":"325 2"},{"page":244,"sentence":"286 9"},{"page":244,"sentence":"717\n##\n## Coefficients:\n## Estimate Std"},{"page":244,"sentence":"Error t value\n## (Intercept) 1"},{"page":244,"sentence":"098664 3"},{"page":244,"sentence":"061275 0"},{"page":244,"sentence":"359\n## Daily"},{"page":244,"sentence":"Caloric"},{"page":244,"sentence":"Surplus"},{"page":244,"sentence":"Deficit 0"},{"page":244,"sentence":"002679 0"},{"page":244,"sentence":"001871 1"},{"page":244,"sentence":"432\n## Age 0"},{"page":244,"sentence":"003592 0"},{"page":244,"sentence":"035076 0"},{"page":244,"sentence":"102\n## factor(Gender)M -0"},{"page":244,"sentence":"768568 0"},{"page":244,"sentence":"922416 -0"},{"page":244,"sentence":"833\n## Duration"},{"page":244,"sentence":"weeks"},{"page":244,"sentence":"-0"},{"page":244,"sentence":"402046 0"},{"page":244,"sentence":"121077 -3"},{"page":244,"sentence":"321\n## factor(Physical"},{"page":244,"sentence":"Activity"},{"page":244,"sentence":"Level)Moderately Active -0"},{"page":244,"sentence":"618016 1"},{"page":244,"sentence":"234619 -0"},{"page":244,"sentence":"501\n## factor(Physical"},{"page":244,"sentence":"Activity"},{"page":244,"sentence":"Level)Sedentary -0"},{"page":244,"sentence":"016837 1"},{"page":244,"sentence":"330946 -0"},{"page":244,"sentence":"013\n## factor(Physical"},{"page":244,"sentence":"Activity"},{"page":244,"sentence":"Level)Very Active 0"},{"page":244,"sentence":"360470 1"},{"page":244,"sentence":"505470 0"},{"page":244,"sentence":"239\n## factor(Sleep"},{"page":244,"sentence":"Quality)Fair 1"},{"page":244,"sentence":"587961 1"},{"page":244,"sentence":"365649 1"},{"page":244,"sentence":"163\n## factor(Sleep"},{"page":244,"sentence":"Quality)Good 2"},{"page":244,"sentence":"256215 1"},{"page":244,"sentence":"418302 1"},{"page":244,"sentence":"591\n## factor(Sleep"},{"page":244,"sentence":"Quality)Poor -7"},{"page":244,"sentence":"353535 1"},{"page":244,"sentence":"273937 -5"},{"page":244,"sentence":"772\n## factor(Stress"},{"page":244,"sentence":"Level)2 0"},{"page":244,"sentence":"382922 1"},{"page":244,"sentence":"680623 0"},{"page":244,"sentence":"228\n## factor(Stress"},{"page":244,"sentence":"Level)3 1"},{"page":244,"sentence":"499079 1"},{"page":244,"sentence":"707093 0"},{"page":244,"sentence":"878\n## factor(Stress"},{"page":244,"sentence":"Level)4 1"},{"page":244,"sentence":"272710 1"},{"page":244,"sentence":"961313 0"},{"page":244,"sentence":"649\n## factor(Stress"},{"page":244,"sentence":"Level)5 1"},{"page":244,"sentence":"420505 1"},{"page":244,"sentence":"757602 0"},{"page":244,"sentence":"808\n## factor(Stress"},{"page":244,"sentence":"Level)6 -0"},{"page":244,"sentence":"479314 1"},{"page":244,"sentence":"665477 -0"},{"page":244,"sentence":"288\n## factor(Stress"},{"page":244,"sentence":"Level)7 0"},{"page":244,"sentence":"924742 1"},{"page":244,"sentence":"821196 0"},{"page":244,"sentence":"508\n## factor(Stress"},{"page":244,"sentence":"Level)8 -10"},{"page":244,"sentence":"782512 1"},{"page":244,"sentence":"735068 -6"},{"page":244,"sentence":"214\n## factor(Stress"},{"page":244,"sentence":"Level)9 -9"},{"page":244,"sentence":"275712 1"},{"page":244,"sentence":"804889 -5"},{"page":244,"sentence":"139\n## Pr(>|t|)\n## (Intercept) 0"},{"page":244,"sentence":"72061\n## Daily"},{"page":244,"sentence":"Caloric"},{"page":244,"sentence":"Surplus"},{"page":244,"sentence":"Deficit 0"},{"page":244,"sentence":"15610\n## Age 0"},{"page":244,"sentence":"91868\n## factor(Gender)M 0"},{"page":244,"sentence":"40718\n## Duration"},{"page":244,"sentence":"weeks"},{"page":244,"sentence":"0"},{"page":244,"sentence":"00135 **\n26"},{"page":245,"sentence":"## factor(Physical"},{"page":245,"sentence":"Activity"},{"page":245,"sentence":"Level)Moderately Active 0"},{"page":245,"sentence":"61803\n## factor(Physical"},{"page":245,"sentence":"Activity"},{"page":245,"sentence":"Level)Sedentary 0"},{"page":245,"sentence":"98994\n## factor(Physical"},{"page":245,"sentence":"Activity"},{"page":245,"sentence":"Level)Very Active 0"},{"page":245,"sentence":"81137\n## factor(Sleep"},{"page":245,"sentence":"Quality)Fair 0"},{"page":245,"sentence":"24833\n## factor(Sleep"},{"page":245,"sentence":"Quality)Good 0"},{"page":245,"sentence":"11555\n## factor(Sleep"},{"page":245,"sentence":"Quality)Poor 1"},{"page":245,"sentence":"39e-07 ***\n## factor(Stress"},{"page":245,"sentence":"Level)2 0"},{"page":245,"sentence":"82034\n## factor(Stress"},{"page":245,"sentence":"Level)3 0"},{"page":245,"sentence":"38246\n## factor(Stress"},{"page":245,"sentence":"Level)4 0"},{"page":245,"sentence":"51823\n## factor(Stress"},{"page":245,"sentence":"Level)5 0"},{"page":245,"sentence":"42134\n## factor(Stress"},{"page":245,"sentence":"Level)6 0"},{"page":245,"sentence":"77424\n## factor(Stress"},{"page":245,"sentence":"Level)7 0"},{"page":245,"sentence":"61300\n## factor(Stress"},{"page":245,"sentence":"Level)8 2"},{"page":245,"sentence":"11e-08 ***\n## factor(Stress"},{"page":245,"sentence":"Level)9 1"},{"page":245,"sentence":"87e-06 ***\n## ---\n## Signif"},{"page":245,"sentence":"codes: 0 ’***’ 0"},{"page":245,"sentence":"001 ’**’ 0"},{"page":245,"sentence":"01 ’*’ 0"},{"page":245,"sentence":"05 ’"},{"page":245,"sentence":"’ 0"},{"page":245,"sentence":"1 ’ ’ 1\n##\n## Residual standard error: 3"},{"page":245,"sentence":"939 on 81 degrees of freedom\n## Multiple R-squared: 0"},{"page":245,"sentence":"7709, Adjusted R-squared: 0"},{"page":245,"sentence":"72\n## F-statistic: 15"},{"page":245,"sentence":"14 on 18 and 81 DF, p-value: < 2"},{"page":245,"sentence":"2e-16\nBased on this output, we can see there are 4 instances where the null hypothesis is rejected (p-value < 0"},{"page":245,"sentence":"05),\nimplying that these variables are significant and should be included in our model"},{"page":245,"sentence":"These variables are:\n•Duration"},{"page":245,"sentence":"weeks"},{"page":245,"sentence":"•factor(Sleep"},{"page":245,"sentence":"Quality)Poor\n•factor(Stress"},{"page":245,"sentence":"Level)8\n•factor(Stress"},{"page":245,"sentence":"Level)9\nDespite the fact that only some of the dummies are significant, for the categories “Sleep"},{"page":245,"sentence":"Quality” and\n“Stress"},{"page":245,"sentence":"Level”, wemustincludethefullvariableinourmodel"},{"page":245,"sentence":"Thereforeourmodelwillincludethepredictors\nSleep"},{"page":245,"sentence":"Quality, Stress"},{"page":245,"sentence":"Level and Duration"},{"page":245,"sentence":"weeks"},{"page":245,"sentence":"NOTEAn attempt was made to use stepwise regression to determine which variables were best to keep,\nwith the code for that being included in the appendix"},{"page":245,"sentence":"Upon running the stepwise, it was determined that\na 4th variable, Daily,Caloric"},{"page":245,"sentence":"Surplus"},{"page":245,"sentence":"Deficit should be included"},{"page":245,"sentence":"In the end we chose not to include this\nvariable for a couple reasons"},{"page":245,"sentence":"First, our categorical variables had many levels, in which case it is often better\nto just manually select significant predictors using t-tests from our summary table"},{"page":245,"sentence":"When performing this\nmanual selection, we found the variable the stepwise selection wanted to include, had a p-value 0f 0"},{"page":245,"sentence":"15610,\nand a coefficient of 0"},{"page":245,"sentence":"002679"},{"page":245,"sentence":"This implied the variable had no significant effect"},{"page":245,"sentence":"Based on this, and to avoid\noverfitting and complicating our model, we chose to not include this variable\n##\n## Call:\n## lm(formula = Weight"},{"page":245,"sentence":"Change"},{"page":245,"sentence":"lbs"},{"page":245,"sentence":"~ factor(Sleep"},{"page":245,"sentence":"Quality) + Duration"},{"page":245,"sentence":"weeks"},{"page":245,"sentence":"+\n## factor(Stress"},{"page":245,"sentence":"Level), data = weight)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -18"},{"page":245,"sentence":"2553 -1"},{"page":245,"sentence":"9040 0"},{"page":245,"sentence":"2041 2"},{"page":245,"sentence":"3282 12"},{"page":245,"sentence":"3789\n##\n## Coefficients:\n## Estimate Std"},{"page":245,"sentence":"Error t value Pr(>|t|)\n## (Intercept) 3"},{"page":245,"sentence":"7718 1"},{"page":245,"sentence":"7173 2"},{"page":245,"sentence":"196 0"},{"page":245,"sentence":"0307 *\n27"},{"page":246,"sentence":"## factor(Sleep"},{"page":246,"sentence":"Quality)Fair 1"},{"page":246,"sentence":"4083 1"},{"page":246,"sentence":"3413 1"},{"page":246,"sentence":"050 0"},{"page":246,"sentence":"2967\n## factor(Sleep"},{"page":246,"sentence":"Quality)Good 1"},{"page":246,"sentence":"8466 1"},{"page":246,"sentence":"3895 1"},{"page":246,"sentence":"329 0"},{"page":246,"sentence":"1873\n## factor(Sleep"},{"page":246,"sentence":"Quality)Poor -7"},{"page":246,"sentence":"4041 1"},{"page":246,"sentence":"2362 -5"},{"page":246,"sentence":"990 4"},{"page":246,"sentence":"62e-08 ***\n## Duration"},{"page":246,"sentence":"weeks"},{"page":246,"sentence":"-0"},{"page":246,"sentence":"3650 0"},{"page":246,"sentence":"1204 -3"},{"page":246,"sentence":"032 0"},{"page":246,"sentence":"0032 **\n## factor(Stress"},{"page":246,"sentence":"Level)2 -0"},{"page":246,"sentence":"3405 1"},{"page":246,"sentence":"6188 -0"},{"page":246,"sentence":"210 0"},{"page":246,"sentence":"8339\n## factor(Stress"},{"page":246,"sentence":"Level)3 0"},{"page":246,"sentence":"4781 1"},{"page":246,"sentence":"6168 0"},{"page":246,"sentence":"296 0"},{"page":246,"sentence":"7682\n## factor(Stress"},{"page":246,"sentence":"Level)4 0"},{"page":246,"sentence":"6451 1"},{"page":246,"sentence":"9312 0"},{"page":246,"sentence":"334 0"},{"page":246,"sentence":"7391\n## factor(Stress"},{"page":246,"sentence":"Level)5 0"},{"page":246,"sentence":"9831 1"},{"page":246,"sentence":"7142 0"},{"page":246,"sentence":"573 0"},{"page":246,"sentence":"5678\n## factor(Stress"},{"page":246,"sentence":"Level)6 -0"},{"page":246,"sentence":"3863 1"},{"page":246,"sentence":"6471 -0"},{"page":246,"sentence":"235 0"},{"page":246,"sentence":"8151\n## factor(Stress"},{"page":246,"sentence":"Level)7 0"},{"page":246,"sentence":"4839 1"},{"page":246,"sentence":"7548 0"},{"page":246,"sentence":"276 0"},{"page":246,"sentence":"7834\n## factor(Stress"},{"page":246,"sentence":"Level)8 -11"},{"page":246,"sentence":"3423 1"},{"page":246,"sentence":"6987 -6"},{"page":246,"sentence":"677 2"},{"page":246,"sentence":"19e-09 ***\n## factor(Stress"},{"page":246,"sentence":"Level)9 -9"},{"page":246,"sentence":"7760 1"},{"page":246,"sentence":"7911 -5"},{"page":246,"sentence":"458 4"},{"page":246,"sentence":"48e-07 ***\n## ---\n## Signif"},{"page":246,"sentence":"codes: 0 ’***’ 0"},{"page":246,"sentence":"001 ’**’ 0"},{"page":246,"sentence":"01 ’*’ 0"},{"page":246,"sentence":"05 ’"},{"page":246,"sentence":"’ 0"},{"page":246,"sentence":"1 ’ ’ 1\n##\n## Residual standard error: 3"},{"page":246,"sentence":"964 on 87 degrees of freedom\n## Multiple R-squared: 0"},{"page":246,"sentence":"7507, Adjusted R-squared: 0"},{"page":246,"sentence":"7164\n## F-statistic: 21"},{"page":246,"sentence":"84 on 12 and 87 DF, p-value: < 2"},{"page":246,"sentence":"2e-16\nWe can see that all predictors are now significant"},{"page":246,"sentence":"Before moving on to interaction terms, we should check\nagain for multicollinearity, just to be certain:\n## GVIF Df GVIF^(1\/(2*Df))\n## factor(Sleep"},{"page":246,"sentence":"Quality) 1"},{"page":246,"sentence":"303780 3 1"},{"page":246,"sentence":"045203\n## Duration"},{"page":246,"sentence":"weeks"},{"page":246,"sentence":"1"},{"page":246,"sentence":"128093 1 1"},{"page":246,"sentence":"062117\n## factor(Stress"},{"page":246,"sentence":"Level) 1"},{"page":246,"sentence":"308020 8 1"},{"page":246,"sentence":"016924\n##\n## Call:\n## imcdiag(mod = weight_model_adj2, method = \"VIF\")\n##\n##\n## VIF Multicollinearity Diagnostics\n##\n## VIF detection\n## factor(Sleep"},{"page":246,"sentence":"Quality)Fair 2"},{"page":246,"sentence":"0880 0\n## factor(Sleep"},{"page":246,"sentence":"Quality)Good 2"},{"page":246,"sentence":"1080 0\n## factor(Sleep"},{"page":246,"sentence":"Quality)Poor 2"},{"page":246,"sentence":"2907 0\n## Duration"},{"page":246,"sentence":"weeks"},{"page":246,"sentence":"1"},{"page":246,"sentence":"1281 0\n## factor(Stress"},{"page":246,"sentence":"Level)2 2"},{"page":246,"sentence":"0076 0\n## factor(Stress"},{"page":246,"sentence":"Level)3 2"},{"page":246,"sentence":"0025 0\n## factor(Stress"},{"page":246,"sentence":"Level)4 1"},{"page":246,"sentence":"5448 0\n## factor(Stress"},{"page":246,"sentence":"Level)5 1"},{"page":246,"sentence":"8305 0\n## factor(Stress"},{"page":246,"sentence":"Level)6 1"},{"page":246,"sentence":"9523 0\n## factor(Stress"},{"page":246,"sentence":"Level)7 1"},{"page":246,"sentence":"7634 0\n## factor(Stress"},{"page":246,"sentence":"Level)8 1"},{"page":246,"sentence":"7974 0\n## factor(Stress"},{"page":246,"sentence":"Level)9 1"},{"page":246,"sentence":"6718 0\n##\n## NOTE: VIF Method Failed to detect multicollinearity\n##\n##\n## 0 --> COLLINEARITY is not detected by the test\n##\n## ===================================\n28"},{"page":247,"sentence":"As we can see from our output, there are no issues with multicollinearity"},{"page":247,"sentence":"Now we can begin checking for interaction terms"},{"page":247,"sentence":"We can start by testing all interaction terms for our model\nusing the hypothesis test:\nH0:βinteraction = 0(i=1,2,"},{"page":247,"sentence":",p)\nHa:βinteraction̸= 0(i=1,2,"},{"page":247,"sentence":",p)\n##\n## Call:\n## lm(formula = Weight"},{"page":247,"sentence":"Change"},{"page":247,"sentence":"lbs"},{"page":247,"sentence":"~ (factor(Sleep"},{"page":247,"sentence":"Quality) + Duration"},{"page":247,"sentence":"weeks"},{"page":247,"sentence":"+\n## factor(Stress"},{"page":247,"sentence":"Level))^2, data = weight)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -10"},{"page":247,"sentence":"0955 -0"},{"page":247,"sentence":"5464 0"},{"page":247,"sentence":"0000 0"},{"page":247,"sentence":"9004 9"},{"page":247,"sentence":"1887\n##\n## Coefficients: (2 not defined because of singularities)\n## Estimate Std"},{"page":247,"sentence":"Error t value\n## (Intercept) 0"},{"page":247,"sentence":"173136 3"},{"page":247,"sentence":"385089 0"},{"page":247,"sentence":"051\n## factor(Sleep"},{"page":247,"sentence":"Quality)Fair 0"},{"page":247,"sentence":"630967 4"},{"page":247,"sentence":"305253 0"},{"page":247,"sentence":"147\n## factor(Sleep"},{"page":247,"sentence":"Quality)Good -0"},{"page":247,"sentence":"515159 4"},{"page":247,"sentence":"272899 -0"},{"page":247,"sentence":"121\n## factor(Sleep"},{"page":247,"sentence":"Quality)Poor 1"},{"page":247,"sentence":"111739 4"},{"page":247,"sentence":"146862 0"},{"page":247,"sentence":"268\n## Duration"},{"page":247,"sentence":"weeks"},{"page":247,"sentence":"0"},{"page":247,"sentence":"242288 0"},{"page":247,"sentence":"465477 0"},{"page":247,"sentence":"521\n## factor(Stress"},{"page":247,"sentence":"Level)2 0"},{"page":247,"sentence":"403610 4"},{"page":247,"sentence":"337921 0"},{"page":247,"sentence":"093\n## factor(Stress"},{"page":247,"sentence":"Level)3 -1"},{"page":247,"sentence":"956105 3"},{"page":247,"sentence":"862834 -0"},{"page":247,"sentence":"506\n## factor(Stress"},{"page":247,"sentence":"Level)4 -1"},{"page":247,"sentence":"834648 3"},{"page":247,"sentence":"855770 -0"},{"page":247,"sentence":"476\n## factor(Stress"},{"page":247,"sentence":"Level)5 -4"},{"page":247,"sentence":"257771 4"},{"page":247,"sentence":"621632 -0"},{"page":247,"sentence":"921\n## factor(Stress"},{"page":247,"sentence":"Level)6 0"},{"page":247,"sentence":"391914 3"},{"page":247,"sentence":"849036 0"},{"page":247,"sentence":"102\n## factor(Stress"},{"page":247,"sentence":"Level)7 -2"},{"page":247,"sentence":"320497 4"},{"page":247,"sentence":"601681 -0"},{"page":247,"sentence":"504\n## factor(Stress"},{"page":247,"sentence":"Level)8 1"},{"page":247,"sentence":"171047 5"},{"page":247,"sentence":"307511 0"},{"page":247,"sentence":"221\n## factor(Stress"},{"page":247,"sentence":"Level)9 -3"},{"page":247,"sentence":"418483 3"},{"page":247,"sentence":"543061 -0"},{"page":247,"sentence":"965\n## factor(Sleep"},{"page":247,"sentence":"Quality)Fair:Duration"},{"page":247,"sentence":"weeks"},{"page":247,"sentence":"-0"},{"page":247,"sentence":"009411 0"},{"page":247,"sentence":"393084 -0"},{"page":247,"sentence":"024\n## factor(Sleep"},{"page":247,"sentence":"Quality)Good:Duration"},{"page":247,"sentence":"weeks"},{"page":247,"sentence":"0"},{"page":247,"sentence":"045802 0"},{"page":247,"sentence":"439363 0"},{"page":247,"sentence":"104\n## factor(Sleep"},{"page":247,"sentence":"Quality)Poor:Duration"},{"page":247,"sentence":"weeks"},{"page":247,"sentence":"-1"},{"page":247,"sentence":"208733 0"},{"page":247,"sentence":"442719 -2"},{"page":247,"sentence":"730\n## factor(Sleep"},{"page":247,"sentence":"Quality)Fair:factor(Stress"},{"page":247,"sentence":"Level)2 -1"},{"page":247,"sentence":"610491 4"},{"page":247,"sentence":"861653 -0"},{"page":247,"sentence":"331\n## factor(Sleep"},{"page":247,"sentence":"Quality)Good:factor(Stress"},{"page":247,"sentence":"Level)2 0"},{"page":247,"sentence":"638105 4"},{"page":247,"sentence":"726767 0"},{"page":247,"sentence":"135\n## factor(Sleep"},{"page":247,"sentence":"Quality)Poor:factor(Stress"},{"page":247,"sentence":"Level)2 -0"},{"page":247,"sentence":"271656 5"},{"page":247,"sentence":"459211 -0"},{"page":247,"sentence":"050\n## factor(Sleep"},{"page":247,"sentence":"Quality)Fair:factor(Stress"},{"page":247,"sentence":"Level)3 -2"},{"page":247,"sentence":"208279 6"},{"page":247,"sentence":"084939 -0"},{"page":247,"sentence":"363\n## factor(Sleep"},{"page":247,"sentence":"Quality)Good:factor(Stress"},{"page":247,"sentence":"Level)3 -3"},{"page":247,"sentence":"121900 5"},{"page":247,"sentence":"144181 -0"},{"page":247,"sentence":"607\n## factor(Sleep"},{"page":247,"sentence":"Quality)Poor:factor(Stress"},{"page":247,"sentence":"Level)3 -0"},{"page":247,"sentence":"806757 4"},{"page":247,"sentence":"378219 -0"},{"page":247,"sentence":"184\n## factor(Sleep"},{"page":247,"sentence":"Quality)Fair:factor(Stress"},{"page":247,"sentence":"Level)4 -1"},{"page":247,"sentence":"857250 7"},{"page":247,"sentence":"660308 -0"},{"page":247,"sentence":"242\n## factor(Sleep"},{"page":247,"sentence":"Quality)Good:factor(Stress"},{"page":247,"sentence":"Level)4 -0"},{"page":247,"sentence":"499270 5"},{"page":247,"sentence":"817921 -0"},{"page":247,"sentence":"086\n## factor(Sleep"},{"page":247,"sentence":"Quality)Poor:factor(Stress"},{"page":247,"sentence":"Level)4 NA NA NA\n## factor(Sleep"},{"page":247,"sentence":"Quality)Fair:factor(Stress"},{"page":247,"sentence":"Level)5 -0"},{"page":247,"sentence":"155156 5"},{"page":247,"sentence":"133104 -0"},{"page":247,"sentence":"030\n## factor(Sleep"},{"page":247,"sentence":"Quality)Good:factor(Stress"},{"page":247,"sentence":"Level)5 -4"},{"page":247,"sentence":"340225 6"},{"page":247,"sentence":"172293 -0"},{"page":247,"sentence":"703\n## factor(Sleep"},{"page":247,"sentence":"Quality)Poor:factor(Stress"},{"page":247,"sentence":"Level)5 -0"},{"page":247,"sentence":"442804 4"},{"page":247,"sentence":"533601 -0"},{"page":247,"sentence":"098\n## factor(Sleep"},{"page":247,"sentence":"Quality)Fair:factor(Stress"},{"page":247,"sentence":"Level)6 -0"},{"page":247,"sentence":"991839 4"},{"page":247,"sentence":"720897 -0"},{"page":247,"sentence":"210\n## factor(Sleep"},{"page":247,"sentence":"Quality)Good:factor(Stress"},{"page":247,"sentence":"Level)6 -2"},{"page":247,"sentence":"044183 5"},{"page":247,"sentence":"054225 -0"},{"page":247,"sentence":"404\n## factor(Sleep"},{"page":247,"sentence":"Quality)Poor:factor(Stress"},{"page":247,"sentence":"Level)6 -3"},{"page":247,"sentence":"334619 4"},{"page":247,"sentence":"372421 -0"},{"page":247,"sentence":"763\n## factor(Sleep"},{"page":247,"sentence":"Quality)Fair:factor(Stress"},{"page":247,"sentence":"Level)7 0"},{"page":247,"sentence":"052776 5"},{"page":247,"sentence":"351148 0"},{"page":247,"sentence":"010\n## factor(Sleep"},{"page":247,"sentence":"Quality)Good:factor(Stress"},{"page":247,"sentence":"Level)7 1"},{"page":247,"sentence":"618175 6"},{"page":247,"sentence":"488306 0"},{"page":247,"sentence":"249\n## factor(Sleep"},{"page":247,"sentence":"Quality)Poor:factor(Stress"},{"page":247,"sentence":"Level)7 1"},{"page":247,"sentence":"392698 5"},{"page":247,"sentence":"095646 0"},{"page":247,"sentence":"273\n## factor(Sleep"},{"page":247,"sentence":"Quality)Fair:factor(Stress"},{"page":247,"sentence":"Level)8 -4"},{"page":247,"sentence":"308983 5"},{"page":247,"sentence":"585545 -0"},{"page":247,"sentence":"771\n## factor(Sleep"},{"page":247,"sentence":"Quality)Good:factor(Stress"},{"page":247,"sentence":"Level)8 -3"},{"page":247,"sentence":"359882 5"},{"page":247,"sentence":"572127 -0"},{"page":247,"sentence":"603\n29"},{"page":248,"sentence":"## factor(Sleep"},{"page":248,"sentence":"Quality)Poor:factor(Stress"},{"page":248,"sentence":"Level)8 -4"},{"page":248,"sentence":"244128 5"},{"page":248,"sentence":"215951 -0"},{"page":248,"sentence":"814\n## factor(Sleep"},{"page":248,"sentence":"Quality)Fair:factor(Stress"},{"page":248,"sentence":"Level)9 3"},{"page":248,"sentence":"681779 3"},{"page":248,"sentence":"459445 1"},{"page":248,"sentence":"064\n## factor(Sleep"},{"page":248,"sentence":"Quality)Good:factor(Stress"},{"page":248,"sentence":"Level)9 4"},{"page":248,"sentence":"692112 3"},{"page":248,"sentence":"573977 1"},{"page":248,"sentence":"313\n## factor(Sleep"},{"page":248,"sentence":"Quality)Poor:factor(Stress"},{"page":248,"sentence":"Level)9 NA NA NA\n## Duration"},{"page":248,"sentence":"weeks"},{"page":248,"sentence":":factor(Stress"},{"page":248,"sentence":"Level)2 -0"},{"page":248,"sentence":"043603 0"},{"page":248,"sentence":"388747 -0"},{"page":248,"sentence":"112\n## Duration"},{"page":248,"sentence":"weeks"},{"page":248,"sentence":":factor(Stress"},{"page":248,"sentence":"Level)3 0"},{"page":248,"sentence":"472603 0"},{"page":248,"sentence":"462794 1"},{"page":248,"sentence":"021\n## Duration"},{"page":248,"sentence":"weeks"},{"page":248,"sentence":":factor(Stress"},{"page":248,"sentence":"Level)4 0"},{"page":248,"sentence":"335902 0"},{"page":248,"sentence":"851910 0"},{"page":248,"sentence":"394\n## Duration"},{"page":248,"sentence":"weeks"},{"page":248,"sentence":":factor(Stress"},{"page":248,"sentence":"Level)5 0"},{"page":248,"sentence":"924639 0"},{"page":248,"sentence":"550379 1"},{"page":248,"sentence":"680\n## Duration"},{"page":248,"sentence":"weeks"},{"page":248,"sentence":":factor(Stress"},{"page":248,"sentence":"Level)6 0"},{"page":248,"sentence":"091339 0"},{"page":248,"sentence":"400593 0"},{"page":248,"sentence":"228\n## Duration"},{"page":248,"sentence":"weeks"},{"page":248,"sentence":":factor(Stress"},{"page":248,"sentence":"Level)7 0"},{"page":248,"sentence":"198939 0"},{"page":248,"sentence":"543024 0"},{"page":248,"sentence":"366\n## Duration"},{"page":248,"sentence":"weeks"},{"page":248,"sentence":":factor(Stress"},{"page":248,"sentence":"Level)8 -1"},{"page":248,"sentence":"079441 0"},{"page":248,"sentence":"518387 -2"},{"page":248,"sentence":"082\n## Duration"},{"page":248,"sentence":"weeks"},{"page":248,"sentence":":factor(Stress"},{"page":248,"sentence":"Level)9 -1"},{"page":248,"sentence":"245371 0"},{"page":248,"sentence":"377083 -3"},{"page":248,"sentence":"303\n## Pr(>|t|)\n## (Intercept) 0"},{"page":248,"sentence":"95940\n## factor(Sleep"},{"page":248,"sentence":"Quality)Fair 0"},{"page":248,"sentence":"88403\n## factor(Sleep"},{"page":248,"sentence":"Quality)Good 0"},{"page":248,"sentence":"90448\n## factor(Sleep"},{"page":248,"sentence":"Quality)Poor 0"},{"page":248,"sentence":"78965\n## Duration"},{"page":248,"sentence":"weeks"},{"page":248,"sentence":"0"},{"page":248,"sentence":"60483\n## factor(Stress"},{"page":248,"sentence":"Level)2 0"},{"page":248,"sentence":"92621\n## factor(Stress"},{"page":248,"sentence":"Level)3 0"},{"page":248,"sentence":"61464\n## factor(Stress"},{"page":248,"sentence":"Level)4 0"},{"page":248,"sentence":"63612\n## factor(Stress"},{"page":248,"sentence":"Level)5 0"},{"page":248,"sentence":"36101\n## factor(Stress"},{"page":248,"sentence":"Level)6 0"},{"page":248,"sentence":"91928\n## factor(Stress"},{"page":248,"sentence":"Level)7 0"},{"page":248,"sentence":"61612\n## factor(Stress"},{"page":248,"sentence":"Level)8 0"},{"page":248,"sentence":"82621\n## factor(Stress"},{"page":248,"sentence":"Level)9 0"},{"page":248,"sentence":"33893\n## factor(Sleep"},{"page":248,"sentence":"Quality)Fair:Duration"},{"page":248,"sentence":"weeks"},{"page":248,"sentence":"0"},{"page":248,"sentence":"98099\n## factor(Sleep"},{"page":248,"sentence":"Quality)Good:Duration"},{"page":248,"sentence":"weeks"},{"page":248,"sentence":"0"},{"page":248,"sentence":"91736\n## factor(Sleep"},{"page":248,"sentence":"Quality)Poor:Duration"},{"page":248,"sentence":"weeks"},{"page":248,"sentence":"0"},{"page":248,"sentence":"00853 **\n## factor(Sleep"},{"page":248,"sentence":"Quality)Fair:factor(Stress"},{"page":248,"sentence":"Level)2 0"},{"page":248,"sentence":"74173\n## factor(Sleep"},{"page":248,"sentence":"Quality)Good:factor(Stress"},{"page":248,"sentence":"Level)2 0"},{"page":248,"sentence":"89312\n## factor(Sleep"},{"page":248,"sentence":"Quality)Poor:factor(Stress"},{"page":248,"sentence":"Level)2 0"},{"page":248,"sentence":"96050\n## factor(Sleep"},{"page":248,"sentence":"Quality)Fair:factor(Stress"},{"page":248,"sentence":"Level)3 0"},{"page":248,"sentence":"71809\n## factor(Sleep"},{"page":248,"sentence":"Quality)Good:factor(Stress"},{"page":248,"sentence":"Level)3 0"},{"page":248,"sentence":"54647\n## factor(Sleep"},{"page":248,"sentence":"Quality)Poor:factor(Stress"},{"page":248,"sentence":"Level)3 0"},{"page":248,"sentence":"85450\n## factor(Sleep"},{"page":248,"sentence":"Quality)Fair:factor(Stress"},{"page":248,"sentence":"Level)4 0"},{"page":248,"sentence":"80935\n## factor(Sleep"},{"page":248,"sentence":"Quality)Good:factor(Stress"},{"page":248,"sentence":"Level)4 0"},{"page":248,"sentence":"93193\n## factor(Sleep"},{"page":248,"sentence":"Quality)Poor:factor(Stress"},{"page":248,"sentence":"Level)4 NA\n## factor(Sleep"},{"page":248,"sentence":"Quality)Fair:factor(Stress"},{"page":248,"sentence":"Level)5 0"},{"page":248,"sentence":"97600\n## factor(Sleep"},{"page":248,"sentence":"Quality)Good:factor(Stress"},{"page":248,"sentence":"Level)5 0"},{"page":248,"sentence":"48497\n## factor(Sleep"},{"page":248,"sentence":"Quality)Poor:factor(Stress"},{"page":248,"sentence":"Level)5 0"},{"page":248,"sentence":"92255\n## factor(Sleep"},{"page":248,"sentence":"Quality)Fair:factor(Stress"},{"page":248,"sentence":"Level)6 0"},{"page":248,"sentence":"83438\n## factor(Sleep"},{"page":248,"sentence":"Quality)Good:factor(Stress"},{"page":248,"sentence":"Level)6 0"},{"page":248,"sentence":"68748\n## factor(Sleep"},{"page":248,"sentence":"Quality)Poor:factor(Stress"},{"page":248,"sentence":"Level)6 0"},{"page":248,"sentence":"44899\n## factor(Sleep"},{"page":248,"sentence":"Quality)Fair:factor(Stress"},{"page":248,"sentence":"Level)7 0"},{"page":248,"sentence":"99217\n## factor(Sleep"},{"page":248,"sentence":"Quality)Good:factor(Stress"},{"page":248,"sentence":"Level)7 0"},{"page":248,"sentence":"80400\n## factor(Sleep"},{"page":248,"sentence":"Quality)Poor:factor(Stress"},{"page":248,"sentence":"Level)7 0"},{"page":248,"sentence":"78566\n## factor(Sleep"},{"page":248,"sentence":"Quality)Fair:factor(Stress"},{"page":248,"sentence":"Level)8 0"},{"page":248,"sentence":"44380\n## factor(Sleep"},{"page":248,"sentence":"Quality)Good:factor(Stress"},{"page":248,"sentence":"Level)8 0"},{"page":248,"sentence":"54905\n## factor(Sleep"},{"page":248,"sentence":"Quality)Poor:factor(Stress"},{"page":248,"sentence":"Level)8 0"},{"page":248,"sentence":"41940\n## factor(Sleep"},{"page":248,"sentence":"Quality)Fair:factor(Stress"},{"page":248,"sentence":"Level)9 0"},{"page":248,"sentence":"29194\n## factor(Sleep"},{"page":248,"sentence":"Quality)Good:factor(Stress"},{"page":248,"sentence":"Level)9 0"},{"page":248,"sentence":"19478\n## factor(Sleep"},{"page":248,"sentence":"Quality)Poor:factor(Stress"},{"page":248,"sentence":"Level)9 NA\n## Duration"},{"page":248,"sentence":"weeks"},{"page":248,"sentence":":factor(Stress"},{"page":248,"sentence":"Level)2 0"},{"page":248,"sentence":"91111\n30"},{"page":249,"sentence":"## Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":":factor(Stress"},{"page":249,"sentence":"Level)3 0"},{"page":249,"sentence":"31172\n## Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":":factor(Stress"},{"page":249,"sentence":"Level)4 0"},{"page":249,"sentence":"69492\n## Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":":factor(Stress"},{"page":249,"sentence":"Level)5 0"},{"page":249,"sentence":"09873"},{"page":249,"sentence":"## Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":":factor(Stress"},{"page":249,"sentence":"Level)6 0"},{"page":249,"sentence":"82050\n## Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":":factor(Stress"},{"page":249,"sentence":"Level)7 0"},{"page":249,"sentence":"71553\n## Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":":factor(Stress"},{"page":249,"sentence":"Level)8 0"},{"page":249,"sentence":"04207 *\n## Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":":factor(Stress"},{"page":249,"sentence":"Level)9 0"},{"page":249,"sentence":"00170 **\n## ---\n## Signif"},{"page":249,"sentence":"codes: 0 ’***’ 0"},{"page":249,"sentence":"001 ’**’ 0"},{"page":249,"sentence":"01 ’*’ 0"},{"page":249,"sentence":"05 ’"},{"page":249,"sentence":"’ 0"},{"page":249,"sentence":"1 ’ ’ 1\n##\n## Residual standard error: 3"},{"page":249,"sentence":"084 on 54 degrees of freedom\n## Multiple R-squared: 0"},{"page":249,"sentence":"9064, Adjusted R-squared: 0"},{"page":249,"sentence":"8284\n## F-statistic: 11"},{"page":249,"sentence":"62 on 45 and 54 DF, p-value: 7"},{"page":249,"sentence":"362e-16\nBasedonouroutput,wecanseethesignificantvariables(withap-value<0"},{"page":249,"sentence":"05)are“factor(Sleep"},{"page":249,"sentence":"Quality)Poor:Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":"”,\n“Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":":factor(Stress"},{"page":249,"sentence":"Level)8”, “Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":":factor(Stress"},{"page":249,"sentence":"Level)9”"},{"page":249,"sentence":"Although none of the\ninitial predictors are considered significant, they are all parts of significant interaction terms, and\nmust therefore be included in the model, therefore our interaction model would include ‘Sleep"},{"page":249,"sentence":"Quality’,\n‘Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":"’, ‘Stress"},{"page":249,"sentence":"Level’, ‘Sleep"},{"page":249,"sentence":"Quality’:‘Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":"’, and ‘Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":"’:‘Stress"},{"page":249,"sentence":"Level’"},{"page":249,"sentence":"##\n## Call:\n## lm(formula = Weight"},{"page":249,"sentence":"Change"},{"page":249,"sentence":"lbs"},{"page":249,"sentence":"~ factor(Sleep"},{"page":249,"sentence":"Quality) + Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":"+\n## factor(Stress"},{"page":249,"sentence":"Level) + factor(Sleep"},{"page":249,"sentence":"Quality) * Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":"+\n## Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":"* factor(Stress"},{"page":249,"sentence":"Level), data = weight)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -11"},{"page":249,"sentence":"2934 -0"},{"page":249,"sentence":"7740 0"},{"page":249,"sentence":"0613 0"},{"page":249,"sentence":"9565 8"},{"page":249,"sentence":"9577\n##\n## Coefficients:\n## Estimate Std"},{"page":249,"sentence":"Error t value\n## (Intercept) 0"},{"page":249,"sentence":"846572 2"},{"page":249,"sentence":"428365 0"},{"page":249,"sentence":"349\n## factor(Sleep"},{"page":249,"sentence":"Quality)Fair -0"},{"page":249,"sentence":"060956 2"},{"page":249,"sentence":"125053 -0"},{"page":249,"sentence":"029\n## factor(Sleep"},{"page":249,"sentence":"Quality)Good -0"},{"page":249,"sentence":"731905 2"},{"page":249,"sentence":"427593 -0"},{"page":249,"sentence":"301\n## factor(Sleep"},{"page":249,"sentence":"Quality)Poor -0"},{"page":249,"sentence":"876532 2"},{"page":249,"sentence":"005304 -0"},{"page":249,"sentence":"437\n## Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":"0"},{"page":249,"sentence":"266336 0"},{"page":249,"sentence":"345765 0"},{"page":249,"sentence":"770\n## factor(Stress"},{"page":249,"sentence":"Level)2 -0"},{"page":249,"sentence":"053039 2"},{"page":249,"sentence":"626820 -0"},{"page":249,"sentence":"020\n## factor(Stress"},{"page":249,"sentence":"Level)3 -1"},{"page":249,"sentence":"509118 2"},{"page":249,"sentence":"582405 -0"},{"page":249,"sentence":"584\n## factor(Stress"},{"page":249,"sentence":"Level)4 -0"},{"page":249,"sentence":"529393 3"},{"page":249,"sentence":"095647 -0"},{"page":249,"sentence":"171\n## factor(Stress"},{"page":249,"sentence":"Level)5 -2"},{"page":249,"sentence":"710051 2"},{"page":249,"sentence":"845423 -0"},{"page":249,"sentence":"952\n## factor(Stress"},{"page":249,"sentence":"Level)6 -0"},{"page":249,"sentence":"969032 2"},{"page":249,"sentence":"490558 -0"},{"page":249,"sentence":"389\n## factor(Stress"},{"page":249,"sentence":"Level)7 -2"},{"page":249,"sentence":"717472 3"},{"page":249,"sentence":"578434 -0"},{"page":249,"sentence":"759\n## factor(Stress"},{"page":249,"sentence":"Level)8 -1"},{"page":249,"sentence":"657444 3"},{"page":249,"sentence":"165466 -0"},{"page":249,"sentence":"524\n## factor(Stress"},{"page":249,"sentence":"Level)9 -0"},{"page":249,"sentence":"269294 2"},{"page":249,"sentence":"631239 -0"},{"page":249,"sentence":"102\n## factor(Sleep"},{"page":249,"sentence":"Quality)Fair:Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":"-0"},{"page":249,"sentence":"051620 0"},{"page":249,"sentence":"307122 -0"},{"page":249,"sentence":"168\n## factor(Sleep"},{"page":249,"sentence":"Quality)Good:Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":"-0"},{"page":249,"sentence":"001166 0"},{"page":249,"sentence":"329358 -0"},{"page":249,"sentence":"004\n## factor(Sleep"},{"page":249,"sentence":"Quality)Poor:Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":"-1"},{"page":249,"sentence":"092225 0"},{"page":249,"sentence":"317033 -3"},{"page":249,"sentence":"445\n## Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":":factor(Stress"},{"page":249,"sentence":"Level)2 -0"},{"page":249,"sentence":"056465 0"},{"page":249,"sentence":"326628 -0"},{"page":249,"sentence":"173\n## Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":":factor(Stress"},{"page":249,"sentence":"Level)3 0"},{"page":249,"sentence":"222208 0"},{"page":249,"sentence":"324192 0"},{"page":249,"sentence":"685\n## Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":":factor(Stress"},{"page":249,"sentence":"Level)4 0"},{"page":249,"sentence":"058787 0"},{"page":249,"sentence":"396866 0"},{"page":249,"sentence":"148\n## Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":":factor(Stress"},{"page":249,"sentence":"Level)5 0"},{"page":249,"sentence":"568176 0"},{"page":249,"sentence":"397329 1"},{"page":249,"sentence":"430\n## Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":":factor(Stress"},{"page":249,"sentence":"Level)6 0"},{"page":249,"sentence":"042906 0"},{"page":249,"sentence":"318948 0"},{"page":249,"sentence":"135\n## Duration"},{"page":249,"sentence":"weeks"},{"page":249,"sentence":":factor(Stress"},{"page":249,"sentence":"Level)7 0"},{"page":249,"sentence":"312677 0"},{"page":249,"sentence":"395000 0"},{"page":249,"sentence":"792\n31"},{"page":250,"sentence":"## Duration"},{"page":250,"sentence":"weeks"},{"page":250,"sentence":":factor(Stress"},{"page":250,"sentence":"Level)8 -1"},{"page":250,"sentence":"209145 0"},{"page":250,"sentence":"398373 -3"},{"page":250,"sentence":"035\n## Duration"},{"page":250,"sentence":"weeks"},{"page":250,"sentence":":factor(Stress"},{"page":250,"sentence":"Level)9 -1"},{"page":250,"sentence":"363695 0"},{"page":250,"sentence":"326722 -4"},{"page":250,"sentence":"174\n## Pr(>|t|)\n## (Intercept) 0"},{"page":250,"sentence":"728340\n## factor(Sleep"},{"page":250,"sentence":"Quality)Fair 0"},{"page":250,"sentence":"977191\n## factor(Sleep"},{"page":250,"sentence":"Quality)Good 0"},{"page":250,"sentence":"763861\n## factor(Sleep"},{"page":250,"sentence":"Quality)Poor 0"},{"page":250,"sentence":"663273\n## Duration"},{"page":250,"sentence":"weeks"},{"page":250,"sentence":"0"},{"page":250,"sentence":"443521\n## factor(Stress"},{"page":250,"sentence":"Level)2 0"},{"page":250,"sentence":"983944\n## factor(Stress"},{"page":250,"sentence":"Level)3 0"},{"page":250,"sentence":"560692\n## factor(Stress"},{"page":250,"sentence":"Level)4 0"},{"page":250,"sentence":"864669\n## factor(Stress"},{"page":250,"sentence":"Level)5 0"},{"page":250,"sentence":"343901\n## factor(Stress"},{"page":250,"sentence":"Level)6 0"},{"page":250,"sentence":"698303\n## factor(Stress"},{"page":250,"sentence":"Level)7 0"},{"page":250,"sentence":"449961\n## factor(Stress"},{"page":250,"sentence":"Level)8 0"},{"page":250,"sentence":"602079\n## factor(Stress"},{"page":250,"sentence":"Level)9 0"},{"page":250,"sentence":"918752\n## factor(Sleep"},{"page":250,"sentence":"Quality)Fair:Duration"},{"page":250,"sentence":"weeks"},{"page":250,"sentence":"0"},{"page":250,"sentence":"866971\n## factor(Sleep"},{"page":250,"sentence":"Quality)Good:Duration"},{"page":250,"sentence":"weeks"},{"page":250,"sentence":"0"},{"page":250,"sentence":"997185\n## factor(Sleep"},{"page":250,"sentence":"Quality)Poor:Duration"},{"page":250,"sentence":"weeks"},{"page":250,"sentence":"0"},{"page":250,"sentence":"000932 ***\n## Duration"},{"page":250,"sentence":"weeks"},{"page":250,"sentence":":factor(Stress"},{"page":250,"sentence":"Level)2 0"},{"page":250,"sentence":"863210\n## Duration"},{"page":250,"sentence":"weeks"},{"page":250,"sentence":":factor(Stress"},{"page":250,"sentence":"Level)3 0"},{"page":250,"sentence":"495164\n## Duration"},{"page":250,"sentence":"weeks"},{"page":250,"sentence":":factor(Stress"},{"page":250,"sentence":"Level)4 0"},{"page":250,"sentence":"882633\n## Duration"},{"page":250,"sentence":"weeks"},{"page":250,"sentence":":factor(Stress"},{"page":250,"sentence":"Level)5 0"},{"page":250,"sentence":"156819\n## Duration"},{"page":250,"sentence":"weeks"},{"page":250,"sentence":":factor(Stress"},{"page":250,"sentence":"Level)6 0"},{"page":250,"sentence":"893345\n## Duration"},{"page":250,"sentence":"weeks"},{"page":250,"sentence":":factor(Stress"},{"page":250,"sentence":"Level)7 0"},{"page":250,"sentence":"431065\n## Duration"},{"page":250,"sentence":"weeks"},{"page":250,"sentence":":factor(Stress"},{"page":250,"sentence":"Level)8 0"},{"page":250,"sentence":"003290 **\n## Duration"},{"page":250,"sentence":"weeks"},{"page":250,"sentence":":factor(Stress"},{"page":250,"sentence":"Level)9 7"},{"page":250,"sentence":"89e-05 ***\n## ---\n## Signif"},{"page":250,"sentence":"codes: 0 ’***’ 0"},{"page":250,"sentence":"001 ’**’ 0"},{"page":250,"sentence":"01 ’*’ 0"},{"page":250,"sentence":"05 ’"},{"page":250,"sentence":"’ 0"},{"page":250,"sentence":"1 ’ ’ 1\n##\n## Residual standard error: 2"},{"page":250,"sentence":"822 on 76 degrees of freedom\n## Multiple R-squared: 0"},{"page":250,"sentence":"8897, Adjusted R-squared: 0"},{"page":250,"sentence":"8563\n## F-statistic: 26"},{"page":250,"sentence":"65 on 23 and 76 DF, p-value: < 2"},{"page":250,"sentence":"2e-16\nOur final model, before testing for the rest of our assumptions, will include the following predictors and\ninteraction terms: Sleep"},{"page":250,"sentence":"Quality, Duration"},{"page":250,"sentence":"weeks"},{"page":250,"sentence":", Stress"},{"page":250,"sentence":"Level, Sleep"},{"page":250,"sentence":"Quality:Duration"},{"page":250,"sentence":"weeks"},{"page":250,"sentence":", and Dura-\ntion"},{"page":250,"sentence":"weeks"},{"page":250,"sentence":":Stress"},{"page":250,"sentence":"Level"},{"page":250,"sentence":"Based on this model, we can now test the rest of our assumptions"},{"page":250,"sentence":"We will start with testing for linearity\nby inspecting our residual plots"},{"page":250,"sentence":"## ‘geom_smooth()‘ using method = ’loess’ and formula = ’y ~ x’\n32"},{"page":251,"sentence":"−10−505\n−20 −10 0"},{"page":251,"sentence":"fitted"},{"page":251,"sentence":"residBased on our residuals, there appears to be a pattern, with most data points on the right side, as well\nas the presence of some funnel shape"},{"page":251,"sentence":"We can try to correct this by adding some polynomial terms, or\ntransforming the data"},{"page":251,"sentence":"We will start with polynomial terms"},{"page":251,"sentence":"##\n## Call:\n## lm(formula = Weight"},{"page":251,"sentence":"Change"},{"page":251,"sentence":"lbs"},{"page":251,"sentence":"~ factor(Sleep"},{"page":251,"sentence":"Quality) + Duration"},{"page":251,"sentence":"weeks"},{"page":251,"sentence":"+\n## I(Duration"},{"page":251,"sentence":"weeks"},{"page":251,"sentence":"^2) + factor(Stress"},{"page":251,"sentence":"Level) + factor(Sleep"},{"page":251,"sentence":"Quality) *\n## Duration"},{"page":251,"sentence":"weeks"},{"page":251,"sentence":"+ Duration"},{"page":251,"sentence":"weeks"},{"page":251,"sentence":"* factor(Stress"},{"page":251,"sentence":"Level),\n## data = weight)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -11"},{"page":251,"sentence":"3791 -0"},{"page":251,"sentence":"7311 -0"},{"page":251,"sentence":"0065 0"},{"page":251,"sentence":"9976 8"},{"page":251,"sentence":"4209\n##\n## Coefficients:\n## Estimate Std"},{"page":251,"sentence":"Error t value Pr(>|t|)\n## (Intercept) 1"},{"page":251,"sentence":"66345 2"},{"page":251,"sentence":"54941 0"},{"page":251,"sentence":"652 0"},{"page":251,"sentence":"516083\n## factor(Sleep"},{"page":251,"sentence":"Quality)Fair 0"},{"page":251,"sentence":"13760 2"},{"page":251,"sentence":"13220 0"},{"page":251,"sentence":"065 0"},{"page":251,"sentence":"948715\n## factor(Sleep"},{"page":251,"sentence":"Quality)Good -0"},{"page":251,"sentence":"74349 2"},{"page":251,"sentence":"42611 -0"},{"page":251,"sentence":"306 0"},{"page":251,"sentence":"760108\n## factor(Sleep"},{"page":251,"sentence":"Quality)Poor -0"},{"page":251,"sentence":"87654 2"},{"page":251,"sentence":"00406 -0"},{"page":251,"sentence":"437 0"},{"page":251,"sentence":"663091\n## Duration"},{"page":251,"sentence":"weeks"},{"page":251,"sentence":"-0"},{"page":251,"sentence":"09704 0"},{"page":251,"sentence":"48997 -0"},{"page":251,"sentence":"198 0"},{"page":251,"sentence":"843543\n## I(Duration"},{"page":251,"sentence":"weeks"},{"page":251,"sentence":"^2) 0"},{"page":251,"sentence":"02828 0"},{"page":251,"sentence":"02704 1"},{"page":251,"sentence":"046 0"},{"page":251,"sentence":"298892\n## factor(Stress"},{"page":251,"sentence":"Level)2 0"},{"page":251,"sentence":"11348 2"},{"page":251,"sentence":"63001 0"},{"page":251,"sentence":"043 0"},{"page":251,"sentence":"965698\n## factor(Stress"},{"page":251,"sentence":"Level)3 -1"},{"page":251,"sentence":"46360 2"},{"page":251,"sentence":"58117 -0"},{"page":251,"sentence":"567 0"},{"page":251,"sentence":"572388\n## factor(Stress"},{"page":251,"sentence":"Level)4 -0"},{"page":251,"sentence":"59995 3"},{"page":251,"sentence":"09446 -0"},{"page":251,"sentence":"194 0"},{"page":251,"sentence":"846794\n## factor(Stress"},{"page":251,"sentence":"Level)5 -2"},{"page":251,"sentence":"49747 2"},{"page":251,"sentence":"85091 -0"},{"page":251,"sentence":"876 0"},{"page":251,"sentence":"383813\n33"},{"page":252,"sentence":"## factor(Stress"},{"page":252,"sentence":"Level)6 -1"},{"page":252,"sentence":"06770 2"},{"page":252,"sentence":"49080 -0"},{"page":252,"sentence":"429 0"},{"page":252,"sentence":"669402\n## factor(Stress"},{"page":252,"sentence":"Level)7 -2"},{"page":252,"sentence":"34457 3"},{"page":252,"sentence":"59394 -0"},{"page":252,"sentence":"652 0"},{"page":252,"sentence":"516159\n## factor(Stress"},{"page":252,"sentence":"Level)8 -1"},{"page":252,"sentence":"37165 3"},{"page":252,"sentence":"17528 -0"},{"page":252,"sentence":"432 0"},{"page":252,"sentence":"666996\n## factor(Stress"},{"page":252,"sentence":"Level)9 -0"},{"page":252,"sentence":"38409 2"},{"page":252,"sentence":"63190 -0"},{"page":252,"sentence":"146 0"},{"page":252,"sentence":"884363\n## factor(Sleep"},{"page":252,"sentence":"Quality)Fair:Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":"-0"},{"page":252,"sentence":"09137 0"},{"page":252,"sentence":"30928 -0"},{"page":252,"sentence":"295 0"},{"page":252,"sentence":"768475\n## factor(Sleep"},{"page":252,"sentence":"Quality)Good:Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":"-0"},{"page":252,"sentence":"01614 0"},{"page":252,"sentence":"32946 -0"},{"page":252,"sentence":"049 0"},{"page":252,"sentence":"961055\n## factor(Sleep"},{"page":252,"sentence":"Quality)Poor:Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":"-1"},{"page":252,"sentence":"09414 0"},{"page":252,"sentence":"31684 -3"},{"page":252,"sentence":"453 0"},{"page":252,"sentence":"000914\n## Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":":factor(Stress"},{"page":252,"sentence":"Level)2 -0"},{"page":252,"sentence":"06645 0"},{"page":252,"sentence":"32656 -0"},{"page":252,"sentence":"203 0"},{"page":252,"sentence":"839304\n## Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":":factor(Stress"},{"page":252,"sentence":"Level)3 0"},{"page":252,"sentence":"22627 0"},{"page":252,"sentence":"32401 0"},{"page":252,"sentence":"698 0"},{"page":252,"sentence":"487124\n## Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":":factor(Stress"},{"page":252,"sentence":"Level)4 0"},{"page":252,"sentence":"08923 0"},{"page":252,"sentence":"39769 0"},{"page":252,"sentence":"224 0"},{"page":252,"sentence":"823079\n## Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":":factor(Stress"},{"page":252,"sentence":"Level)5 0"},{"page":252,"sentence":"55714 0"},{"page":252,"sentence":"39722 1"},{"page":252,"sentence":"403 0"},{"page":252,"sentence":"164866\n## Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":":factor(Stress"},{"page":252,"sentence":"Level)6 0"},{"page":252,"sentence":"05918 0"},{"page":252,"sentence":"31913 0"},{"page":252,"sentence":"185 0"},{"page":252,"sentence":"853376\n## Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":":factor(Stress"},{"page":252,"sentence":"Level)7 0"},{"page":252,"sentence":"27307 0"},{"page":252,"sentence":"39657 0"},{"page":252,"sentence":"689 0"},{"page":252,"sentence":"493213\n## Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":":factor(Stress"},{"page":252,"sentence":"Level)8 -1"},{"page":252,"sentence":"23041 0"},{"page":252,"sentence":"39864 -3"},{"page":252,"sentence":"086 0"},{"page":252,"sentence":"002837\n## Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":":factor(Stress"},{"page":252,"sentence":"Level)9 -1"},{"page":252,"sentence":"36556 0"},{"page":252,"sentence":"32652 -4"},{"page":252,"sentence":"182 7"},{"page":252,"sentence":"75e-05\n##\n## (Intercept)\n## factor(Sleep"},{"page":252,"sentence":"Quality)Fair\n## factor(Sleep"},{"page":252,"sentence":"Quality)Good\n## factor(Sleep"},{"page":252,"sentence":"Quality)Poor\n## Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":"## I(Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":"^2)\n## factor(Stress"},{"page":252,"sentence":"Level)2\n## factor(Stress"},{"page":252,"sentence":"Level)3\n## factor(Stress"},{"page":252,"sentence":"Level)4\n## factor(Stress"},{"page":252,"sentence":"Level)5\n## factor(Stress"},{"page":252,"sentence":"Level)6\n## factor(Stress"},{"page":252,"sentence":"Level)7\n## factor(Stress"},{"page":252,"sentence":"Level)8\n## factor(Stress"},{"page":252,"sentence":"Level)9\n## factor(Sleep"},{"page":252,"sentence":"Quality)Fair:Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":"## factor(Sleep"},{"page":252,"sentence":"Quality)Good:Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":"## factor(Sleep"},{"page":252,"sentence":"Quality)Poor:Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":"***\n## Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":":factor(Stress"},{"page":252,"sentence":"Level)2\n## Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":":factor(Stress"},{"page":252,"sentence":"Level)3\n## Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":":factor(Stress"},{"page":252,"sentence":"Level)4\n## Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":":factor(Stress"},{"page":252,"sentence":"Level)5\n## Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":":factor(Stress"},{"page":252,"sentence":"Level)6\n## Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":":factor(Stress"},{"page":252,"sentence":"Level)7\n## Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":":factor(Stress"},{"page":252,"sentence":"Level)8 **\n## Duration"},{"page":252,"sentence":"weeks"},{"page":252,"sentence":":factor(Stress"},{"page":252,"sentence":"Level)9 ***\n## ---\n## Signif"},{"page":252,"sentence":"codes: 0 ’***’ 0"},{"page":252,"sentence":"001 ’**’ 0"},{"page":252,"sentence":"01 ’*’ 0"},{"page":252,"sentence":"05 ’"},{"page":252,"sentence":"’ 0"},{"page":252,"sentence":"1 ’ ’ 1\n##\n## Residual standard error: 2"},{"page":252,"sentence":"82 on 75 degrees of freedom\n## Multiple R-squared: 0"},{"page":252,"sentence":"8913, Adjusted R-squared: 0"},{"page":252,"sentence":"8565\n## F-statistic: 25"},{"page":252,"sentence":"62 on 24 and 75 DF, p-value: < 2"},{"page":252,"sentence":"2e-16\n## ‘geom_smooth()‘ using method = ’loess’ and formula = ’y ~ x’\n34"},{"page":253,"sentence":"−10−505\n−20 −10 0"},{"page":253,"sentence":"fitted"},{"page":253,"sentence":"residAdding a polynomial term appears to not be the solution, as not only does the residual plot appear the\nsame, but the adjust R-sqaured barely increases"},{"page":253,"sentence":"There is no point to preventing our interpretation for such\na small increase"},{"page":253,"sentence":"Next we will try performing a log transformation on Duration"},{"page":253,"sentence":"weeks"},{"page":253,"sentence":"##\n## Call:\n## lm(formula = Weight"},{"page":253,"sentence":"Change"},{"page":253,"sentence":"lbs"},{"page":253,"sentence":"~ factor(Sleep"},{"page":253,"sentence":"Quality) + log(Duration"},{"page":253,"sentence":"weeks"},{"page":253,"sentence":") +\n## factor(Stress"},{"page":253,"sentence":"Level) + factor(Sleep"},{"page":253,"sentence":"Quality) * log(Duration"},{"page":253,"sentence":"weeks"},{"page":253,"sentence":") +\n## log(Duration"},{"page":253,"sentence":"weeks"},{"page":253,"sentence":") * factor(Stress"},{"page":253,"sentence":"Level), data = weight)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -12"},{"page":253,"sentence":"5056 -0"},{"page":253,"sentence":"9419 0"},{"page":253,"sentence":"2044 1"},{"page":253,"sentence":"2345 6"},{"page":253,"sentence":"3533\n##\n## Coefficients:\n## Estimate Std"},{"page":253,"sentence":"Error t value\n## (Intercept) 0"},{"page":253,"sentence":"27355 3"},{"page":253,"sentence":"42430 0"},{"page":253,"sentence":"080\n## factor(Sleep"},{"page":253,"sentence":"Quality)Fair 0"},{"page":253,"sentence":"11340 2"},{"page":253,"sentence":"82176 0"},{"page":253,"sentence":"040\n## factor(Sleep"},{"page":253,"sentence":"Quality)Good -2"},{"page":253,"sentence":"57483 3"},{"page":253,"sentence":"44092 -0"},{"page":253,"sentence":"748\n## factor(Sleep"},{"page":253,"sentence":"Quality)Poor 1"},{"page":253,"sentence":"58927 2"},{"page":253,"sentence":"86099 0"},{"page":253,"sentence":"555\n## log(Duration"},{"page":253,"sentence":"weeks"},{"page":253,"sentence":") 1"},{"page":253,"sentence":"28194 1"},{"page":253,"sentence":"93076 0"},{"page":253,"sentence":"664\n## factor(Stress"},{"page":253,"sentence":"Level)2 0"},{"page":253,"sentence":"81976 3"},{"page":253,"sentence":"55617 0"},{"page":253,"sentence":"231\n## factor(Stress"},{"page":253,"sentence":"Level)3 -2"},{"page":253,"sentence":"72618 3"},{"page":253,"sentence":"42733 -0"},{"page":253,"sentence":"795\n## factor(Stress"},{"page":253,"sentence":"Level)4 -2"},{"page":253,"sentence":"26130 3"},{"page":253,"sentence":"85645 -0"},{"page":253,"sentence":"586\n## factor(Stress"},{"page":253,"sentence":"Level)5 -4"},{"page":253,"sentence":"49656 4"},{"page":253,"sentence":"26194 -1"},{"page":253,"sentence":"055\n35"},{"page":254,"sentence":"## factor(Stress"},{"page":254,"sentence":"Level)6 -0"},{"page":254,"sentence":"34971 3"},{"page":254,"sentence":"35196 -0"},{"page":254,"sentence":"104\n## factor(Stress"},{"page":254,"sentence":"Level)7 -2"},{"page":254,"sentence":"58341 5"},{"page":254,"sentence":"06097 -0"},{"page":254,"sentence":"510\n## factor(Stress"},{"page":254,"sentence":"Level)8 2"},{"page":254,"sentence":"24593 4"},{"page":254,"sentence":"16139 0"},{"page":254,"sentence":"540\n## factor(Stress"},{"page":254,"sentence":"Level)9 0"},{"page":254,"sentence":"06974 3"},{"page":254,"sentence":"32780 0"},{"page":254,"sentence":"021\n## factor(Sleep"},{"page":254,"sentence":"Quality)Fair:log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":") -0"},{"page":254,"sentence":"08017 1"},{"page":254,"sentence":"58629 -0"},{"page":254,"sentence":"051\n## factor(Sleep"},{"page":254,"sentence":"Quality)Good:log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":") 0"},{"page":254,"sentence":"94134 1"},{"page":254,"sentence":"84057 0"},{"page":254,"sentence":"511\n## factor(Sleep"},{"page":254,"sentence":"Quality)Poor:log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":") -5"},{"page":254,"sentence":"61445 1"},{"page":254,"sentence":"68822 -3"},{"page":254,"sentence":"326\n## log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":"):factor(Stress"},{"page":254,"sentence":"Level)2 -0"},{"page":254,"sentence":"63803 1"},{"page":254,"sentence":"84765 -0"},{"page":254,"sentence":"345\n## log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":"):factor(Stress"},{"page":254,"sentence":"Level)3 1"},{"page":254,"sentence":"58105 1"},{"page":254,"sentence":"79470 0"},{"page":254,"sentence":"881\n## log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":"):factor(Stress"},{"page":254,"sentence":"Level)4 1"},{"page":254,"sentence":"03392 2"},{"page":254,"sentence":"02085 0"},{"page":254,"sentence":"512\n## log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":"):factor(Stress"},{"page":254,"sentence":"Level)5 3"},{"page":254,"sentence":"12719 2"},{"page":254,"sentence":"36324 1"},{"page":254,"sentence":"323\n## log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":"):factor(Stress"},{"page":254,"sentence":"Level)6 -0"},{"page":254,"sentence":"05704 1"},{"page":254,"sentence":"79414 -0"},{"page":254,"sentence":"032\n## log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":"):factor(Stress"},{"page":254,"sentence":"Level)7 1"},{"page":254,"sentence":"26398 2"},{"page":254,"sentence":"41255 0"},{"page":254,"sentence":"524\n## log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":"):factor(Stress"},{"page":254,"sentence":"Level)8 -6"},{"page":254,"sentence":"77947 2"},{"page":254,"sentence":"11771 -3"},{"page":254,"sentence":"201\n## log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":"):factor(Stress"},{"page":254,"sentence":"Level)9 -6"},{"page":254,"sentence":"13711 1"},{"page":254,"sentence":"75701 -3"},{"page":254,"sentence":"493\n## Pr(>|t|)\n## (Intercept) 0"},{"page":254,"sentence":"93654\n## factor(Sleep"},{"page":254,"sentence":"Quality)Fair 0"},{"page":254,"sentence":"96805\n## factor(Sleep"},{"page":254,"sentence":"Quality)Good 0"},{"page":254,"sentence":"45659\n## factor(Sleep"},{"page":254,"sentence":"Quality)Poor 0"},{"page":254,"sentence":"58019\n## log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":") 0"},{"page":254,"sentence":"50873\n## factor(Stress"},{"page":254,"sentence":"Level)2 0"},{"page":254,"sentence":"81831\n## factor(Stress"},{"page":254,"sentence":"Level)3 0"},{"page":254,"sentence":"42884\n## factor(Stress"},{"page":254,"sentence":"Level)4 0"},{"page":254,"sentence":"55936\n## factor(Stress"},{"page":254,"sentence":"Level)5 0"},{"page":254,"sentence":"29475\n## factor(Stress"},{"page":254,"sentence":"Level)6 0"},{"page":254,"sentence":"91718\n## factor(Stress"},{"page":254,"sentence":"Level)7 0"},{"page":254,"sentence":"61121\n## factor(Stress"},{"page":254,"sentence":"Level)8 0"},{"page":254,"sentence":"59098\n## factor(Stress"},{"page":254,"sentence":"Level)9 0"},{"page":254,"sentence":"98333\n## factor(Sleep"},{"page":254,"sentence":"Quality)Fair:log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":") 0"},{"page":254,"sentence":"95983\n## factor(Sleep"},{"page":254,"sentence":"Quality)Good:log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":") 0"},{"page":254,"sentence":"61053\n## factor(Sleep"},{"page":254,"sentence":"Quality)Poor:log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":") 0"},{"page":254,"sentence":"00136 **\n## log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":"):factor(Stress"},{"page":254,"sentence":"Level)2 0"},{"page":254,"sentence":"73081\n## log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":"):factor(Stress"},{"page":254,"sentence":"Level)3 0"},{"page":254,"sentence":"38112\n## log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":"):factor(Stress"},{"page":254,"sentence":"Level)4 0"},{"page":254,"sentence":"61040\n## log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":"):factor(Stress"},{"page":254,"sentence":"Level)5 0"},{"page":254,"sentence":"18971\n## log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":"):factor(Stress"},{"page":254,"sentence":"Level)6 0"},{"page":254,"sentence":"97472\n## log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":"):factor(Stress"},{"page":254,"sentence":"Level)7 0"},{"page":254,"sentence":"60186\n## log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":"):factor(Stress"},{"page":254,"sentence":"Level)8 0"},{"page":254,"sentence":"00200 **\n## log(Duration"},{"page":254,"sentence":"weeks"},{"page":254,"sentence":"):factor(Stress"},{"page":254,"sentence":"Level)9 0"},{"page":254,"sentence":"00080 ***\n## ---\n## Signif"},{"page":254,"sentence":"codes: 0 ’***’ 0"},{"page":254,"sentence":"001 ’**’ 0"},{"page":254,"sentence":"01 ’*’ 0"},{"page":254,"sentence":"05 ’"},{"page":254,"sentence":"’ 0"},{"page":254,"sentence":"1 ’ ’ 1\n##\n## Residual standard error: 2"},{"page":254,"sentence":"917 on 76 degrees of freedom\n## Multiple R-squared: 0"},{"page":254,"sentence":"8821, Adjusted R-squared: 0"},{"page":254,"sentence":"8464\n## F-statistic: 24"},{"page":254,"sentence":"72 on 23 and 76 DF, p-value: < 2"},{"page":254,"sentence":"2e-16\n## ‘geom_smooth()‘ using method = ’loess’ and formula = ’y ~ x’\n36"},{"page":255,"sentence":"−10−505\n−20 −10 0"},{"page":255,"sentence":"fitted"},{"page":255,"sentence":"residTransforming Duration"},{"page":255,"sentence":"weeks"},{"page":255,"sentence":"using a log transformation appears to not correct the linearity problem\neither"},{"page":255,"sentence":"In fact the residual plot now looks worse than before"},{"page":255,"sentence":"Based on these attempts, we may need to add more complex polynomial or transformations to our data"},{"page":255,"sentence":"We may also need to attempt some other model types, but for the sake of this class we will move forward\nusing our model before we attempting correcting linearity, and simply state that our model fails the linearity\nassumption"},{"page":255,"sentence":"The next assumption we will look at is independence"},{"page":255,"sentence":"As our responding variable, Weight"},{"page":255,"sentence":"Change"},{"page":255,"sentence":"lbs"},{"page":255,"sentence":"is\nnot considered time-series data we can conclude this assumption has been passed"},{"page":255,"sentence":"To test for homoscedasticity we can look at our residual plots, scale-location plots, and run a Breusch-Pagan\nTest, using the following hypothesis:\nH0:σ2\n1=σ2\n2="},{"page":255,"sentence":"=σ2\nn(heteroscedasticity is not present) Ha:at least one σ2\niis different from the others i = 1, 2,"},{"page":255,"sentence":", n (heteroscedasticity is present)\n37"},{"page":256,"sentence":"−25 −20 −15 −10 −5 0 5−10−50510\nFitted valuesResiduals\nlm(Weight"},{"page":256,"sentence":"Change"},{"page":256,"sentence":"lbs"},{"page":256,"sentence":"~ factor(Sleep"},{"page":256,"sentence":"Quality) + Duration"},{"page":256,"sentence":"weeks"},{"page":256,"sentence":"+ factor("},{"page":256,"sentence":"Residuals vs Fitted\n8388638"},{"page":257,"sentence":"−25 −20 −15 −10 −5 0 50"},{"page":257,"sentence":"00"},{"page":257,"sentence":"51"},{"page":257,"sentence":"01"},{"page":257,"sentence":"52"},{"page":257,"sentence":"0\nFitted valuesStandardized residuals\nlm(Weight"},{"page":257,"sentence":"Change"},{"page":257,"sentence":"lbs"},{"page":257,"sentence":"~ factor(Sleep"},{"page":257,"sentence":"Quality) + Duration"},{"page":257,"sentence":"weeks"},{"page":257,"sentence":"+ factor("},{"page":257,"sentence":"Scale−Location\n8\n38 86##\n## studentized Breusch-Pagan test\n##\n## data: weight_model_int_final\n## BP = 44"},{"page":257,"sentence":"674, df = 23, p-value = 0"},{"page":257,"sentence":"004356\nBased on our plots and the fact that our p-value for our Breusch-Pagan Test (0"},{"page":257,"sentence":"004356) is < 0"},{"page":257,"sentence":"05, we can\nreject our null hypothesis, implying the presence of heteroscedasticity"},{"page":257,"sentence":"To try and correct this, we can\nattempt a log transformation"},{"page":257,"sentence":"39"},{"page":258,"sentence":"−25 −20 −15 −10 −5 0 5−10−505\nFitted valuesResiduals\nlm(Weight"},{"page":258,"sentence":"Change"},{"page":258,"sentence":"lbs"},{"page":258,"sentence":"~ factor(Sleep"},{"page":258,"sentence":"Quality) + log(Duration"},{"page":258,"sentence":"weeks"},{"page":258,"sentence":") + fa"},{"page":258,"sentence":"Residuals vs Fitted\n8388640"},{"page":259,"sentence":"−25 −20 −15 −10 −5 0 50"},{"page":259,"sentence":"00"},{"page":259,"sentence":"51"},{"page":259,"sentence":"01"},{"page":259,"sentence":"52"},{"page":259,"sentence":"0\nFitted valuesStandardized residuals\nlm(Weight"},{"page":259,"sentence":"Change"},{"page":259,"sentence":"lbs"},{"page":259,"sentence":"~ factor(Sleep"},{"page":259,"sentence":"Quality) + log(Duration"},{"page":259,"sentence":"weeks"},{"page":259,"sentence":") + fa"},{"page":259,"sentence":"Scale−Location\n8\n38\n86##\n## studentized Breusch-Pagan test\n##\n## data: weight_model_log\n## BP = 30"},{"page":259,"sentence":"059, df = 23, p-value = 0"},{"page":259,"sentence":"1477\nOur plots look much better now than before, and we can see that our p-value for our Breusch-Pagan Test\n(0"},{"page":259,"sentence":"1477) is > 0"},{"page":259,"sentence":"05"},{"page":259,"sentence":"This means that we now fail to reject our null hypotheis, implying heteroscedasticity is\nnot present"},{"page":259,"sentence":"This suggests that our log transformation has improved our model, allowing it to now pass the\nhomoscedasticity assumption"},{"page":259,"sentence":"It should be noted that the adjusted R-square of our log model has decreased\nslightly from our previous model (0"},{"page":259,"sentence":"8464 down from 0"},{"page":259,"sentence":"8563)"},{"page":259,"sentence":"Despite this loss, we are comfortable moving\nforward with the log model, as it helps us pass one of our assumptions that was previously not met"},{"page":259,"sentence":"To test whether our residuals are normally distributed, we can inspect our Q-Q plot, as well as run a\nShapiro-Wilk test, using the following hypothesis:\nH0:the residuals are normally distributed Ha:the residuals are not normally distributed\n41"},{"page":260,"sentence":"−2 −1 0 1 2−4−202\nTheoretical QuantilesStandardized residuals\nlm(Weight"},{"page":260,"sentence":"Change"},{"page":260,"sentence":"lbs"},{"page":260,"sentence":"~ factor(Sleep"},{"page":260,"sentence":"Quality) + log(Duration"},{"page":260,"sentence":"weeks"},{"page":260,"sentence":") + fa"},{"page":260,"sentence":"Q−Q Residuals\n83886##\n## Shapiro-Wilk normality test\n##\n## data: residuals(weight_model_log)\n## W = 0"},{"page":260,"sentence":"85478, p-value = 1"},{"page":260,"sentence":"788e-08\nBased on our Q-Q plot, we can see that the residuals are likely not normally distributed"},{"page":260,"sentence":"This is further\nreinforced by our Shapiro Wilks test, which returned a p-value 1"},{"page":260,"sentence":"788e-08"},{"page":260,"sentence":"As this is < 0"},{"page":260,"sentence":"05, we reject our null\nhypothesis, implying that the residuals are not normally distributed"},{"page":260,"sentence":"We can attempt to correct this using\na Box-Cox transformation"},{"page":260,"sentence":"Unfortunately, as our responding variable is weight change, there are values less\nthan 0"},{"page":260,"sentence":"Therefore a Box-Cox transformation cannot be done"},{"page":260,"sentence":"For the time being we will simply conclude\nthat our model has not passed the assumption of normality"},{"page":260,"sentence":"Finally, we will check for outliers, using our residuals vs"},{"page":260,"sentence":"leverage plot"},{"page":260,"sentence":"42"},{"page":261,"sentence":"0"},{"page":261,"sentence":"0 0"},{"page":261,"sentence":"2 0"},{"page":261,"sentence":"4 0"},{"page":261,"sentence":"6 0"},{"page":261,"sentence":"8−4−202\nLeverageStandardized residuals\nlm(Weight"},{"page":261,"sentence":"Change"},{"page":261,"sentence":"lbs"},{"page":261,"sentence":"~ factor(Sleep"},{"page":261,"sentence":"Quality) + log(Duration"},{"page":261,"sentence":"weeks"},{"page":261,"sentence":") + fa"},{"page":261,"sentence":"Cook's distance10"},{"page":261,"sentence":"50"},{"page":261,"sentence":"51Residuals vs Leverage\n49\n872Based on our plot, we can see that observation 49 is an outlier"},{"page":261,"sentence":"We can attempt to remove the data point\nto see how it affects our model"},{"page":261,"sentence":"##\n## Call:\n## lm(formula = Weight"},{"page":261,"sentence":"Change"},{"page":261,"sentence":"lbs"},{"page":261,"sentence":"~ factor(Sleep"},{"page":261,"sentence":"Quality) + log(Duration"},{"page":261,"sentence":"weeks"},{"page":261,"sentence":") +\n## factor(Stress"},{"page":261,"sentence":"Level) + factor(Sleep"},{"page":261,"sentence":"Quality) * log(Duration"},{"page":261,"sentence":"weeks"},{"page":261,"sentence":") +\n## log(Duration"},{"page":261,"sentence":"weeks"},{"page":261,"sentence":") * factor(Stress"},{"page":261,"sentence":"Level), data = weight_clean)\n##\n## Residuals:\n## Min 1Q Median 3Q Max\n## -12"},{"page":261,"sentence":"7111 -0"},{"page":261,"sentence":"8341 0"},{"page":261,"sentence":"1531 1"},{"page":261,"sentence":"1537 8"},{"page":261,"sentence":"3484\n##\n## Coefficients:\n## Estimate Std"},{"page":261,"sentence":"Error t value\n## (Intercept) 0"},{"page":261,"sentence":"21766 3"},{"page":261,"sentence":"39093 0"},{"page":261,"sentence":"064\n## factor(Sleep"},{"page":261,"sentence":"Quality)Fair 0"},{"page":261,"sentence":"18485 2"},{"page":261,"sentence":"79447 0"},{"page":261,"sentence":"066\n## factor(Sleep"},{"page":261,"sentence":"Quality)Good -1"},{"page":261,"sentence":"59689 3"},{"page":261,"sentence":"46262 -0"},{"page":261,"sentence":"461\n## factor(Sleep"},{"page":261,"sentence":"Quality)Poor 1"},{"page":261,"sentence":"24320 2"},{"page":261,"sentence":"84135 0"},{"page":261,"sentence":"438\n## log(Duration"},{"page":261,"sentence":"weeks"},{"page":261,"sentence":") 1"},{"page":261,"sentence":"21315 1"},{"page":261,"sentence":"91233 0"},{"page":261,"sentence":"634\n## factor(Stress"},{"page":261,"sentence":"Level)2 0"},{"page":261,"sentence":"54944 3"},{"page":261,"sentence":"52544 0"},{"page":261,"sentence":"156\n## factor(Stress"},{"page":261,"sentence":"Level)3 -2"},{"page":261,"sentence":"44803 3"},{"page":261,"sentence":"39827 -0"},{"page":261,"sentence":"720\n## factor(Stress"},{"page":261,"sentence":"Level)4 -1"},{"page":261,"sentence":"93746 3"},{"page":261,"sentence":"82412 -0"},{"page":261,"sentence":"507\n## factor(Stress"},{"page":261,"sentence":"Level)5 -4"},{"page":261,"sentence":"19952 4"},{"page":261,"sentence":"22433 -0"},{"page":261,"sentence":"994\n## factor(Stress"},{"page":261,"sentence":"Level)6 -0"},{"page":261,"sentence":"32160 3"},{"page":261,"sentence":"31916 -0"},{"page":261,"sentence":"097\n## factor(Stress"},{"page":261,"sentence":"Level)7 -2"},{"page":261,"sentence":"49840 5"},{"page":261,"sentence":"01166 -0"},{"page":261,"sentence":"499\n## factor(Stress"},{"page":261,"sentence":"Level)8 13"},{"page":261,"sentence":"14533 8"},{"page":261,"sentence":"01703 1"},{"page":261,"sentence":"640\n43"},{"page":262,"sentence":"## factor(Stress"},{"page":262,"sentence":"Level)9 -0"},{"page":262,"sentence":"12103 3"},{"page":262,"sentence":"29738 -0"},{"page":262,"sentence":"037\n## factor(Sleep"},{"page":262,"sentence":"Quality)Fair:log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":") -0"},{"page":262,"sentence":"06075 1"},{"page":262,"sentence":"57079 -0"},{"page":262,"sentence":"039\n## factor(Sleep"},{"page":262,"sentence":"Quality)Good:log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":") 0"},{"page":262,"sentence":"55598 1"},{"page":262,"sentence":"83868 0"},{"page":262,"sentence":"302\n## factor(Sleep"},{"page":262,"sentence":"Quality)Poor:log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":") -5"},{"page":262,"sentence":"29987 1"},{"page":262,"sentence":"68341 -3"},{"page":262,"sentence":"148\n## log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":"):factor(Stress"},{"page":262,"sentence":"Level)2 -0"},{"page":262,"sentence":"46614 1"},{"page":262,"sentence":"83275 -0"},{"page":262,"sentence":"254\n## log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":"):factor(Stress"},{"page":262,"sentence":"Level)3 1"},{"page":262,"sentence":"45515 1"},{"page":262,"sentence":"77888 0"},{"page":262,"sentence":"818\n## log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":"):factor(Stress"},{"page":262,"sentence":"Level)4 0"},{"page":262,"sentence":"89513 2"},{"page":262,"sentence":"00296 0"},{"page":262,"sentence":"447\n## log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":"):factor(Stress"},{"page":262,"sentence":"Level)5 2"},{"page":262,"sentence":"98467 2"},{"page":262,"sentence":"34180 1"},{"page":262,"sentence":"275\n## log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":"):factor(Stress"},{"page":262,"sentence":"Level)6 -0"},{"page":262,"sentence":"02623 1"},{"page":262,"sentence":"77666 -0"},{"page":262,"sentence":"015\n## log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":"):factor(Stress"},{"page":262,"sentence":"Level)7 1"},{"page":262,"sentence":"23485 2"},{"page":262,"sentence":"38898 0"},{"page":262,"sentence":"517\n## log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":"):factor(Stress"},{"page":262,"sentence":"Level)8 -12"},{"page":262,"sentence":"05261 3"},{"page":262,"sentence":"93280 -3"},{"page":262,"sentence":"065\n## log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":"):factor(Stress"},{"page":262,"sentence":"Level)9 -6"},{"page":262,"sentence":"05003 1"},{"page":262,"sentence":"74066 -3"},{"page":262,"sentence":"476\n## Pr(>|t|)\n## (Intercept) 0"},{"page":262,"sentence":"948991\n## factor(Sleep"},{"page":262,"sentence":"Quality)Fair 0"},{"page":262,"sentence":"947436\n## factor(Sleep"},{"page":262,"sentence":"Quality)Good 0"},{"page":262,"sentence":"646004\n## factor(Sleep"},{"page":262,"sentence":"Quality)Poor 0"},{"page":262,"sentence":"662978\n## log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":") 0"},{"page":262,"sentence":"527760\n## factor(Stress"},{"page":262,"sentence":"Level)2 0"},{"page":262,"sentence":"876570\n## factor(Stress"},{"page":262,"sentence":"Level)3 0"},{"page":262,"sentence":"473533\n## factor(Stress"},{"page":262,"sentence":"Level)4 0"},{"page":262,"sentence":"613893\n## factor(Stress"},{"page":262,"sentence":"Level)5 0"},{"page":262,"sentence":"323358\n## factor(Stress"},{"page":262,"sentence":"Level)6 0"},{"page":262,"sentence":"923071\n## factor(Stress"},{"page":262,"sentence":"Level)7 0"},{"page":262,"sentence":"619579\n## factor(Stress"},{"page":262,"sentence":"Level)8 0"},{"page":262,"sentence":"105261\n## factor(Stress"},{"page":262,"sentence":"Level)9 0"},{"page":262,"sentence":"970818\n## factor(Sleep"},{"page":262,"sentence":"Quality)Fair:log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":") 0"},{"page":262,"sentence":"969254\n## factor(Sleep"},{"page":262,"sentence":"Quality)Good:log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":") 0"},{"page":262,"sentence":"763198\n## factor(Sleep"},{"page":262,"sentence":"Quality)Poor:log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":") 0"},{"page":262,"sentence":"002357 **\n## log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":"):factor(Stress"},{"page":262,"sentence":"Level)2 0"},{"page":262,"sentence":"799930\n## log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":"):factor(Stress"},{"page":262,"sentence":"Level)3 0"},{"page":262,"sentence":"415939\n## log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":"):factor(Stress"},{"page":262,"sentence":"Level)4 0"},{"page":262,"sentence":"656233\n## log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":"):factor(Stress"},{"page":262,"sentence":"Level)5 0"},{"page":262,"sentence":"206415\n## log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":"):factor(Stress"},{"page":262,"sentence":"Level)6 0"},{"page":262,"sentence":"988259\n## log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":"):factor(Stress"},{"page":262,"sentence":"Level)7 0"},{"page":262,"sentence":"606752\n## log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":"):factor(Stress"},{"page":262,"sentence":"Level)8 0"},{"page":262,"sentence":"003028 **\n## log(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":"):factor(Stress"},{"page":262,"sentence":"Level)9 0"},{"page":262,"sentence":"000851 ***\n## ---\n## Signif"},{"page":262,"sentence":"codes: 0 ’***’ 0"},{"page":262,"sentence":"001 ’**’ 0"},{"page":262,"sentence":"01 ’*’ 0"},{"page":262,"sentence":"05 ’"},{"page":262,"sentence":"’ 0"},{"page":262,"sentence":"1 ’ ’ 1\n##\n## Residual standard error: 2"},{"page":262,"sentence":"889 on 75 degrees of freedom\n## Multiple R-squared: 0"},{"page":262,"sentence":"8859, Adjusted R-squared: 0"},{"page":262,"sentence":"8509\n## F-statistic: 25"},{"page":262,"sentence":"32 on 23 and 75 DF, p-value: < 2"},{"page":262,"sentence":"2e-16\nBased on the output of our model with and without the outlier, we can see that removing the outlier slightly\nimproved our adjusted R-squared (0"},{"page":262,"sentence":"8509 from 0"},{"page":262,"sentence":"8464), while reducing or RSE (2"},{"page":262,"sentence":"889 from 2"},{"page":262,"sentence":"917), without\nchanging the significance of any of our predictors"},{"page":262,"sentence":"Based on this we feel comfortable removing the indicated\noutlier"},{"page":262,"sentence":"Although our model does fail the assumptions of linearity and normality, for the sake of this project we will\ngo forward with our final model being:\nXWeight"},{"page":262,"sentence":"Change"},{"page":262,"sentence":"lbs"},{"page":262,"sentence":"= 0"},{"page":262,"sentence":"21766+0"},{"page":262,"sentence":"18485XSleep"},{"page":262,"sentence":"Quality Fair−1"},{"page":262,"sentence":"59689XSleep"},{"page":262,"sentence":"Quality Good+1"},{"page":262,"sentence":"24320XSleep"},{"page":262,"sentence":"Quality Poor+1"},{"page":262,"sentence":"21315Xlog(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":")+0"},{"page":262,"sentence":"54944XStress"},{"page":262,"sentence":"Level 2−2"},{"page":262,"sentence":"44803XStress"},{"page":262,"sentence":"Level 3−1"},{"page":262,"sentence":"93746XStress"},{"page":262,"sentence":"Level 4−4"},{"page":262,"sentence":"19952XStress"},{"page":262,"sentence":"Level 5−0"},{"page":262,"sentence":"32160XStress"},{"page":262,"sentence":"Level 6−2"},{"page":262,"sentence":"49840XStress"},{"page":262,"sentence":"Level 7+13"},{"page":262,"sentence":"14533XStress"},{"page":262,"sentence":"Level 8−0"},{"page":262,"sentence":"12103XStress"},{"page":262,"sentence":"Level 9−0"},{"page":262,"sentence":"06075(XSleep"},{"page":262,"sentence":"Quality FairXlog(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":"))+0"},{"page":262,"sentence":"55598(XSleep"},{"page":262,"sentence":"Quality GoodXlog(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":"))−5"},{"page":262,"sentence":"29987(XSleep"},{"page":262,"sentence":"Quality PoorXlog(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":"))−0"},{"page":262,"sentence":"46614(Xlog(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":")XStress"},{"page":262,"sentence":"Level 2)+1"},{"page":262,"sentence":"45515(Xlog(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":")XStress"},{"page":262,"sentence":"Level 3)+0"},{"page":262,"sentence":"89513(Xlog(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":")XStress"},{"page":262,"sentence":"Level 4)+2"},{"page":262,"sentence":"98467(Xlog(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":")XStress"},{"page":262,"sentence":"Level 5)−0"},{"page":262,"sentence":"02623(Xlog(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":")XStress"},{"page":262,"sentence":"Level 6)+1"},{"page":262,"sentence":"23485(Xlog(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":")XStress"},{"page":262,"sentence":"Level 7)−12"},{"page":262,"sentence":"05261(Xlog(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":")XStress"},{"page":262,"sentence":"Level 8)−6"},{"page":262,"sentence":"05003(Xlog(Duration"},{"page":262,"sentence":"weeks"},{"page":262,"sentence":")XStress"},{"page":262,"sentence":"Level 9)\n44"},{"page":263,"sentence":"Now that we have our final model, we can begin interpreting it"},{"page":263,"sentence":"Intercept: When sleep quality is excellent, stress level is 1, and log(duration) is 0 (which would be a duration\nof 1 week), the expected weight change is 0"},{"page":263,"sentence":"21766 pounds"},{"page":263,"sentence":"Sleep Quality:\n•If sleep quality is fair, the predicted weight change is (0"},{"page":263,"sentence":"18485−0"},{"page":263,"sentence":"06075Xlog(Duration"},{"page":263,"sentence":"weeks"},{"page":263,"sentence":"))pounds"},{"page":263,"sentence":"•If sleep quality is good, the predicted weight change is (−1"},{"page":263,"sentence":"59689 + 0"},{"page":263,"sentence":"55598Xlog(Duration"},{"page":263,"sentence":"weeks"},{"page":263,"sentence":"))\npounds"},{"page":263,"sentence":"•If sleep quality is poor, the predicted weight change is (1"},{"page":263,"sentence":"24320−5"},{"page":263,"sentence":"29987Xlog(Duration"},{"page":263,"sentence":"weeks"},{"page":263,"sentence":"))pounds"},{"page":263,"sentence":"•If sleep quality is excellent, the predicted weight change would simply be our model equation excluding\nanySleep"},{"page":263,"sentence":"Quality iterms or interactions, where i = Fair, Good, or Poor, as all values would simply be\n0 for those variables"},{"page":263,"sentence":"Duration in weeks:\n•For every one-unit increase in log(Duration"},{"page":263,"sentence":"weeks"},{"page":263,"sentence":"), weight change increases by:\n(1"},{"page":263,"sentence":"21315−0"},{"page":263,"sentence":"06075XSleep"},{"page":263,"sentence":"Quality Fair+0"},{"page":263,"sentence":"55598XSleep"},{"page":263,"sentence":"Quality Good−5"},{"page":263,"sentence":"29987XSleep"},{"page":263,"sentence":"Quality Poor−0"},{"page":263,"sentence":"46614XStress"},{"page":263,"sentence":"Level 2+1"},{"page":263,"sentence":"45515XStress"},{"page":263,"sentence":"Level 3+0"},{"page":263,"sentence":"89513XStress"},{"page":263,"sentence":"Level 4+2"},{"page":263,"sentence":"98467XStress"},{"page":263,"sentence":"Level 5−0"},{"page":263,"sentence":"02623XStress"},{"page":263,"sentence":"Level 6+1"},{"page":263,"sentence":"23485XStress"},{"page":263,"sentence":"Level 7−12"},{"page":263,"sentence":"05261XStress"},{"page":263,"sentence":"Level 8−6"},{"page":263,"sentence":"05003XStress"},{"page":263,"sentence":"Level 9)pounds\nStress Level:\n•If stress level is 2, the predicted weight change is (0"},{"page":263,"sentence":"54944−0"},{"page":263,"sentence":"46614Xlog(Duration"},{"page":263,"sentence":"weeks"},{"page":263,"sentence":"))pounds"},{"page":263,"sentence":"•If stress level is 3, the predicted weight change is (−2"},{"page":263,"sentence":"44803 + 1"},{"page":263,"sentence":"45515Xlog(Duration"},{"page":263,"sentence":"weeks"},{"page":263,"sentence":"))pounds"},{"page":263,"sentence":"•If stress level is 4, the predicted weight change is (−1"},{"page":263,"sentence":"93746 + 0"},{"page":263,"sentence":"89513Xlog(Duration"},{"page":263,"sentence":"weeks"},{"page":263,"sentence":"))pounds"},{"page":263,"sentence":"•If stress level is 5, the predicted weight change is (−4"},{"page":263,"sentence":"19952 + 2"},{"page":263,"sentence":"98467Xlog(Duration"},{"page":263,"sentence":"weeks"},{"page":263,"sentence":"))pounds"},{"page":263,"sentence":"•If stress level is 6, the predicted weight change is (−0"},{"page":263,"sentence":"32160−0"},{"page":263,"sentence":"02623Xlog(Duration"},{"page":263,"sentence":"weeks"},{"page":263,"sentence":"))pounds"},{"page":263,"sentence":"•If stress level is 7, the predicted weight change is (−2"},{"page":263,"sentence":"49840 + 1"},{"page":263,"sentence":"23485Xlog(Duration"},{"page":263,"sentence":"weeks"},{"page":263,"sentence":"))pounds"},{"page":263,"sentence":"•If stress level is 8, the predicted weight change is (13"},{"page":263,"sentence":"14533−12"},{"page":263,"sentence":"05261Xlog(Duration"},{"page":263,"sentence":"weeks"},{"page":263,"sentence":"))pounds"},{"page":263,"sentence":"•If stress level is 9, the predicted weight change is (−0"},{"page":263,"sentence":"12103−6"},{"page":263,"sentence":"05003Xlog(Duration"},{"page":263,"sentence":"weeks"},{"page":263,"sentence":"))pounds"},{"page":263,"sentence":"•If stress level is 1, the predicted weight change would simply be our model equation excluding any\nStress"},{"page":263,"sentence":"Level iterms or interactions, where i = 2 to 9, as all values would simply be 0 for those\nvariables"},{"page":263,"sentence":"Lastly, our Adjusted R2for our model is 0"},{"page":263,"sentence":"8509, implying that our 85"},{"page":263,"sentence":"09% of the variability in weight change\nis explained by our model"},{"page":263,"sentence":"To demonstrate the predictiveness of our model, we have included an example"},{"page":263,"sentence":"Assume a participant records\ntheir weight change over a period of 6 weeks, where they recorded poor sleep quality, and a stress level of 5"},{"page":263,"sentence":"What would be there predicted weight change?\n## 1\n## -4"},{"page":263,"sentence":"713261\nBased on our finalized model, and assuming a participant records their weight change over a period of 6\nweeks, where they recorded poor sleep quality, and a stress level of 5, we would predict their weight to\ndecrease by 4"},{"page":263,"sentence":"713261 pounds"},{"page":263,"sentence":"45"},{"page":264,"sentence":"4 Conclusion and Discussion\n4"},{"page":264,"sentence":"1 Approach\n4"},{"page":264,"sentence":"2 Future Work\n5 References\n1"},{"page":264,"sentence":"THE WEBSITE FOR THE DATASET\n46"},{"page":265,"sentence":"Unlocking Insights in Calgary Child \nCare Program Compliance: An \nAnalytical Approach\nSri Harsha Tuttaganti\nVenkateshwaran Balu SoundararajanGroup 39\n1"},{"page":266,"sentence":"Introduction\n2❑Childcare is essential for early childhood \ndevelopment"},{"page":266,"sentence":"❑Provides a foundation for learning, \nsocialization, and well -being"},{"page":266,"sentence":"❑High-quality childcare significantly \nimpacts a child's growth and future \nsuccess"},{"page":267,"sentence":"3\n➢Parents: Searching for reliable childcare options"},{"page":267,"sentence":"➢Researchers: Analyzing childcare availability and \ndistribution"},{"page":267,"sentence":"➢Policymakers: Evaluating childcare needs and planning Target Audience❖Utilize the Calgary Childcare Information dataset"},{"page":267,"sentence":"❖Analyze licensed childcare programs"},{"page":267,"sentence":"❖Focus on capacity, compliance status, and \ninspection history"},{"page":267,"sentence":"❖Ensure high standards of care for children in \nCalgary resources"},{"page":267,"sentence":"Objective"},{"page":268,"sentence":"Child Care Information Dataset\nhttps:\/\/data"},{"page":268,"sentence":"calgary"},{"page":268,"sentence":"ca\/Health -and-Safety\/Child -Care-\nInformation\/qdxh -qngy\/about_dataOverview\n▪Dataset Name: Child Care Information\n▪Source:City of Calgary Open Data Portal\n▪Description:\nThis dataset provides information about \nlicensed Child Care facilities in Calgary"},{"page":268,"sentence":"It \nincludes details such as facility names, \nlocations, types of care offered, capacity, \nand contact information"},{"page":268,"sentence":"(2014 -2023)\n4"},{"page":269,"sentence":"Data Fields and Its Significance\n5Field Name Data Type Significance\nProgram Name Text Uniquely identifies each program\nType of Program Text Categorizes programs for analysis\nProgram Address Text Provides location details\nProgram City Text Identifies the city for location -based analysis\nPostal Code Text Used for geographic and demographic analysis\nPhone Number Text Provides a means of contact for inquiries\nCapacity Number Indicates the program's scale and capacity\nInspection Date Floating Timestamp Tracks the timeline of inspections\nInspection Reason Text Provides insights into compliance and regulatory focus areas\nNon Compliance Text Assesses compliance status and identifies areas needing improvement\nEnforcement Action Text Details corrective actions implemented\nRemedy Date Floating Timestamp Tracks deadlines for resolving non -compliance issues"},{"page":270,"sentence":"Data Model with Supporting Datasets\n6"},{"page":271,"sentence":"Data Cleaning and Transformation\n7\nStep 1 : Cleaned the data by removing duplicate values"},{"page":271,"sentence":"Step 2: Added a dataset containing latitude and longitude information"},{"page":271,"sentence":"Step 3: Removed duplicates caused by merging location dataset"},{"page":271,"sentence":"Step 4: Addressed normalization issues by cross -checking addresses in both datasets and \nrectifying discrepancies"},{"page":271,"sentence":"Step 5 : Added another dataset to group data into communities and Quadrants"},{"page":272,"sentence":"Data Preprocessing - Iterative Imputation\n8\nStep 1: Removed rows containing null values\n•Created a cleaned dataset by removing rows with null values"},{"page":272,"sentence":"Step 2: Split the cleaned dataset\n•Divided the cleaned dataset into test (20%) and train (80%) datasets"},{"page":272,"sentence":"Step 3: Applied iterative imputation using random forest\n•Used the random forest model for iterative imputation to predict missing values"},{"page":272,"sentence":"Step 4: Integrated the predicted values\n•Integrated the predicted values back into the original dataset"},{"page":272,"sentence":"Step 5: Performed imputation on specific columns\n•Applied the imputation process on the \"Program Name\" and \"Type of Program\" columns"},{"page":272,"sentence":"Type of Program column:\n•Accuracy: 0"},{"page":272,"sentence":"9126Program Name column:\n•Accuracy: 0"},{"page":272,"sentence":"9517"},{"page":273,"sentence":"GUIDING \nQUESTIONS\n97\nProgram Types\n1004\nUnique Programs\n14\nInspection Types"},{"page":274,"sentence":"Program Types and its distribution in Calgary\n10\nWhat is the average capacity of child care programs by its types, how does it vary by its Quadrant \nInsights:\n•Highest Average Capacity: Across all \nquadrants, the FAMILY DAY HOME program \nconsistently has the highest average \ncapacity, indicating its dominance in each \nregion"},{"page":274,"sentence":"•Variation Across Quadrants: The average \ncapacity of program types varies \nsignificantly across different quadrants"},{"page":274,"sentence":"•Program Diversity: Each quadrant offers a \nmix of program types, with notable \nvariation in their capacities"},{"page":275,"sentence":"Year on Year Inspections and its Non - Compliance Trends\n11\nHow do the average number of inspections and the rate of non -compliance change year -on-year across \ndifferent childcare programs in Calgary?\nInsights:\n•2016-2019 Increase: There was a \nnoticeable increase in non -\ncompliance percentages from \n2016 to 2019"},{"page":275,"sentence":"•2020 Dip: Both inspection counts \nand non -compliance percentages \ndipped significantly in 2020"},{"page":275,"sentence":"•Post-2020 Recovery: There was a \nrecovery in inspection counts \npost-2020, but non -compliance \npercentages remain fluctuating"},{"page":276,"sentence":"Inspections Reasons frequency with Program Type\n12\nWhat are the most common reasons for \ninspections across different types of \nchildcare programs in Calgary?\nInsights:\nHigh-Frequency Inspections: INSPECTION and \nCOMPLAINT INVESTIGATION are common across \nmost program types, indicating regular oversight \nand response to complaints"},{"page":276,"sentence":"Program -Specific Trends: Certain program types \nlike Facility -Based Programs and Family Day \nHomes are more frequently inspected"},{"page":276,"sentence":"Focus Areas: The high counts in FOLLOW UP TO \nENFORCEMENT ACTION and RENEWAL LICENCE \nINSPECTION suggest these are critical areas \nneeding close monitoring"},{"page":277,"sentence":"Inspection Frequency (in Days) V\/S Program Type\n13\nIs there a correlation between the \ntype of childcare program and the \nfrequency of inspections?\nInsights:\n•Frequent Inspections: Innovative Child Care \nPrograms experience more frequent and \nconsistent inspections compared to other \nprogram types"},{"page":277,"sentence":"•Less Frequent Inspections: Facility -Based \nPrograms have the least frequent and most \nvariable inspection intervals, indicating less \nregulatory scrutiny"},{"page":278,"sentence":"Understanding the Non -Compliance% spread by Quadrant \nfor better Choices\n14\nHow is the Non -Compliance Spread across the four Quadrants and Communities of the city ?\nInsights:\n•Highest Non -Compliance Rate: The SE \n(Southeast) quadrant has the highest non -\ncompliance rate at 28"},{"page":278,"sentence":"67%, indicating more \nfrequent issues in this area"},{"page":278,"sentence":"•Frequent Inspections: The SW (Southwest) \nquadrant has the highest number of \ninspections (10,909), highlighting intensive \nmonitoring"},{"page":279,"sentence":"Program Inspections and Non -Compliance against Communities\n15\nIdentify the Top -10 communities with lowest and highest compliance rates"},{"page":280,"sentence":"Analyzing Regulatory Compliance –License Cancellation\n16\nHow does the certain program types or locations have more enforcement actions pertaining to licence \ncancellation and suspension ?\nInsights:\n•Facility-Based Programs face significant \nenforcement actions, primarily \nsuspensions"},{"page":280,"sentence":"•While Pre -School Programs have the \nfewest actions, indicating relatively \nbetter compliance"},{"page":280,"sentence":"•Out of School Care Programs mostly \nencounter conditions on their licenses"},{"page":281,"sentence":"MACHINE \nLEARNING\n17"},{"page":282,"sentence":"Text Analysis – Identification of Reasons in Non -\nCompliance Programs\n18\nInnovative Childcare Program has no data"},{"page":283,"sentence":"Sentimental Analysis on Non - Compliance\n19\nFrequent words used in Programs"},{"page":284,"sentence":"LDA Topic Modeling and its insights on Non -Compliance \nReasons\n20\nTopic 1: Staffing & Supervision Compliance Issues\nKey Terms:\n•child, record, staff, administration, attendance, \nsupervision, requirement, criminal, licence, \nholder, check\nNon-compliance issues  may involve:\n•Insufficient supervision of children"},{"page":284,"sentence":"•Failure to maintain proper attendance records"},{"page":284,"sentence":"•Issues with staff qualifications, criminal \nbackground checks, and required licensing"},{"page":284,"sentence":"Suggestion:\n•Childcare program should  focus on ensuring \nqualified, well -trained staff for childcare"},{"page":285,"sentence":"LDA Insights\n21\nTopic 2: Childcare Facility & Safety Regulations\nKey Terms:\n•program, child, care, day, keeping, schedule, \nratio, school, equipment, children, repair\nNon-compliance issues  may involve:\n•Violation of child -to-staff ratios"},{"page":285,"sentence":"•Poor maintenance of facilities and equipment"},{"page":285,"sentence":"•Failure to follow proper schedules and care \nprograms"},{"page":285,"sentence":"Suggestion:\n•Childcare should prioritize safety, well -\nmaintained environments for child \ndevelopment"},{"page":286,"sentence":"LDA insights\n22Topic 3: Medication & Hygiene Compliance\nKey Terms: \n•medication , diapering , change, incident, \nadministered , procedure , washing, reporting , \nnutrition , stored\nNon-compliance issues  may involve:\n•Improper storage or administration of medication"},{"page":286,"sentence":"•Lack of hygiene standards in diapering and \nhandwashing"},{"page":286,"sentence":"•Failure to report incidents related to medication or \nhealth"},{"page":286,"sentence":"Suggestion:\n•This highlights the importance of strict health and \nsafety protocols in childcare environments"},{"page":287,"sentence":"LDA Over the Time\n23\nAre there trends or patterns in identified topics over time?"},{"page":288,"sentence":"Predictive Analysis of Non -Compliance: \n24\nCan we predict non -compliance likelihood based on program attributes and inspection history, and \nwhat features indicate compliance status?\nData Preparation\nBinary Target Column: Created a \nbinary target column \n(Non_Compliance_Indicator ) to \nindicate non -compliance"},{"page":288,"sentence":")\nHandling Missing Values: \nDropped rows with missing \nvalues in selected columns to \nensure data quality"},{"page":288,"sentence":"Feature Selection : Selected \nrelevant columns for modeling"},{"page":288,"sentence":"Categorical Encoding\nOne-Hot Encoding : Used one -\nhot encoding to convert \ncategorical variables into a \nformat suitable for machine \nlearning algorithms"},{"page":288,"sentence":"Data Splitting: Split the data into \ntraining and testing sets"},{"page":288,"sentence":"SMOTE\nSMOTE Application : Applied \nSMOTE (Synthetic Minority \nOver-sampling Technique) to \noversample the minority class"},{"page":288,"sentence":"Training the Model : Trained a \nlogistic regression model on the \nresampled training data"},{"page":288,"sentence":"Code for Prediction\nCode to Encode and \nPredictLogistic Regression Model"},{"page":289,"sentence":"Model Results and Predictions\n25\nPrediction Scenarios\nScenario 1: Group Family Child Program\n•Capacity : 10\n•Type of Program : Group Family Child Program\n•Postal Code : T2M3T4 \n•Prediction : [0] Likelihood of Non -Compliance : Unlikely\nScenario 2: Innovative Child Care Program\n•Capacity : 6050\n•Type of Program : Innovative Child Care Program\n•Postal Code : T2M1L9 \n•Prediction : Predicted likelihood of non -compliance"},{"page":289,"sentence":"•Prediction : [1] Likelihood of Non -Compliance : Likely"},{"page":290,"sentence":"Conclusion\n26\n❑Key Non -Compliance Issues Identified"},{"page":290,"sentence":"❑Non-Compliance Trends by Quadrant"},{"page":290,"sentence":"❑Yearly Trends in Non -Compliance & Inspections"},{"page":290,"sentence":"❑We identified key inspection reasons from LDA model\n❑Predictive Modeling on non -compliance likelihood"},{"page":290,"sentence":"❑Refine Predictive Models  – Improve non -compliance forecasting accuracy"},{"page":290,"sentence":"❑Policy Recommendations  – Use trends to guide better regulations"},{"page":290,"sentence":"❑Community Engagement  – Provide recommendations to Conduct training programs for \nchildcare providers Future Steps"},{"page":291,"sentence":"References\n27[1] Government of Alberta, \"Childcare,\" Alberta"},{"page":291,"sentence":"ca, 2025"},{"page":291,"sentence":"[Online]"},{"page":291,"sentence":"Available: \nhttps:\/\/www"},{"page":291,"sentence":"alberta"},{"page":291,"sentence":"ca\/child -care"},{"page":291,"sentence":"[2] City of Calgary, \"Communities by Sector,\" Data Calgary, 2025"},{"page":291,"sentence":"[Online]"},{"page":291,"sentence":"Available: \nhttps:\/\/data"},{"page":291,"sentence":"calgary"},{"page":291,"sentence":"ca\/Base -Maps\/Communities -by-Sector\/e6xg -kaxf"},{"page":291,"sentence":"[3] City of Calgary, \"City Quadrants,\" Data Calgary, 2025"},{"page":291,"sentence":"[Online]"},{"page":291,"sentence":"Available: \nhttps:\/\/data"},{"page":291,"sentence":"calgary"},{"page":291,"sentence":"ca\/Base -Maps\/City -Quadrants\/g8ma -syw"},{"page":291,"sentence":"[4] Statistics Canada, \"Open Database of Addresses (ODA),\" Government of Canada, 2025"},{"page":291,"sentence":"[Online]"},{"page":291,"sentence":"Available: https:\/\/www"},{"page":291,"sentence":"statcan"},{"page":291,"sentence":"gc"},{"page":291,"sentence":"ca\/en\/lode\/databases\/oda"},{"page":292,"sentence":"Thank You! \n28"},{"page":293,"sentence":"socialmediapurchaseinfluence\nJuly 13, 2025\n1 The Influence of Social Media Usage on Consumer Purchasing\nDecisions\nGroup Members\n1"},{"page":293,"sentence":"A yush Senthil Nelli\n2"},{"page":293,"sentence":"Hritvik Gaind\n3"},{"page":293,"sentence":"Rehan Chanegaon\n4"},{"page":293,"sentence":"Satyam Kapoor\n5"},{"page":293,"sentence":"V enkateshwaran Balu Soundararajan\n[2]: #Importing Required Libraries\nimport pandas as pd\nimport plotly"},{"page":293,"sentence":"express as px\nimport scipy"},{"page":293,"sentence":"stats as stats\nimport numpy as np\nfrom sklearn"},{"page":293,"sentence":"model_selection importtrain_test_split, cross_val_score\nfrom sklearn"},{"page":293,"sentence":"linear_model importLinearRegression\nfrom sklearn"},{"page":293,"sentence":"tree importDecisionTreeRegressor\nfrom sklearn"},{"page":293,"sentence":"preprocessing importLabelEncoder\nfrom sklearn"},{"page":293,"sentence":"metrics importmean_squared_error, r2_score\nimport statsmodels"},{"page":293,"sentence":"api as sm\nimport statsmodels"},{"page":293,"sentence":"formula"},{"page":293,"sentence":"api as smf\nfrom scipy"},{"page":293,"sentence":"stats importchi2\nimport plotly"},{"page":293,"sentence":"express as px\nimport plotly"},{"page":293,"sentence":"graph_objects as go\nimport seaborn as sns\nimport matplotlib"},{"page":293,"sentence":"pyplot as plt\n# Disable all warnings\nimport warnings\nwarnings"},{"page":293,"sentence":"filterwarnings( \"ignore\")\npd"},{"page":293,"sentence":"options"},{"page":293,"sentence":"mode"},{"page":293,"sentence":"chained_assignment =None\n1"},{"page":293,"sentence":"1 Introduction\nIn today’s digital era, social media plays a pivotal role in shaping consumer behavior and influencing\npurchasing decisions"},{"page":293,"sentence":"With platforms like Instagram, F acebook, and TikT ok at the forefront,\nbrands are increasingly leveraging digital marketing strategies to capture attention and build trust"},{"page":293,"sentence":"This report investigates how social media influences consumer choices, explores the impact of\n1"},{"page":294,"sentence":"digital content and influencer recommendations, and highlights data-driven approaches that help\nbusinesses optimize their marketing strategies"},{"page":294,"sentence":"By analyzing survey data collected from active\nsocial media users, the study aims to provide insights that can support more targeted and effective\nmarketing efforts"},{"page":294,"sentence":"1"},{"page":294,"sentence":"2 Background and Significance\nSocial media has revolutionized the way consumers interact with brands and make purchasing\ndecisions"},{"page":294,"sentence":"The ubiquitous presence of platforms such as Instagram, F acebook, and TikT ok has not\nonly altered consumer expectations but also redefined marketing practices"},{"page":294,"sentence":"Brands now rely on\ndigital marketing, influencer promotions, and user-generated content to attract buyers"},{"page":294,"sentence":"Moreover,\nconsumers increasingly trust online reviews and recommendations, which serve as powerful social\nproof before making purchases"},{"page":294,"sentence":"Key aspects of this transformation include:\nUnderstanding Consumer Behavior: Gaining insights into how consumers interact with digital\ncontent allows brands to better align their products and messaging with audience preferences"},{"page":294,"sentence":"Impact of Influencers & Reviews: The rise of influencer marketing and the proliferation of\nonline reviews have made it possible to measure the tangible effects of social proof on purchasing\ndecisions"},{"page":294,"sentence":"Data-Driven Marketing Strategies: Leveraging consumer data enables businesses to optimize\ntheir advertisements and engagement strategies, ensuring that marketing efforts are both eﬀicient\nand effective"},{"page":294,"sentence":"Identifying T rends & Preferences: Continuous analysis of consumer behavior helps identify\nemerging trends and preferences, which is crucial for maintaining competitive advantage in a rapidly\nevolving market"},{"page":294,"sentence":"This project underscores the importance of data-driven insights in understanding and adapting to\nthe shifting dynamics of consumer behavior in the digital age"},{"page":294,"sentence":"1"},{"page":294,"sentence":"3 About the Dataset\nThe analysis is grounded in a custom-designed survey aimed at capturing the nuances of social\nmedia’s influence on consumer behavior"},{"page":294,"sentence":"Below are the key details of the dataset:\nPrimary Data Source: A custom-designed survey administered via Google F orms"},{"page":294,"sentence":"link -\nhttps:\/\/forms"},{"page":294,"sentence":"gle\/mhwQoduno3mTWTQ26\nT arget Audience: The survey focused on consumers from the University of Calgary , covering a\ndiverse age range of individuals who actively use social media for making shopping decisions"},{"page":294,"sentence":"Response Count: The dataset comprises responses from 125 participants"},{"page":294,"sentence":"Survey Structure: The survey was structured into several sections:\nDemographics: Collecting data on age, gender, etc"},{"page":294,"sentence":"Social Media Usage: Assessing frequency of use, preferred platforms, and daily time spent"},{"page":294,"sentence":"Advertisement Exposure: Evaluating the impact of social media ads, influencer recommenda-\ntions, and brand collaborations"},{"page":294,"sentence":"2"},{"page":295,"sentence":"Purchasing Behavior: Documenting the types of products purchased through social media, trust\nin online reviews, and key decision-making factors"},{"page":295,"sentence":"Influencing F actors: Identifying the type of content, limited time offers, and other factors influ-\nencing consumer decisions"},{"page":295,"sentence":"Data Cleaning & Stratified Sampling: T o ensure a balanced analysis, the dataset underwent\nseveral cleaning steps:\nRenaming Columns: Survey questions were renamed to more appropriate column names"},{"page":295,"sentence":"Stratified Sampling: - Data was segmented into four age groups: Below 18, 18–36, 37–54, and\nAbove 55"},{"page":295,"sentence":"- The minimum count among these groups was identified to allow proportional allocation"},{"page":295,"sentence":"- Random resampling with replacement was performed within each group to ensure equal sample\nsizes"},{"page":295,"sentence":"- Finally , the resampled data was combined and shuffled to maintain randomness"},{"page":295,"sentence":"The careful design and cleaning of the dataset ensure that the analysis accurately reflects consumer\nbehavior across different age groups, providing a reliable foundation for data-driven marketing in-\nsights"},{"page":295,"sentence":"[3]:df=pd"},{"page":295,"sentence":"read_excel( 'FinalSurveyDataa"},{"page":295,"sentence":"xlsx ')\ndf_original =pd"},{"page":295,"sentence":"read_csv( '606Project_Original"},{"page":295,"sentence":"csv ')\n#df"},{"page":295,"sentence":"head(5)\n#df_original=df"},{"page":295,"sentence":"copy()\n#df = pd"},{"page":295,"sentence":"read_csv(\"Data_606_Project"},{"page":295,"sentence":"csv\")\n#df"},{"page":295,"sentence":"drop('Unnamed: 0', axis=1, inplace=True)\ndf"},{"page":295,"sentence":"columns\n[3]:Index(['Timestamp', 'What is your age group?', 'What is your gender?',\n'On average, how many hours do you spend on social media daily?',\n'Which social media platform do you use most frequently?',\n'How often do you use this platform?',\n'How often do you see product advertisements on social media?',\n'How often do you encounter promotions by influencers on social media?',\n'How many times in the past month have you purchased a product after\nseeing it on social media?',\n'How often do you make unplanned purchases after seeing a product on\nsocial media?',\n'Do you regret purchases made impulsively due to social media\ninfluence?',\n'Which type of content influences your purchasing decisions the most?',\n'How often do you purchase a product based on a limited time offer on\nsocial media?',\n'Do you usually compare products on other websites\/apps before buying\nsomething seen on social media?',\n'If you compare products, what factor influences your choice the most?\n(Select Not Applicable if previous question choices as No)',\n'Have you ever purchased a product to fit in with trends seen on social\nmedia?',\n'How often do peers or social trends influence your purchasing decisions\n3"},{"page":296,"sentence":"on social media?',\n'Do you feel that social media increases your spending on products?',\n'How do you typically pay for purchases influenced by social media?',\n'How often do you exceed your budget because of products seen on social\nmedia?',\n'Have you ever taken a loan or gone into debt to purchase a product\nadvertised on social media?',\n'How trustworthy do you find social media advertisements?',\n'Are you more likely to trust ads promoted by influencers or official\nbrand accounts?',\n'Email address'],\ndtype='object')\n1"},{"page":296,"sentence":"4 Data Cleaning\n[4]:df"},{"page":296,"sentence":"rename(columns ={\n\"What is your age group? \":\"age_group \",\n\"What is your gender? \":\"gender\",\n\"On average, how many hours do you spend on social media daily? \":␣\n↪\"social_media_hours_per_day \",\n\"Which social media platform do you use most frequently? \":␣\n↪\"most_frequent_platform \",\n\"How often do you use this platform? \":\"platform_usage_frequency \",\n\"How often do you see product advertisements on social media? \":␣\n↪\"ad_frequency_on_social_media \",\n\"How often do you encounter promotions by influencers on social media? \":␣\n↪\"influencer_promotions_frequency \",\n\"How many times in the past month have you purchased a product after seeing it ␣\n↪on social media? \":\"purchased_after_seeing_on_social_media \",\n\"How often do you make unplanned purchases after seeing a product on social ␣\n↪media?\":\"unplanned_purchases_after_social_media \",\n\"Do you regret purchases made impulsively due to social media influence? \":␣\n↪\"regret_impulsive_purchases \",\n\"Which type of content influences your purchasing decisions the most? \":␣\n↪\"content_type_influences_purchasing \",\n\"How often do you purchase a product based on a limited time offer on social ␣\n↪media?\":\"limited_time_offer_purchases \",\n\"Do you usually compare products on other websites\/apps before buying something ␣\n↪seen on social media? \":\"product_comparison_before_purchasing \",\n\"If you compare products, what factor influences your choice the most? (Select ␣\n↪Not Applicable if previous question choices as No) \":\"comparison_factor \",\n\"Have you ever purchased a product to fit in with trends seen on social media? \":\n↪\"purchased_to_fit_in_with_trends \",\n\"How often do peers or social trends influence your purchasing decisions on ␣\n↪social media? \":\"peer_influence_on_purchasing \",\n4"},{"page":297,"sentence":"\"Do you feel that social media increases your spending on products? \":␣\n↪\"social_media_increases_spending \",\n\"How do you typically pay for purchases influenced by social media? \":␣\n↪\"payment_method \",\n\"How often do you exceed your budget because of products seen on social media? \":\n↪\"exceed_budget_due_to_social_media \",\n\"Have you ever taken a loan or gone into debt to purchase a product advertised ␣\n↪on social media? \":\"loan_for_social_media_purchases \",\n\"How trustworthy do you find social media advertisements? \":␣\n↪\"trustworthiness_of_social_media_ads \",\n\"Are you more likely to trust ads promoted by influencers or official brand ␣\n↪accounts? \":\"influencer_vs_brand_ads_trust \"\n}, inplace =True)\n[5]:df"},{"page":297,"sentence":"isna()"},{"page":297,"sentence":"sum()\n[5]:Timestamp 0\nage_group 0\ngender 0\nsocial_media_hours_per_day 0\nmost_frequent_platform 0\nplatform_usage_frequency 0\nad_frequency_on_social_media 0\ninfluencer_promotions_frequency 0\npurchased_after_seeing_on_social_media 0\nunplanned_purchases_after_social_media 0\nregret_impulsive_purchases 0\ncontent_type_influences_purchasing 1\nlimited_time_offer_purchases 0\nproduct_comparison_before_purchasing 0\ncomparison_factor 0\npurchased_to_fit_in_with_trends 0\npeer_influence_on_purchasing 0\nsocial_media_increases_spending 0\npayment_method 1\nexceed_budget_due_to_social_media 0\nloan_for_social_media_purchases 0\ntrustworthiness_of_social_media_ads 0\ninfluencer_vs_brand_ads_trust 0\nEmail address 41\ndtype: int64\n[6]:df['age_group ']"},{"page":297,"sentence":"value_counts()\n[6]:age_group\n18 - 36 80\nAbove 55 33\n5"},{"page":298,"sentence":"Below 18 28\n37 - 54 23\nName: count, dtype: int64\n[7]:df['gender']"},{"page":298,"sentence":"value_counts()\n[7]:gender\nMale 85\nFemale 79\nName: count, dtype: int64\n[8]:df['most_frequent_platform ']=df['most_frequent_platform ']"},{"page":298,"sentence":"str"},{"page":298,"sentence":"lower()\n# To standardize the names like \"YouTube\" or \"Youtube\"\n1"},{"page":298,"sentence":"5 Stratified Sampling\n[9]: # Count the number of samples in each gender group\nage_group_counts =df['age_group ']"},{"page":298,"sentence":"value_counts()\nprint(\"Original Age Group Distribution: \\n\", age_group_counts)\n# Separate by gender (stratify by 'gender')\ndf_18_36 =df[df['age_group ']=='18 - 36']\ndf_above_55 =df[df['age_group ']=='Above 55 ']\ndf_below_18 =df[df['age_group ']=='Below 18 ']\ndf_37_54 =df[df['age_group ']=='37 - 54']\n# Perform bootstrapping within each gender group to balance sample sizes\n# Get the minimum count between Male and Female for proportional allocation\nmin_count =min(age_group_counts)\n# Apply bootstrapping for Male and Female to make sample sizes equal\nbootstrap_18_36 =df_18_36"},{"page":298,"sentence":"sample(n =min_count, replace =True)\nbootstrap_above_55 =df_above_55"},{"page":298,"sentence":"sample(n =min_count, replace =True)\nbootstrap_below_18 =df_below_18"},{"page":298,"sentence":"sample(n =min_count, replace =True)\nbootstrap_37_54 =df_37_54"},{"page":298,"sentence":"sample(n =min_count, replace =True)\n# Combine the bootstrapped samples\nbootstrapped_df =pd"},{"page":298,"sentence":"concat([bootstrap_18_36, bootstrap_above_55, ␣\n↪bootstrap_below_18, bootstrap_37_54])\n# Shuffle to randomize the combined data\nbootstrapped_df =bootstrapped_df"},{"page":298,"sentence":"sample(frac =1)"},{"page":298,"sentence":"reset_index(drop =True)\n# New gender distribution after bootstrapping\nnew_gender_counts =bootstrapped_df[ 'age_group ']"},{"page":298,"sentence":"value_counts()\nprint(\"\\nBootstrapped Gender Distribution (Equal counts): \\n\", new_gender_counts)\n6"},{"page":299,"sentence":"# Display the bootstrapped DataFrame\n#df = bootstrapped_df"},{"page":299,"sentence":"drop(columns = ['Email address','Timestamp'])\nbootstrapped_df"},{"page":299,"sentence":"head(5)\nOriginal Age Group Distribution:\nage_group\n18 - 36 80\nAbove 55 33\nBelow 18 28\n37 - 54 23\nName: count, dtype: int64\nBootstrapped Gender Distribution (Equal counts):\nage_group\n18 - 36 23\nBelow 18 23\nAbove 55 23\n37 - 54 23\nName: count, dtype: int64\n[9]: Timestamp age_group gender social_media_hours_per_day \\\n0 1\/26\/2025 0:51:58 18 - 36 Female 1 - 4 hours\n1 1\/26\/2025 15:26:46 Below 18 Male 1 - 4 hours\n2 2025-02-02 23:37:00 18 - 36 Female 1 - 4 hours\n3 2025-01-25 00:12:00 Above 55 Female Less than 1 hour\n4 1\/25\/2025 5:32:20 Below 18 Male 1 - 4 hours\nmost_frequent_platform platform_usage_frequency \\\n0 instagram Rarely\n1 instagram Multiple times daily\n2 instagram Multiple times daily\n3 facebook Daily\n4 instagram Daily\nad_frequency_on_social_media influencer_promotions_frequency \\\n0 Frequently Frequently\n1 Almost every time Almost every time\n2 Almost every time Almost every time\n3 Occasionally Rarely\n4 Frequently Occasionally\npurchased_after_seeing_on_social_media \\\n0 1-2\n1 3-5\n2 0\n3 0\n7"},{"page":300,"sentence":"4 3-5\nunplanned_purchases_after_social_media … comparison_factor \\\n0 Rarely … Reviews\n1 Rarely … Price\n2 Rarely … Reviews\n3 Never … Not Applicable\n4 Rarely … Price\npurchased_to_fit_in_with_trends peer_influence_on_purchasing \\\n0 Yes Rarely\n1 Yes Occasionally\n2 No Rarely\n3 No Never\n4 No Rarely\nsocial_media_increases_spending payment_method \\\n0 3 Credit Card\n1 4 Personal Income\n2 3 Credit Card\n3 1 Personal Income\n4 2 Parental Support, Savings\nexceed_budget_due_to_social_media loan_for_social_media_purchases \\\n0 Rarely No\n1 Occasionally No\n2 Never No\n3 Never No\n4 Rarely No\ntrustworthiness_of_social_media_ads influencer_vs_brand_ads_trust \\\n0 2 Neither\n1 3 Influencers\n2 3 Brand accounts\n3 1 Neither\n4 4 Brand accounts\nEmail address\n0 nazreenathani736@gmail"},{"page":300,"sentence":"com\n1 faaiz"},{"page":300,"sentence":"tariq10@gmail"},{"page":300,"sentence":"com\n2 alisha"},{"page":300,"sentence":"jyoti@ucalgary"},{"page":300,"sentence":"ca\n3 NaN\n4 vighneshhonamore@gmail"},{"page":300,"sentence":"com\n[5 rows x 24 columns]\n8"},{"page":301,"sentence":"1"},{"page":301,"sentence":"5"},{"page":301,"sentence":"1 Discussion\nIn this process, we first count the number of samples in each age group to understand the original\ndistribution"},{"page":301,"sentence":"Then, we separate the dataset into four age categories: “18 - 36,” “Above 55,” “Below\n18,” and “37 - 54"},{"page":301,"sentence":"”\nNext, we determine the minimum sample size among these groups (min_count) to ensure propor-\ntional allocation"},{"page":301,"sentence":"T o balance the dataset, we perform bootstrapping by randomly sampling (with\nreplacement) from each age group so that all groups have the same number of samples as the small-\nest group"},{"page":301,"sentence":"After bootstrapping, we combine all the sampled data into a new dataset and shuffle it\nto maintain randomness"},{"page":301,"sentence":"Finally , we check the new distribution to confirm that the sample sizes\nare now equal across age groups, ensuring a more balanced dataset for further analysis"},{"page":301,"sentence":"1"},{"page":301,"sentence":"6 Exploratory Data Analysis\n1"},{"page":301,"sentence":"Purchase F requency and Most used platform\n[21]: ### ERROR\n# df is the dataframe to be used->\n# Define relevant columns\npurchase_col =\"purchased_after_seeing_on_social_media \"\ngroup_col =\"gender\" # Change to \"Age Group\" if needed\n# Group by purchase column and gender, then count occurrences\ngrouped_df =df"},{"page":301,"sentence":"groupby([purchase_col, group_col])"},{"page":301,"sentence":"size()"},{"page":301,"sentence":"↪reset_index(name ='count')\n# Create bar chart using Plotly with custom colors\ncustom_colors =px"},{"page":301,"sentence":"colors"},{"page":301,"sentence":"qualitative"},{"page":301,"sentence":"Prism # Updated to a different color ␣\n↪scheme\nfig=px"},{"page":301,"sentence":"bar(grouped_df, x =purchase_col, y ='count', color=group_col, ␣\n↪text='count',\ntitle=\"Purchases after Social Media Exposure by Gender\/Age Group \",\nlabels={purchase_col: \"Purchase Frequency \",\"count\":\"Number of ␣\n↪Respondents \"},\nbarmode='group', color_discrete_sequence =custom_colors)\n# Remove bar outlines\nfig"},{"page":301,"sentence":"update_traces(marker =dict(line=dict(width=0)))\n# Show plot\nfig"},{"page":301,"sentence":"show()\n1"},{"page":301,"sentence":"6"},{"page":301,"sentence":"1 Discussion\nThe analysis reveals distinct purchase behaviors influenced by social media exposure across genders"},{"page":301,"sentence":"A significant number of females (28) did not make any purchases, suggesting they are more resistant\nor less influenced by social media marketing compared to 13 males"},{"page":301,"sentence":"Conversely , males are more\nlikely to make 1-2 purchases (22 males) than females (16 females), indicating moderate influence on\nmales"},{"page":301,"sentence":"A smaller segment of both genders made 3-5 purchases, with females (7) slightly outpacing\nmales (3)"},{"page":301,"sentence":"Notably , only males made 6-10 purchases (4 males), highlighting a small but highly\n9"},{"page":302,"sentence":"influenced group"},{"page":302,"sentence":"These insights suggest that while social media marketing can influence purchase\nbehavior, it does not often result in high-frequency purchases"},{"page":302,"sentence":"Therefore, strategies targeting males\nmight be more effective, optimizing marketing campaigns to enhance engagement and conversion\nrates"},{"page":302,"sentence":"Personalized and engaging content could improve the effectiveness of campaigns targeting\nfemales, aiming to convert them into buyers"},{"page":302,"sentence":"2"},{"page":302,"sentence":"Purchasing T rends\n[22]: # Pivot the data for heatmap (categorical correlation by count)\nheatmap_data =df"},{"page":302,"sentence":"pivot_table(index =\"age_group \",␣\n↪columns=\"purchased_after_seeing_on_social_media \", aggfunc =\"size\",␣\n↪fill_value =0)\n# Order the pivot table based on age group\nage_order =['Below 18 ','18 - 36','37 - 54','Above 55 '] # Customize this ␣\n↪order as per your age groups\nheatmap_data =heatmap_data"},{"page":302,"sentence":"reindex(age_order)\n# Create heatmap\nplt"},{"page":302,"sentence":"figure(figsize =(10,6))\nsns"},{"page":302,"sentence":"heatmap(heatmap_data, cmap =\"RdBu\", annot=True, fmt=\"d\", linewidths =0"},{"page":302,"sentence":"5)\nplt"},{"page":302,"sentence":"title(\"Purchasing Trends Across Age Groups \")\nplt"},{"page":302,"sentence":"xlabel(\"Purchase Frequency \")\nplt"},{"page":302,"sentence":"ylabel(\"Age Group \")\nplt"},{"page":302,"sentence":"show()\n10"},{"page":303,"sentence":"1"},{"page":303,"sentence":"6"},{"page":303,"sentence":"2 Discussion\nThe analysis reveals distinct patterns in purchase behavior influenced by social media exposure\nacross different age groups"},{"page":303,"sentence":"A significant number of individuals in the younger age group (e"},{"page":303,"sentence":"g"},{"page":303,"sentence":", 18-\n24 years) did not make any purchases, indicating they are more resistant or less influenced by social\nmedia marketing"},{"page":303,"sentence":"In contrast, individuals in the middle age group (e"},{"page":303,"sentence":"g"},{"page":303,"sentence":", 25-34 years) are more likely\nto make 1-2 purchases after exposure, suggesting a moderate influence of social media marketing on\nthis demographic"},{"page":303,"sentence":"A smaller segment of both younger and middle-aged groups made 3-5 purchases,\npointing to a group of moderately influenced individuals"},{"page":303,"sentence":"Notably , only older individuals (e"},{"page":303,"sentence":"g"},{"page":303,"sentence":",\n35-44 years) made 6-10 purchases, highlighting a small yet highly influenced group"},{"page":303,"sentence":"These insights\nsuggest that while social media marketing impacts purchase behavior, it generally results in low\nto moderate purchase frequency across different age groups"},{"page":303,"sentence":"Therefore, targeting the middle-\naged demographic might be more effective in optimizing campaigns to enhance engagement and\nconversion rates"},{"page":303,"sentence":"Additionally , personalized and engaging content could improve the effectiveness\nof campaigns targeting younger individuals, converting them into buyers"},{"page":303,"sentence":"3"},{"page":303,"sentence":"Purchasing to fit in with T rends\n[23]:g=sns"},{"page":303,"sentence":"FacetGrid(\nbootstrapped_df,\ncol='age_group ',\ncol_wrap =3,\nheight=4,\ncol_order =['Below 18 ','18 - 36','37 - 54','Above 55 ']\n)\ng"},{"page":303,"sentence":"map(sns"},{"page":303,"sentence":"histplot, 'purchased_to_fit_in_with_trends ', bins=3, kde=False,␣\n↪color='purple')\ng"},{"page":303,"sentence":"set_titles(col_template =\"{col_name} Age Group \")\nplt"},{"page":303,"sentence":"show()\n11"},{"page":304,"sentence":"1"},{"page":304,"sentence":"6"},{"page":304,"sentence":"3 Discussion\nThe graphs compare purchasing behavior across age groups, showing whether people bought items\nto “fit in with trends"},{"page":304,"sentence":"” The x-axis shows “Y es” or “No” for purchases, and the y-axis shows the\ncount of individuals"},{"page":304,"sentence":"The data is split into four age groups: “Below 18,” “18 - 36,” “37 - 54,” and\n“Above 55,” with each group displayed side by side for easy comparison"},{"page":304,"sentence":"The insights suggest that younger age groups, especially “18 - 36,” are more likely to buy items to\nfit in with trends, while older groups, particularly “Above 55,” tend to refrain from such purchases"},{"page":304,"sentence":"This can inform targeted marketing strategies based on age"},{"page":304,"sentence":"4"},{"page":304,"sentence":"Ad F requency vs Platform Usage F requency\n[24]:count_df =df"},{"page":304,"sentence":"groupby([ 'platform_usage_frequency ',␣\n↪'ad_frequency_on_social_media '])"},{"page":304,"sentence":"size()"},{"page":304,"sentence":"reset_index(name ='count')\nfig6=px"},{"page":304,"sentence":"bar(count_df,\nx=\"platform_usage_frequency \",\ny=\"count\",\ncolor=\"ad_frequency_on_social_media \",\ntitle=\"Ad Frequency vs Platform Usage Frequency \",\nlabels={\"platform_usage_frequency \":\"Platform Usage Frequency \",\n\"ad_frequency_on_social_media \":\"Ad Frequency \"},\nbarmode=\"stack\")\nfig6"},{"page":304,"sentence":"show()\n12"},{"page":305,"sentence":"1"},{"page":305,"sentence":"6"},{"page":305,"sentence":"4 Discussion\nUsers Who Engage Daily See Ads the Most: The largest group of users falls under “Daily”\nplatform usage"},{"page":305,"sentence":"They mostly encounter ads “Occasionally” and “F requently”, with a few seeing\nads “Almost every time”"},{"page":305,"sentence":"Users Engaging Multiple Times Daily Also Experience F requent Ads: This group also\nsees a high proportion of ads “F requently” and “Occasionally”"},{"page":305,"sentence":"F ewer users in this category report\nads appearing “Almost every time"},{"page":305,"sentence":"”\nOccasional and Rare Users See F ewer Ads: Those who use social media “Occasionally” or\n“Rarely” encounter ads much less frequently"},{"page":305,"sentence":"The ad frequency for these groups is mostly “Rarely”\nand “Occasionally”, with very few experiencing frequent ads"},{"page":305,"sentence":"5"},{"page":305,"sentence":"T rustworthiness of Ads\n[25]:age_group_order =[\"Below 18 \",\"18 - 36\",\"37 - 54\",\"Above 55 \"]\nfig7=px"},{"page":305,"sentence":"box(df,\nx=\"age_group \",\ny=\"trustworthiness_of_social_media_ads \",\ntitle=\"Trustworthiness of Ads by Age Group \",\nlabels={\"age_group \":\"Age Group \",\n\"trustworthiness_of_social_media_ads \":\"Trust Level \"},\ncategory_orders ={\"age_group \": age_group_order})\nfig7"},{"page":305,"sentence":"show()\n1"},{"page":305,"sentence":"6"},{"page":305,"sentence":"5 Discussion\nY ounger Users (Below 18) T rust Ads More: The median trust level is higher than other age\ngroups, around 3 to 4"},{"page":305,"sentence":"The interquartile range (IQR) is wider, indicating varying opinions within\nthis group"},{"page":305,"sentence":"Some users even rated trustworthiness at the highest level (5)"},{"page":305,"sentence":"Middle Age Groups (18-36, 37-54) Show Skepticism: Their median trust levels are lower\n(around 2 to 3)"},{"page":305,"sentence":"The IQR is narrower, meaning most individuals in this range have similar views\non ad trustworthiness"},{"page":305,"sentence":"A few outliers suggest that some people trust ads more than their peers"},{"page":305,"sentence":"Older Adults (Above 55) Have the Lowest T rust in Ads: The median trust level is around\n2, showing significant skepticism"},{"page":305,"sentence":"The IQR extends from 1 to 3, meaning most users in this group\nrate ad trustworthiness quite low"},{"page":305,"sentence":"There are no extreme outliers, suggesting a general consensus\namong older users"},{"page":305,"sentence":"6"},{"page":305,"sentence":"Most F requent Social Media Platforms\n[26]: # Set a modern theme\nsns"},{"page":305,"sentence":"set_theme(style =\"whitegrid \")\n# Create the figure and axis\nplt"},{"page":305,"sentence":"figure(figsize =(12,6))\n# Create the countplot with enhanced aesthetics\nsns"},{"page":305,"sentence":"countplot(\n13"},{"page":306,"sentence":"data=bootstrapped_df,\nx='most_frequent_platform ',\norder=bootstrapped_df[ 'most_frequent_platform ']"},{"page":306,"sentence":"value_counts()"},{"page":306,"sentence":"index,\npalette='magma', # Try 'crest' or 'pastel' for different vibes\nedgecolor ='black' # Adds a clean border to the bars\n)\n# Customize labels and title\nplt"},{"page":306,"sentence":"xticks(rotation =45, fontsize =12, ha='right') # Rotate x-axis labels for ␣\n↪readability\nplt"},{"page":306,"sentence":"xlabel('Social Media Platform ', fontsize =14, fontweight ='bold')\nplt"},{"page":306,"sentence":"ylabel('Count', fontsize =14, fontweight ='bold')\nplt"},{"page":306,"sentence":"title('Most Frequent Social Media Platforms ', fontsize =16,␣\n↪fontweight ='bold')\n# Remove top and right borders for a cleaner look\nsns"},{"page":306,"sentence":"despine()\n# Show the plot\nplt"},{"page":306,"sentence":"show()\n1"},{"page":306,"sentence":"6"},{"page":306,"sentence":"6 Discussion\nThe graphs here show the most frequently used social media platforms"},{"page":306,"sentence":"The x-axis represents\ndifferent platforms, including Y ouT ube, Instagram, F acebook, and others, while the y-axis shows the\n14"},{"page":307,"sentence":"count of users for each platform"},{"page":307,"sentence":"Y ouT ube and Instagram seem to be the most popular platforms,\nwith a significant number of users, followed by F acebook, while platforms like T witter and TikT ok\nare used much less frequently"},{"page":307,"sentence":"F rom these visualizations, it’s clear that Y ouT ube and Instagram dominate social media usage in\nthis dataset, with F acebook also being widely used"},{"page":307,"sentence":"Platforms like Snapchat, Reddit, and LinkedIn\nhave moderate usage, while TikT ok, T witter, and WhatsApp appear to be the least frequent among\nthe given options"},{"page":307,"sentence":"This data could help in understanding platform preference for different marketing\nor content strategies"},{"page":307,"sentence":"7"},{"page":307,"sentence":"Purchasing trends across social media user vs Social media hours per day\n[27]: import seaborn as sns\nimport matplotlib"},{"page":307,"sentence":"pyplot as plt\nimport pandas as pd\n# Define the custom order for the y-axis labels\ny_order =['Less than 1 hour ','1 - 4 hours ','4 - 7 hours ','More than 7 ␣\n↪hours']\ndf[\"purchased_after_seeing_on_social_media \"]=␣\n↪df[\"purchased_after_seeing_on_social_media \"]"},{"page":307,"sentence":"astype(str)\n# Ensure 'social_media_hours_per_day' is a categorical variable with the ␣\n↪specified order\nbootstrapped_df[ 'social_media_hours_per_day ']=pd"},{"page":307,"sentence":"Categorical(\nbootstrapped_df[ 'social_media_hours_per_day '], categories =y_order, ␣\n↪ordered=True\n)\n# Create pivot table with the correct indexing for rows and columns\nheatmap_data =df"},{"page":307,"sentence":"pivot_table(\nindex=\"social_media_hours_per_day \",\ncolumns=\"purchased_after_seeing_on_social_media \",\naggfunc=\"size\",\nfill_value =0\n)\n# Create heatmap\nplt"},{"page":307,"sentence":"figure(figsize =(10,6))\nsns"},{"page":307,"sentence":"heatmap(heatmap_data, cmap =\"PuOr\", annot=True, fmt=\"d\", linewidths =0"},{"page":307,"sentence":"5)\nplt"},{"page":307,"sentence":"title(\"Purchasing Trends Across Social Media Usage \")\nplt"},{"page":307,"sentence":"xlabel(\"Purchase Frequency \")\nplt"},{"page":307,"sentence":"ylabel(\"Social media hours per day \")\nplt"},{"page":307,"sentence":"show()\n15"},{"page":308,"sentence":"1"},{"page":308,"sentence":"6"},{"page":308,"sentence":"7 Discussion\nThe heatmap shows purchasing trends based on social media usage"},{"page":308,"sentence":"The x-axis represents purchase\nfrequency (0, 1-2, 3-5, 6-10), while the y-axis shows daily social media hours (<1 hour, 1-4 hours,\n4-7 hours)"},{"page":308,"sentence":"Darker shades indicate higher counts, with most users in the “1-4 hours” group making\n1-2 purchases"},{"page":308,"sentence":"Users spending “1-4 hours” on social media tend to purchase more, likely due to optimal ad ex-\nposure"},{"page":308,"sentence":"Both heavy (4-7 hours) and light (<1 hour) users show lower purchase activity"},{"page":308,"sentence":"Higher\npurchase categories (3-5, 6-10) are rare, suggesting frequent buying from social media is uncommon"},{"page":308,"sentence":"1"},{"page":308,"sentence":"7 Guiding Questions\n1"},{"page":308,"sentence":"7"},{"page":308,"sentence":"1 1"},{"page":308,"sentence":"Estimating Population Parameters\nThe focus of this analysis is to estimate the population mean, variance, and their confidence intervals\n(CI) using Simple Random Sampling (SRS) and Stratified Sampling"},{"page":308,"sentence":"Stratified sampling is\nparticularly useful to ensure that different subgroups within the population are represented, which\nhelps reduce bias and provides more accurate estimates"},{"page":308,"sentence":"• Population Size : ~35,000\n• Sample Size : 92 (after stratification)\nThe key metric we are estimating is the average number of purchases influenced by social\nmedia for specific subgroups within the population"},{"page":308,"sentence":"This allows us to understand how social media\nimpacts consumer behavior across various demographics"},{"page":308,"sentence":"16"},{"page":309,"sentence":"By focusing on these estimates, we aim to gain insights into the variability in purchasing\nbehavior across different demographics, helping to better understand how purchasing decisions\nare influenced by social media in diverse groups"},{"page":309,"sentence":"[28]: defconvert_purchases (value):\nifvalue=='0':\nreturn0\nelifvalue=='1-2':\nreturn1\nelifvalue=='3-5':\nreturn3\nelifvalue=='6-10':\nreturn6\nelifvalue=='More than 10 ':\nreturn10\nelse:\nreturn0 # Handle any unexpected values\n# Apply the conversion function to the 'purchased_after_seeing_on_social_media' ␣\n↪column\ndf_original[ 'purchased_numeric ']=df_original[ 'How many times in the past ␣\n↪month have you purchased a product after seeing it on social media? ']"},{"page":309,"sentence":"↪apply(convert_purchases)\nThe convert_purchases function is designed to convert categorical responses about the number\nof purchases made after seeing a product on social media into numeric values"},{"page":309,"sentence":"This conversion\nsimplifies the data for analysis by transforming text-based categories into quantifiable numbers\n[29]: # Estimate overall population mean and variance from the sample\npopulation_mean =df_original[ 'purchased_numeric ']"},{"page":309,"sentence":"mean()\npopulation_variance =df_original[ 'purchased_numeric ']"},{"page":309,"sentence":"var(ddof =1) # Sample ␣\n↪variance (unbiased estimate)\nprint(f\"Estimated Population Mean: {population_mean :"},{"page":309,"sentence":"2f }\")\nprint(f\"Estimated Population Variance: {population_variance :"},{"page":309,"sentence":"2f }\")\nEstimated Population Mean: 0"},{"page":309,"sentence":"65\nEstimated Population Variance: 0"},{"page":309,"sentence":"76\n[30]:N=35000 # Assume total population size\nn=len(df_original)\nSE_corrected =(df_original[ 'purchased_numeric ']"},{"page":309,"sentence":"std(ddof =1)\/np"},{"page":309,"sentence":"sqrt(n)) *np"},{"page":309,"sentence":"↪sqrt((N -n)\/(N-1))\n# 95% Confidence Interval for Population Mean\nz_critical =1"},{"page":309,"sentence":"96 # For 95% CI (normal approximation)\nci_lower =population_mean -z_critical *SE_corrected\n17"},{"page":310,"sentence":"ci_upper =population_mean +z_critical *SE_corrected\nprint(f\"95% CI for Population Mean: ( {ci_lower :"},{"page":310,"sentence":"2f },{ci_upper :"},{"page":310,"sentence":"2f })\")\n95% CI for Population Mean: (0"},{"page":310,"sentence":"50, 0"},{"page":310,"sentence":"81)\nPopulation Parameters Interpretation using SRS\n• Population Mean: The estimated average number of purchases made after seeing products\non social media is 0"},{"page":310,"sentence":"85 per month"},{"page":310,"sentence":"• Population V ariance: The variance of 0"},{"page":310,"sentence":"76 indicates moderate variability in purchasing\nbehavior"},{"page":310,"sentence":"• 95% Confidence Interval: The true population mean is estimated to lie between 0"},{"page":310,"sentence":"50 and\n0"},{"page":310,"sentence":"81 with 95% confidence"},{"page":310,"sentence":"Implication: Social media has a modest but measurable influence on purchasing decisions, with\nmost individuals making 0 to 1 purchase per month influenced by social media"},{"page":310,"sentence":"Using Stratified Sample\n[31]:data=df"},{"page":310,"sentence":"copy()\n# Apply the conversion function to the 'purchased_after_seeing_on_social_media' ␣\n↪column\ndata['purchased_numeric ']=data['purchased_after_seeing_on_social_media ']"},{"page":310,"sentence":"↪apply(convert_purchases)\n# Group data by 'age_group' and 'gender', then calculate mean, variance, and ␣\n↪sample count\ngrouped_data =data"},{"page":310,"sentence":"groupby([ 'age_group ','gender'])['purchased_numeric ']"},{"page":310,"sentence":"↪agg(['mean','var','count'])\nprint(\"\\nStratified Mean and Variance: \")\nprint(grouped_data)\nStratified Mean and Variance:\nmean var count\nage_group gender\n18 - 36 Female 0"},{"page":310,"sentence":"545455 0"},{"page":310,"sentence":"272727 11\nMale 1"},{"page":310,"sentence":"000000 2"},{"page":310,"sentence":"727273 12\n37 - 54 Female 0"},{"page":310,"sentence":"526316 0"},{"page":310,"sentence":"596491 19\nMale 0"},{"page":310,"sentence":"500000 0"},{"page":310,"sentence":"333333 4\nAbove 55 Female 0"},{"page":310,"sentence":"333333 1"},{"page":310,"sentence":"000000 9\nMale 2"},{"page":310,"sentence":"071429 4"},{"page":310,"sentence":"994505 14\nBelow 18 Female 1"},{"page":310,"sentence":"500000 1"},{"page":310,"sentence":"909091 12\nMale 0"},{"page":310,"sentence":"818182 0"},{"page":310,"sentence":"763636 11\n[32]: # Assume total population size\nN=35000\nprint(\"Total Population Size: \", N)\n18"},{"page":311,"sentence":"# Apply FPC adjustment for each stratified group\ngrouped_data[ 'SE_corrected ']=(np"},{"page":311,"sentence":"sqrt(grouped_data[ 'var'])\/np"},{"page":311,"sentence":"↪sqrt(grouped_data[ 'count']))*np"},{"page":311,"sentence":"sqrt((N -grouped_data[ 'count'])\/(N-1))\n# Recalculate Confidence Intervals with FPC\ngrouped_data[ 'ci_lower_fpc ']=grouped_data[ 'mean']-1"},{"page":311,"sentence":"96*␣\n↪grouped_data[ 'SE_corrected ']\ngrouped_data[ 'ci_upper_fpc ']=grouped_data[ 'mean']+1"},{"page":311,"sentence":"96*␣\n↪grouped_data[ 'SE_corrected ']\nprint(\"\\nConfidence Intervals for Each Stratified Group with FPC: \")\nprint(grouped_data[[ 'mean','ci_lower_fpc ','ci_upper_fpc ']])\nTotal Population Size: 35000\nConfidence Intervals for Each Stratified Group with FPC:\nmean ci_lower_fpc ci_upper_fpc\nage_group gender\n18 - 36 Female 0"},{"page":311,"sentence":"545455 0"},{"page":311,"sentence":"236879 0"},{"page":311,"sentence":"854030\nMale 1"},{"page":311,"sentence":"000000 0"},{"page":311,"sentence":"065754 1"},{"page":311,"sentence":"934246\n37 - 54 Female 0"},{"page":311,"sentence":"526316 0"},{"page":311,"sentence":"179124 0"},{"page":311,"sentence":"873508\nMale 0"},{"page":311,"sentence":"500000 -0"},{"page":311,"sentence":"065779 1"},{"page":311,"sentence":"065779\nAbove 55 Female 0"},{"page":311,"sentence":"333333 -0"},{"page":311,"sentence":"319925 0"},{"page":311,"sentence":"986592\nMale 2"},{"page":311,"sentence":"071429 0"},{"page":311,"sentence":"900966 3"},{"page":311,"sentence":"241891\nBelow 18 Female 1"},{"page":311,"sentence":"500000 0"},{"page":311,"sentence":"718353 2"},{"page":311,"sentence":"281647\nMale 0"},{"page":311,"sentence":"818182 0"},{"page":311,"sentence":"301836 1"},{"page":311,"sentence":"334528\n[33]: # Calculate the overall mean\noverall_mean =grouped_data[ \"mean\"]"},{"page":311,"sentence":"mean()\n# Variance of y-bar\nV_y_hat =np"},{"page":311,"sentence":"sum((1-grouped_data[ 'count']\/4375)*(4375\/N)**2*␣\n↪grouped_data[ 'var']\/grouped_data[ 'count'])\n# Standard error of y-bar\nSE_y_hat =np"},{"page":311,"sentence":"sqrt(V_y_hat)\nprint(f\"\\nEstimated mean of purchase frequency (Stratified Proportional ␣\n↪Allocation): {overall_mean :"},{"page":311,"sentence":"2f }\")\nprint(f\"Estimated variance of purchase frequency (Stratified Proportional ␣\n↪Allocation): {V_y_hat :"},{"page":311,"sentence":"2f }\")\nprint(f\"Estimated standard Error of purchase frequency (Stratified Proportional ␣\n↪Allocation): {SE_y_hat :"},{"page":311,"sentence":"2f }\")\nEstimated mean of purchase frequency (Stratified Proportional Allocation): 0"},{"page":311,"sentence":"91\n19"},{"page":312,"sentence":"Estimated variance of purchase frequency (Stratified Proportional Allocation):\n0"},{"page":312,"sentence":"02\nEstimated standard Error of purchase frequency (Stratified Proportional\nAllocation): 0"},{"page":312,"sentence":"13\nStratified Group Analysis:\n18 - 36: - F emales: On average, females in this group purchase about half a product per month\nafter seeing it on social media"},{"page":312,"sentence":"This suggests 1 purchase every 2 months"},{"page":312,"sentence":"- Males: Males in this\ngroup purchase 1 product per month on average, indicating they are twice as likely as females to\nmake a purchase influenced by social media"},{"page":312,"sentence":"37 - 54: - F emales: F emales in this group purchase about half a product per month, similar to\nyounger females, suggesting consistent behavior across age groups"},{"page":312,"sentence":"- Males: Males in this group also\npurchase about half a product per month, showing no significant difference compared to females in\nthe same age group"},{"page":312,"sentence":"Above 55: - F emales: F emales in this group purchase about one-third of a product per month,\nindicating 1 purchase every 3 months"},{"page":312,"sentence":"This suggests lower engagement with social media-driven\npurchases"},{"page":312,"sentence":"- Males: Males in this group purchase 2 products per month on average, making them\nthe most influenced demographic"},{"page":312,"sentence":"This could indicate higher trust in social media ads or greater\ndisposable income"},{"page":312,"sentence":"Below 18: - F emales: F emales in this group purchase 1"},{"page":312,"sentence":"5 products per month, the highest among\nall female groups"},{"page":312,"sentence":"This suggests younger females are highly influenced by social media trends"},{"page":312,"sentence":"-\nMales: Males in this group purchase 0"},{"page":312,"sentence":"8 products per month, indicating 1 purchase every 1"},{"page":312,"sentence":"25\nmonths"},{"page":312,"sentence":"While lower than females in the same group, they are still more influenced than older\nmales"},{"page":312,"sentence":"Confidence Intervals: The 95% confidence intervals for each group indicate the range within\nwhich the true mean likely falls"},{"page":312,"sentence":"F or example, males Above 55 have a mean between 0"},{"page":312,"sentence":"90 and 3"},{"page":312,"sentence":"24\npurchases, showing significant variability"},{"page":312,"sentence":"Overall Population Estimates: - Mean Purchase F requency: 0"},{"page":312,"sentence":"91 purchases per month"},{"page":312,"sentence":"- V ari-\nance: 0"},{"page":312,"sentence":"02, indicating low variability in the overall population"},{"page":312,"sentence":"- Standard Error: 0"},{"page":312,"sentence":"13, suggesting\nhigh precision in the estimate"},{"page":312,"sentence":"1"},{"page":312,"sentence":"7"},{"page":312,"sentence":"2 2"},{"page":312,"sentence":"Impact of Social Media Usage, Age Group, and Platform on Unplanned\nPurchases\nIn this analysis, we aim to explore the impact of social media usage ,age group , and platform\non the likelihood of making unplanned purchases"},{"page":312,"sentence":"Specifically , we want to understand how these\nfactors influence consumer behavior in terms of impulsive buying decisions"},{"page":312,"sentence":"The dependent variable in this study is unplanned purchases after seeing a product on social\nmedia , which is an ordinal variable with categories such as - “Never” - “Rarely” - “Occasionally”\n- “F requently” - “Always”\nThe primary predictors include:\n• Social Media Usage (measured in hours per day: \"Less than 1 hour\" ,\"1–3 hours\" ,\n\"4–6 hours\" ,\"7–9 hours\" ,\"10+ hours\" )\n• Age Group (e"},{"page":312,"sentence":"g"},{"page":312,"sentence":",\"18–36\" ,\"37–54\" ,\"Above 55\" )\n20"},{"page":313,"sentence":"• Platform (how often ads are seen: \"Instagram\" ,\"Youtube\" ,\"Twitter\" , etc"},{"page":313,"sentence":")\nThe goal is to determine whether social media usage ,age group , and platform have a significant\neffect on the likelihood of making unplanned purchases after seeing a product on social media"},{"page":313,"sentence":"By\nunderstanding these relationships, we can provide insights into how social media usage and other\ndemographic factors drive impulsive purchasing behavior"},{"page":313,"sentence":"Likelihood Ratio T est T o assess the significance of the predictors, we will perform a Like-\nlihood Ratio T est (LR T) to compare the reduced and full models"},{"page":313,"sentence":"The test will evaluate if\naddingsocial_media_usage ,age_group , andmost_frequent_platform significantly improves\nthe model’s fit"},{"page":313,"sentence":"• L0: Log-likelihood of the reduced model (without the predictors)"},{"page":313,"sentence":"• L1: Log-likelihood of the full model (with the predictors)"},{"page":313,"sentence":"The LR T will help us determine whether the addition of these factors significantly improves the\nmodel’s ability to explain unplanned purchases"},{"page":313,"sentence":"Hypothesis 1\n• Null Hypothesis (H0) :\nThere is no significant relationship between social media usage and unplanned purchases\nafter seeing products on social media"},{"page":313,"sentence":"• Alternative Hypothesis (H1) :\nSocial media usage significantly influences unplanned purchases after seeing products on social\nmedia"},{"page":313,"sentence":"[34]:df_1=df"},{"page":313,"sentence":"copy()\n# Select relevant columns\ndf_1=df_1[['social_media_hours_per_day ',␣\n↪'unplanned_purchases_after_social_media ']]\n# Convert categorical variables to ordered numeric values\nsocial_media_mapping ={\n\"Less than 1 hour \":0,\n\"1 - 4 hours \":1,\n\"4 - 7 hours \":2,\n\"More than 7 hours \":3\n}\npurchases_mapping ={\n\"Never\":1,\n\"Rarely\":2,\n\"Occasionally \":3,\n\"Frequently \":4,\n\"Always\":5\n}\n21"},{"page":314,"sentence":"df_1['social_media_hours_per_day ']=df_1['social_media_hours_per_day ']"},{"page":314,"sentence":"↪map(social_media_mapping)\ndf_1['unplanned_purchases_after_social_media ']=␣\n↪df_1['unplanned_purchases_after_social_media ']"},{"page":314,"sentence":"map(purchases_mapping)\n# Drop NaN values\ndf_1"},{"page":314,"sentence":"dropna(inplace =True)\n[35]: # Fit the reduced model (without social media usage)\nreduced_model =smf"},{"page":314,"sentence":"mnlogit( \"unplanned_purchases_after_social_media ~ 1 \",␣\n↪data=df_1)"},{"page":314,"sentence":"fit()\n# Fit the full model (with social media usage)\nfull_model =smf"},{"page":314,"sentence":"mnlogit( \"unplanned_purchases_after_social_media ~ ␣\n↪social_media_hours_per_day \", data=df_1)"},{"page":314,"sentence":"fit()\n# Likelihood Ratio Test\nL0=reduced_model"},{"page":314,"sentence":"llf\nL1=full_model"},{"page":314,"sentence":"llf\nD=-2*(L0-L1) # LRT statistic\ndf_diff =full_model"},{"page":314,"sentence":"df_model -reduced_model"},{"page":314,"sentence":"df_model # Degrees of freedom ␣\n↪difference\np_value =chi2"},{"page":314,"sentence":"sf(D, df_diff)\nOptimization terminated successfully"},{"page":314,"sentence":"Current function value: 1"},{"page":314,"sentence":"090785\nIterations 7\nOptimization terminated successfully"},{"page":314,"sentence":"Current function value: 0"},{"page":314,"sentence":"953934\nIterations 8\n[36]:print(f\"LRT Statistic: {D:"},{"page":314,"sentence":"4f }\")\nprint(f\"Degrees of Freedom: {df_diff }\")\nprint(f\"p-value: {p_value :"},{"page":314,"sentence":"4f }\")\nifp_value <0"},{"page":314,"sentence":"05:\nprint(\"Reject the null hypothesis: Social media usage frequency ␣\n↪significantly affects unplanned purchases"},{"page":314,"sentence":"\")\nelse:\nprint(\"Fail to reject the null hypothesis: No significant effect of social ␣\n↪media usage frequency on unplanned purchases"},{"page":314,"sentence":"\")\nLRT Statistic: 25"},{"page":314,"sentence":"1805\nDegrees of Freedom: 3"},{"page":314,"sentence":"0\np-value: 0"},{"page":314,"sentence":"0000\nReject the null hypothesis: Social media usage frequency significantly affects\n22"},{"page":315,"sentence":"unplanned purchases"},{"page":315,"sentence":"The Likelihood Ratio T est (LR T) statistic is 25"},{"page":315,"sentence":"1805 with 3 degrees of freedom , and the\nresulting p-value is 0"},{"page":315,"sentence":"0000"},{"page":315,"sentence":"Since the p-value is significantly lower than the common significance\nlevel of 0"},{"page":315,"sentence":"05, we reject the null hypothesis"},{"page":315,"sentence":"Conclusion : Social media usage frequency significantly affects unplanned purchases after seeing\nproducts on social media"},{"page":315,"sentence":"Hypothesis 2\n• Null Hypothesis (H0) :\nThere is no significant relationship between age group and unplanned purchases after seeing\nproducts on social media"},{"page":315,"sentence":"• Alternative Hypothesis (H1) :\nAge group significantly influences unplanned purchases after seeing products on social media"},{"page":315,"sentence":"[37]:df_2=df"},{"page":315,"sentence":"copy()\n# Encode age_group as a categorical variable\nage_group_mapping ={\n\"Below 18 \":0,\n\"18 - 36\":1,\n\"37 - 54\":2,\n\"Above 55 \":3\n}\ndf_2['age_group ']=df_2['age_group ']"},{"page":315,"sentence":"map(age_group_mapping)\n# Check unique values for unplanned_purchases_after_social_media to ensure it's ␣\n↪categorical\nprint(df_2['unplanned_purchases_after_social_media ']"},{"page":315,"sentence":"unique())\n# Convert unplanned_purchases_after_social_media to numeric values if needed\npurchases_mapping ={\n\"Never\":1,\n\"Rarely\":2,\n\"Occasionally \":3,\n\"Frequently \":4,\n\"Always\":5\n}\ndf_2['unplanned_purchases_after_social_media ']=␣\n↪df_2['unplanned_purchases_after_social_media ']"},{"page":315,"sentence":"map(purchases_mapping)\ndf_2"},{"page":315,"sentence":"dropna(inplace =True)\n['Never' 'Rarely' 'Occasionally' 'Frequently']\n23"},{"page":316,"sentence":"[38]: # Fit the reduced model (without age_group)\nreduced_model =smf"},{"page":316,"sentence":"mnlogit( \"unplanned_purchases_after_social_media ~ 1 \",␣\n↪data=df_2)"},{"page":316,"sentence":"fit()\n# Fit the full model (with age_group)\nfull_model =smf"},{"page":316,"sentence":"mnlogit( \"unplanned_purchases_after_social_media ~ age_group \",␣\n↪data=df_2)"},{"page":316,"sentence":"fit()\n# Likelihood Ratio Test\nL0=reduced_model"},{"page":316,"sentence":"llf\nL1=full_model"},{"page":316,"sentence":"llf\nD=-2*(L0-L1)\ndf_diff =full_model"},{"page":316,"sentence":"df_model -reduced_model"},{"page":316,"sentence":"df_model\np_value =chi2"},{"page":316,"sentence":"sf(D, df_diff)\nOptimization terminated successfully"},{"page":316,"sentence":"Current function value: 1"},{"page":316,"sentence":"090785\nIterations 7\nWarning: Maximum number of iterations has been exceeded"},{"page":316,"sentence":"Current function value: 1"},{"page":316,"sentence":"018325\nIterations: 35\n[39]:print(f\"LRT Statistic: {D:"},{"page":316,"sentence":"4f }\")\nprint(f\"Degrees of Freedom: {df_diff }\")\nprint(f\"p-value: {p_value :"},{"page":316,"sentence":"4f }\")\nifp_value <0"},{"page":316,"sentence":"05:\nprint(\"Reject the null hypothesis: Age group significantly affects ␣\n↪unplanned purchases"},{"page":316,"sentence":"\")\nelse:\nprint(\"Fail to reject the null hypothesis: No significant effect of age ␣\n↪group on unplanned purchases"},{"page":316,"sentence":"\")\nLRT Statistic: 13"},{"page":316,"sentence":"3326\nDegrees of Freedom: 3"},{"page":316,"sentence":"0\np-value: 0"},{"page":316,"sentence":"0040\nReject the null hypothesis: Age group significantly affects unplanned purchases"},{"page":316,"sentence":"The Likelihood Ratio T est (LR T) statistic is 13"},{"page":316,"sentence":"3326 with 3 degrees of freedom , and the\nresulting p-value is 0"},{"page":316,"sentence":"0040"},{"page":316,"sentence":"Since the p-value is less than the common significance level of 0"},{"page":316,"sentence":"05,\nwe reject the null hypothesis"},{"page":316,"sentence":"Conclusion: Age group significantly affects unplanned purchases after seeing products on social\nmedia"},{"page":316,"sentence":"Hypothesis 3\n24"},{"page":317,"sentence":"• Null Hypothesis (H0) :\nThere is no significant relationship between most_frequent_platform and unplanned pur-\nchases after seeing products on social media"},{"page":317,"sentence":"• Alternative Hypothesis (H1) :\nMost F requent Platform frequency significantly influences unplanned purchases after seeing\nproducts on social media"},{"page":317,"sentence":"[40]:df['most_frequent_platform ']"},{"page":317,"sentence":"value_counts()\n[40]:most_frequent_platform\nyoutube 34\ninstagram 34\nfacebook 12\nsnapchat 3\ntwitter 3\nlinkedin 2\nreddit 1\nwhatsapp 1\ntiktok 1\nsnapchat 1\nName: count, dtype: int64\nCombine platforms with very few observations into a single category (e"},{"page":317,"sentence":"g"},{"page":317,"sentence":", Other)"},{"page":317,"sentence":"[41]:df_3=df"},{"page":317,"sentence":"copy()\nplatform_counts =df_3['most_frequent_platform ']"},{"page":317,"sentence":"value_counts()\nrare_platforms =platform_counts[platform_counts <5]"},{"page":317,"sentence":"index # Platforms with ␣\n↪fewer than 5 observations\ndf_3['most_frequent_platform ']=df_3['most_frequent_platform ']"},{"page":317,"sentence":"↪replace(rare_platforms, 'Other')\nprint(df_3['most_frequent_platform ']"},{"page":317,"sentence":"value_counts())\nmost_frequent_platform\nyoutube 34\ninstagram 34\nfacebook 12\nOther 12\nName: count, dtype: int64\nConvert the platform names into numerical codes for modeling"},{"page":317,"sentence":"[42]:platform_mapping ={\n\"instagram \":0,\n\"youtube\":1,\n\"facebook \":2,\n\"Other\":3\n}\n25"},{"page":318,"sentence":"df_3['most_frequent_platform ']=df_3['most_frequent_platform ']"},{"page":318,"sentence":"↪map(platform_mapping)\nprint(df_3['most_frequent_platform ']"},{"page":318,"sentence":"value_counts())\nmost_frequent_platform\n1 34\n0 34\n2 12\n3 12\nName: count, dtype: int64\n[43]:purchases_mapping ={\n\"Never\":1,\n\"Rarely\":2,\n\"Occasionally \":3,\n\"Frequently \":4,\n\"Always\":5\n}\ndf_3['unplanned_purchases_after_social_media ']=␣\n↪df_3['unplanned_purchases_after_social_media ']"},{"page":318,"sentence":"map(purchases_mapping)\nprint(df_3['unplanned_purchases_after_social_media ']"},{"page":318,"sentence":"value_counts())\ndf_3"},{"page":318,"sentence":"dropna(inplace =True)\nunplanned_purchases_after_social_media\n2 49\n1 26\n3 14\n4 3\nName: count, dtype: int64\n[44]:reduced_model =smf"},{"page":318,"sentence":"mnlogit( \"unplanned_purchases_after_social_media ~ 1 \",␣\n↪data=df_3)"},{"page":318,"sentence":"fit()\nfull_model =smf"},{"page":318,"sentence":"mnlogit( \"unplanned_purchases_after_social_media ~ ␣\n↪most_frequent_platform \", data=df_3)"},{"page":318,"sentence":"fit(\nmaxiter=500, method ='bfgs'\n)\nL0=reduced_model"},{"page":318,"sentence":"llf\nL1=full_model"},{"page":318,"sentence":"llf\nD=-2*(L0-L1)\ndf_diff =full_model"},{"page":318,"sentence":"df_model -reduced_model"},{"page":318,"sentence":"df_model\np_value =chi2"},{"page":318,"sentence":"sf(D, df_diff)\nprint(f\"Likelihood Ratio Test Statistic: {D:"},{"page":318,"sentence":"4f }\")\nprint(f\"p-value: {p_value :"},{"page":318,"sentence":"4f }\")\n26"},{"page":319,"sentence":"ifp_value <0"},{"page":319,"sentence":"05:\nprint(\"Reject the null hypothesis: Platform significantly affects unplanned ␣\n↪purchases"},{"page":319,"sentence":"\")\nelse:\nprint(\"Fail to reject the null hypothesis: No significant effect of ␣\n↪platform on unplanned purchases"},{"page":319,"sentence":"\")\nOptimization terminated successfully"},{"page":319,"sentence":"Current function value: 1"},{"page":319,"sentence":"090785\nIterations 7\nOptimization terminated successfully"},{"page":319,"sentence":"Current function value: 0"},{"page":319,"sentence":"985016\nIterations: 44\nFunction evaluations: 45\nGradient evaluations: 45\nLikelihood Ratio Test Statistic: 19"},{"page":319,"sentence":"4614\np-value: 0"},{"page":319,"sentence":"0002\nReject the null hypothesis: Platform significantly affects unplanned purchases"},{"page":319,"sentence":"The Likelihood Ratio T est (LR T) statistic is 19"},{"page":319,"sentence":"4614 with 3 degrees of freedom , and the\nresulting p-value is 0"},{"page":319,"sentence":"0002"},{"page":319,"sentence":"Since the p-value is significantly less than the common significance\nlevel of 0"},{"page":319,"sentence":"05, we reject the null hypothesis"},{"page":319,"sentence":"Conclusion: The most frequent platform used significantly affects unplanned purchases after\nseeing products on social media"},{"page":319,"sentence":"1"},{"page":319,"sentence":"7"},{"page":319,"sentence":"3 3"},{"page":319,"sentence":"Predicting consumer spending using social media factors\nIn this analysis, we aim to predict consumer spending behavior using various social media-related\nfactors"},{"page":319,"sentence":"The target variable for prediction is whether social media increases spending, denoted as\nsocial_media_increases_spending"},{"page":319,"sentence":"The key predictor variables include:\n• content_type_influences_purchasing : Indicates the impact of different content types\non purchasing decisions"},{"page":319,"sentence":"• limited_time_offer_purchases : Reflects the frequency of consumer purchases driven by\nlimited-time offers encountered on social media"},{"page":319,"sentence":"• comparison_factor : Represents the factors that influence the decision-making process\nwhen comparing products or services on social media"},{"page":319,"sentence":"• peer_influence_on_purchasing : Measures how peer influence (e"},{"page":319,"sentence":"g"},{"page":319,"sentence":", recommendations or\nshared purchases) impacts purchasing decisions"},{"page":319,"sentence":"• trustworthiness_of_social_media_ads : Assesses consumer trust in advertisements en-\ncountered on social media platforms"},{"page":319,"sentence":"Data Preparation T o prepare the data for training our predictive model, we employed One-\nHot Encoding on the categorical predictor variables"},{"page":319,"sentence":"This transformation converts categori-\ncal features into a numerical format that is suitable for use in regression models"},{"page":319,"sentence":"Specifically ,\nthepd"},{"page":319,"sentence":"get_dummies() function was used with the drop_first=True argument to avoid multi-\n27"},{"page":320,"sentence":"collinearity —which occurs when there are redundant features that could distort model perfor-\nmance"},{"page":320,"sentence":"By applying One-Hot Encoding, each categorical variable is expanded into multiple binary (0 or\n1) columns, representing the different categories"},{"page":320,"sentence":"This ensures that our model can learn from each\nindividual factor without introducing unnecessary redundancy"},{"page":320,"sentence":"Model 1: Linear Regression T o begin our analysis, we tested a Linear Regression\nmodel to explore the relationship between the predictor variables and the target variable\n(social_media_increases_spending )"},{"page":320,"sentence":"The Linear Regression model was selected due to its sim-\nplicity and effectiveness in identifying linear relationships between the features and the target"},{"page":320,"sentence":"[45]:X=df[['content_type_influences_purchasing ',\n'limited_time_offer_purchases ',\n'comparison_factor ',\n'peer_influence_on_purchasing ',\n'trustworthiness_of_social_media_ads ']]\ny=df['social_media_increases_spending ']\nX_encoded =pd"},{"page":320,"sentence":"get_dummies(X, drop_first =True)\nX_train, X_test, y_train, y_test =train_test_split(X_encoded, y, test_size =0"},{"page":320,"sentence":"↪2, random_state =42)\nmodel=LinearRegression()\nmodel"},{"page":320,"sentence":"fit(X_train, y_train)\ny_pred=model"},{"page":320,"sentence":"predict(X_test)\nprint(\"R2 score: \", r2_score(y_test, y_pred))\nprint(\"Mean Squared Error: \", mean_squared_error(y_test, y_pred))\nR2 score: 0"},{"page":320,"sentence":"5495285069904818\nMean Squared Error: 0"},{"page":320,"sentence":"5839907444001511\nModel Performance The performance of the Linear Regression model was evaluated using the\nfollowing metrics:\n• R2 Score : 0"},{"page":320,"sentence":"5495\nThe R2 score indicates that approximately 54"},{"page":320,"sentence":"95% of the variance in the target variable\n(social_media_increases_spending ) can be explained by the predictor variables"},{"page":320,"sentence":"This\nsuggests a moderate fit, with room for improvement by exploring more complex models or\nadditional features"},{"page":320,"sentence":"• Mean Squared Error (MSE) : 0"},{"page":320,"sentence":"584\nThe MSE quantifies the average squared difference between the predicted values and the actual\nvalues"},{"page":320,"sentence":"A lower MSE indicates a better fit, and this value of 0"},{"page":320,"sentence":"584 provides an indication of\nthe model’s prediction accuracy"},{"page":320,"sentence":"While not perfect, it suggests that the model is rea\n28"},{"page":321,"sentence":"Cross-V alidation of the Linear Regression Model T o assess the stability and generalization\nperformance of the Linear Regression model, we performed cross-validation"},{"page":321,"sentence":"Cross-validation\ninvolves splitting the dataset into multiple subsets (or folds) and training the model on different\ncombinations of these subsets"},{"page":321,"sentence":"This helps ensure that the model’s performance is not overly reliant\non any specific subset of the data, providing a more robust estimate of its predictive ability"},{"page":321,"sentence":"By performing cross-validation, we can:\n• Evaluate the consistency of the model’s performance across different data splits"},{"page":321,"sentence":"• Identify any potential issues such as overfitting or underfitting"},{"page":321,"sentence":"• Ensure that the model generalizes well to unseen data, making it more reliable for real-world\npredictions"},{"page":321,"sentence":"This step helps to verify the model’s stability and provides a more comprehensive assessment of its\npredictive power beyond the initial evaluation metrics"},{"page":321,"sentence":"[46]:cv_scores_linear =cross_val_score(model, X_encoded, y, cv =5, scoring ='r2')\nprint(\"R2 scores for each fold: \", cv_scores_linear)\nprint(f\"Average R2 from cross-validation: {np"},{"page":321,"sentence":"mean(cv_scores_linear) :"},{"page":321,"sentence":"4f }\")\nR2 scores for each fold: [ 0"},{"page":321,"sentence":"50474292 -0"},{"page":321,"sentence":"00891203 0"},{"page":321,"sentence":"64863617 0"},{"page":321,"sentence":"48683517\n0"},{"page":321,"sentence":"41121492]\nAverage R2 from cross-validation: 0"},{"page":321,"sentence":"4085\nCross-V alidation Results The average R2 score from cross-validation was 0"},{"page":321,"sentence":"4085 , which\nis lower than the initial training R2 score of 0"},{"page":321,"sentence":"5495"},{"page":321,"sentence":"This difference suggests that the model’s\nperformance is not consistent across all subsets of the data, indicating variability in its ability to\npredict the target variable"},{"page":321,"sentence":"A lower R2 score in cross-validation can imply that the model may be overfitting to the training\ndata, capturing noise or specific patterns that don’t generalize well to unseen data"},{"page":321,"sentence":"This variability\nhighlights the need for further model refinement, such as feature engineering, or exploring more\ncomplex algorithms to improve generalization and stability"},{"page":321,"sentence":"Model 2: Decision T ree Regressor In the next phase of our analysis, we tested a Decision\nT ree Regressor"},{"page":321,"sentence":"Unlike Linear Regression, the Decision T ree Regressor is a non-linear model\nthat is capable of capturing more complex relationships between the predictor variables and the\ntarget variable ( social_media_increases_spending )"},{"page":321,"sentence":"This model works by splitting the data into\nsubsets based on the feature values, allowing it to model non-linear patterns more effectively"},{"page":321,"sentence":"[47]:dt_model =DecisionTreeRegressor(random_state =42)\ndt_model"},{"page":321,"sentence":"fit(X_train, y_train)\ny_pred=dt_model"},{"page":321,"sentence":"predict(X_test)\nprint(\"R2 score: \", r2_score(y_test, y_pred))\nprint(\"Mean Squared Error: \", mean_squared_error(y_test, y_pred))\nR2 score: 0"},{"page":321,"sentence":"3504273504273505\nMean Squared Error: 0"},{"page":321,"sentence":"8421052631578947\n29"},{"page":322,"sentence":"Model Performance The performance of the Decision T ree Regressor was evaluated using the\nfollowing metrics:\n• R2 Score : 0"},{"page":322,"sentence":"3504\nThe R² score indicates that only about 35"},{"page":322,"sentence":"04% of the variance in the target variable can be\nexplained by the predictor variables"},{"page":322,"sentence":"This is a relatively low value, suggesting that the model\nis not capturing as much of the underlying variance in the data as expected"},{"page":322,"sentence":"• Mean Squared Error (MSE) : 0"},{"page":322,"sentence":"8421\nThe MSE is higher than the value from the Linear Regression model (0"},{"page":322,"sentence":"584), which indicates\nthat the Decision T ree Regressor is making larger errors in its predictions"},{"page":322,"sentence":"This suggests that\nthe model may be overfitting to certain patterns in the training data or not generalizing well\nto the validation data"},{"page":322,"sentence":"Despite being able to model non-linear relationships, the Decision T ree Regressor performed less\neffectively than the Linear Regression model in this case"},{"page":322,"sentence":"F urther tuning of hyperparameters or\nexploring other models may improve its performance"},{"page":322,"sentence":"W e also performed cross-validation on the decision tree model"},{"page":322,"sentence":"[48]:cv_scores_dt =cross_val_score(dt_model, X_encoded, y, cv =5, scoring ='r2')\nprint(\"R2 scores for each fold: \", cv_scores_dt)\nprint(f\"Average R2 from cross-validation: {np"},{"page":322,"sentence":"mean(cv_scores_dt) :"},{"page":322,"sentence":"4f }\")\nR2 scores for each fold: [-0"},{"page":322,"sentence":"16634273 0"},{"page":322,"sentence":"08604336 0"},{"page":322,"sentence":"41135972 0"},{"page":322,"sentence":"55555556\n0"},{"page":322,"sentence":"55371901]\nAverage R2 from cross-validation: 0"},{"page":322,"sentence":"2881\nModel Comparison and Insights Upon comparing the two models, the Linear Regression\nmodel proved to be more effective at predicting consumer spending based on social media fac-\ntors"},{"page":322,"sentence":"Despite its moderate performance, with an R2 score of 0"},{"page":322,"sentence":"5495 on the training set, it still\noutperformed the Decision T ree model"},{"page":322,"sentence":"However, when tested with cross-validation, the model’s\nperformance showed variability , indicating that it could benefit from further improvements in terms\nof generalization and stability"},{"page":322,"sentence":"On the other hand, the Decision T ree Regressor performed worse than the Linear Regression\nmodel, with an R2 score of 0"},{"page":322,"sentence":"3504 and a higher Mean Squared Error (MSE) of 0"},{"page":322,"sentence":"8421"},{"page":322,"sentence":"This suggests\nthat the Decision T ree model was not well-suited for capturing the patterns in this particular\ndataset"},{"page":322,"sentence":"It may have struggled to generalize well or could have been overfitting the data, leading\nto subpar predictive performance"},{"page":322,"sentence":"In summary , while the Linear Regression model offered a better baseline, both models highlight the\nneed for further refinement, such as hyperparameter tuning or exploring more advanced models, to\nimprove prediction accuracy and generalization"},{"page":322,"sentence":"1"},{"page":322,"sentence":"7"},{"page":322,"sentence":"4 4"},{"page":322,"sentence":"Are influencer promotions more effective than brand advertisements in in-\nfluencing purchases?\nThe purpose of this analysis is to determine whether influencer promotions are more effective than\nbrand advertisements in influencing purchase behavior"},{"page":322,"sentence":"This involves examining the impact of\n30"},{"page":323,"sentence":"various predictors, such as advertisements, peer reviews, influencer posts, detailed unsponsored\nreviews, brand posts, and discounts, on the frequency of purchases"},{"page":323,"sentence":"By analyzing the correlation\nmatrix, OLS regression results, and decision tree model, the study aims to identify the key factors\nthat drive consumer purchases and compare the effectiveness of different marketing strategies"},{"page":323,"sentence":"This information can help marketers optimize their campaigns, improve engagement, and increase\nconversion rates by leveraging the most influential content types"},{"page":323,"sentence":"Data Pre-Processing\n• Thecontent_type_influences_purchasing column was split into binary columns (0 or 1)\nfor each content type"},{"page":323,"sentence":"Correlation Matrix of Key V ariables\n• Purchase F requency is negatively correlated with Advertisements (-0"},{"page":323,"sentence":"40) and Brand\nPosts (-0"},{"page":323,"sentence":"15)"},{"page":323,"sentence":"• Peer Reviews have a positive correlation with Purchase F requency (0"},{"page":323,"sentence":"20)"},{"page":323,"sentence":"• Influencer Posts show a moderate positive correlation with Purchase F requency (0"},{"page":323,"sentence":"31)"},{"page":323,"sentence":"• Detailed Unsponsored Reviews and Discounts have weaker correlations"},{"page":323,"sentence":"[49]: import statsmodels"},{"page":323,"sentence":"api as sm\nfrom sklearn"},{"page":323,"sentence":"linear_model importLinearRegression\nfrom sklearn"},{"page":323,"sentence":"model_selection importtrain_test_split, cross_val_score\nfrom sklearn"},{"page":323,"sentence":"metrics importmean_squared_error, r2_score\n# Assuming df is your DataFrame\n# Define the content types\ncontent_types =['Advertisements ','Peer reviews ','Influencer Posts ',␣\n↪'Detailed unsponsored reviews ','Brand posts ','Discount ']\n# Split and expand the content types into multiple columns\nforcontent incontent_types:\ndf[content] =df['content_type_influences_purchasing ']"},{"page":323,"sentence":"apply( lambdax:1 if␣\n↪content inx else0)\npurchase_mapping ={\n\"0\":0,\n\"1-2\":1,\n\"3-5\":2,\n\"More than 5 \":3\n}\ndf[\"Purchase Frequency \"]=df[\"purchased_after_seeing_on_social_media \"]"},{"page":323,"sentence":"↪map(purchase_mapping)\ndf=df"},{"page":323,"sentence":"dropna(subset =['Purchase Frequency '])\n# Compute and plot the correlation matrix\n31"},{"page":324,"sentence":"correlation_matrix =df[[\"Purchase Frequency \",\"Advertisements \",\"Peer reviews \",\n\"Influencer Posts \",\"Detailed unsponsored reviews \",␣\n↪\"Brand posts \",\"Discount \"]]"},{"page":324,"sentence":"corr()\nplt"},{"page":324,"sentence":"figure(figsize =(8,6))\nsns"},{"page":324,"sentence":"heatmap(correlation_matrix, annot =True, cmap=\"coolwarm \", fmt=\""},{"page":324,"sentence":"2f\",␣\n↪linewidths =0"},{"page":324,"sentence":"5)\nplt"},{"page":324,"sentence":"title(\"Correlation Matrix of Key Variables \")\nplt"},{"page":324,"sentence":"show()\n1"},{"page":324,"sentence":"7"},{"page":324,"sentence":"5 OLS Regression Analysis\n[50]: # Define independent and dependent variables for regression\nX=df[[\"Advertisements \",\"Peer reviews \",\n\"Influencer Posts \",\"Detailed unsponsored reviews \",\"Brand posts \",␣\n↪\"Discount \"]]\n32"},{"page":325,"sentence":"y=df[\"Purchase Frequency \"]\nX=sm"},{"page":325,"sentence":"add_constant(X)\n# Split the data into training and testing sets\nX_train, X_test, y_train, y_test =train_test_split(X, y, test_size =0"},{"page":325,"sentence":"2,␣\n↪random_state =42)\n# Initialize and train the OLS model\nmodel=sm"},{"page":325,"sentence":"OLS(y_train, X_train)"},{"page":325,"sentence":"fit()\n# Display OLS regression summary\nprint(model"},{"page":325,"sentence":"summary())\nOLS Regression Results\n==============================================================================\nDep"},{"page":325,"sentence":"Variable: Purchase Frequency R-squared: 0"},{"page":325,"sentence":"266\nModel: OLS Adj"},{"page":325,"sentence":"R-squared: 0"},{"page":325,"sentence":"196\nMethod: Least Squares F-statistic: 3"},{"page":325,"sentence":"802\nDate: Wed, 19 Feb 2025 Prob (F-statistic): 0"},{"page":325,"sentence":"00270\nTime: 20:54:57 Log-Likelihood: -57"},{"page":325,"sentence":"426\nNo"},{"page":325,"sentence":"Observations: 70 AIC: 128"},{"page":325,"sentence":"9\nDf Residuals: 63 BIC: 144"},{"page":325,"sentence":"6\nDf Model: 6\nCovariance Type: nonrobust\n================================================================================\n================\ncoef std err tP>|t|\n[0"},{"page":325,"sentence":"025 0"},{"page":325,"sentence":"975]\n--------------------------------------------------------------------------------\n----------------\nconst 0"},{"page":325,"sentence":"8246 0"},{"page":325,"sentence":"118 6"},{"page":325,"sentence":"959 0"},{"page":325,"sentence":"000\n0"},{"page":325,"sentence":"588 1"},{"page":325,"sentence":"061\nAdvertisements -0"},{"page":325,"sentence":"5018 0"},{"page":325,"sentence":"147 -3"},{"page":325,"sentence":"417 0"},{"page":325,"sentence":"001\n-0"},{"page":325,"sentence":"795 -0"},{"page":325,"sentence":"208\nPeer reviews 1"},{"page":325,"sentence":"1754 0"},{"page":325,"sentence":"591 1"},{"page":325,"sentence":"988 0"},{"page":325,"sentence":"051\n-0"},{"page":325,"sentence":"006 2"},{"page":325,"sentence":"357\nInfluencer Posts 0"},{"page":325,"sentence":"1404 0"},{"page":325,"sentence":"178 0"},{"page":325,"sentence":"788 0"},{"page":325,"sentence":"434\n-0"},{"page":325,"sentence":"215 0"},{"page":325,"sentence":"496\nDetailed unsponsored reviews -0"},{"page":325,"sentence":"8246 0"},{"page":325,"sentence":"591 -1"},{"page":325,"sentence":"394 0"},{"page":325,"sentence":"168\n-2"},{"page":325,"sentence":"006 0"},{"page":325,"sentence":"357\nBrand posts -0"},{"page":325,"sentence":"8246 0"},{"page":325,"sentence":"591 -1"},{"page":325,"sentence":"394 0"},{"page":325,"sentence":"168\n-2"},{"page":325,"sentence":"006 0"},{"page":325,"sentence":"357\nDiscount 0"},{"page":325,"sentence":"1754 0"},{"page":325,"sentence":"426 0"},{"page":325,"sentence":"411 0"},{"page":325,"sentence":"682\n-0"},{"page":325,"sentence":"677 1"},{"page":325,"sentence":"028\n==============================================================================\nOmnibus: 4"},{"page":325,"sentence":"273 Durbin-Watson: 2"},{"page":325,"sentence":"444\nProb(Omnibus): 0"},{"page":325,"sentence":"118 Jarque-Bera (JB): 3"},{"page":325,"sentence":"682\nSkew: 0"},{"page":325,"sentence":"556 Prob(JB): 0"},{"page":325,"sentence":"159\n33"},{"page":326,"sentence":"Kurtosis: 3"},{"page":326,"sentence":"157 Cond"},{"page":326,"sentence":"No"},{"page":326,"sentence":"10"},{"page":326,"sentence":"4\n==============================================================================\nNotes:\n[1] Standard Errors assume that the covariance matrix of the errors is correctly\nspecified"},{"page":326,"sentence":"• R-squared : 0"},{"page":326,"sentence":"266 (26"},{"page":326,"sentence":"6% of the variance in Purchase F requency can be explained by the\npredictors)"},{"page":326,"sentence":"• Advertisements have a statistically significant negative impact on Purchase F requency (coef\n= -0"},{"page":326,"sentence":"5019, p < 0"},{"page":326,"sentence":"01)"},{"page":326,"sentence":"• Peer Reviews show a positive but marginally significant impact (coef = 1"},{"page":326,"sentence":"1754, p = 0"},{"page":326,"sentence":"051)"},{"page":326,"sentence":"• Influencer Posts ,Detailed Unsponsored Reviews ,Brand Posts , and Discounts are\nnot statistically significant"},{"page":326,"sentence":"[51]: # Make predictions on the test set\ny_pred=model"},{"page":326,"sentence":"predict(X_test)\n# Perform cross-validation\ncv_scores =cross_val_score(LinearRegression(), X, y, cv =5, scoring ='r2')\ncv_mean_score =cv_scores"},{"page":326,"sentence":"mean()\nprint(f\"R² using cross-validation: {cv_mean_score }\")\n# Evaluate the model\nmse=mean_squared_error(y_test, y_pred)\nr2=r2_score(y_test, y_pred)\nprint(f\"Mean Squared Error on Test Set: {mse }\")\nprint(f\"R² on Test Set: {r2}\")\n# Make predictions on the entire dataset\ny_pred_ols =model"},{"page":326,"sentence":"predict(X)\n# Calculate R² and MSE for the entire dataset\nr2_ols=r2_score(y, y_pred_ols)\nmse_ols =mean_squared_error(y, y_pred_ols)\nprint(f\"R² without using cross-validation: {r2_ols }\")\nprint(f\"MSE without using cross-validation: {mse_ols }\")\n# Display regression coefficients\ncoefficients =pd"},{"page":326,"sentence":"DataFrame(model"},{"page":326,"sentence":"params, columns =['Coefficient '])\ncoefficients\nR² using cross-validation: 0"},{"page":326,"sentence":"15041129795755834\nMean Squared Error on Test Set: 0"},{"page":326,"sentence":"39388051024246795\nR² on Test Set: 0"},{"page":326,"sentence":"2218458212282951\nR² without using cross-validation: 0"},{"page":326,"sentence":"26405024367687313\nMSE without using cross-validation: 0"},{"page":326,"sentence":"32083760038053666\n34"},{"page":327,"sentence":"[51]: Coefficient\nconst 0"},{"page":327,"sentence":"824561\nAdvertisements -0"},{"page":327,"sentence":"501754\nPeer reviews 1"},{"page":327,"sentence":"175439\nInfluencer Posts 0"},{"page":327,"sentence":"140351\nDetailed unsponsored reviews -0"},{"page":327,"sentence":"824561\nBrand posts -0"},{"page":327,"sentence":"824561\nDiscount 0"},{"page":327,"sentence":"175439\n[52]: import pandas as pd\nimport seaborn as sns\nimport matplotlib"},{"page":327,"sentence":"pyplot as plt\nimport statsmodels"},{"page":327,"sentence":"api as sm\nfrom sklearn"},{"page":327,"sentence":"tree importDecisionTreeRegressor, plot_tree\nfrom sklearn"},{"page":327,"sentence":"model_selection importtrain_test_split, cross_val_score\nfrom sklearn"},{"page":327,"sentence":"metrics importmean_squared_error\n# Assuming the previous steps to prepare data and mapping have been completed\n# df['Purchase Frequency'] is already mapped\n# Split the data into training and testing sets\nX=df[[\"Advertisements \",\"Peer reviews \",\"Influencer Posts \",\"Detailed ␣\n↪unsponsored reviews \",\"Brand posts \",\"Discount \"]]\ny=df[\"Purchase Frequency \"]\n# Initialize and train the decision tree model\ndt_model =DecisionTreeRegressor(random_state =42)\n# Perform cross-validation\ncv_scores =cross_val_score(dt_model, X, y, cv =5, scoring ='r2')\ncv_mean_score =cv_scores"},{"page":327,"sentence":"mean()\nprint(f\"R2 using cross validation: {cv_mean_score }\")\n# Train the model on the entire dataset\ndt_model"},{"page":327,"sentence":"fit(X, y)\n# Make predictions on the test set\nX_train, X_test, y_train, y_test =train_test_split(X, y, test_size =0"},{"page":327,"sentence":"2,␣\n↪random_state =42)\ny_pred=dt_model"},{"page":327,"sentence":"predict(X_test)\n# Evaluate the model\nmse=mean_squared_error(y_test, y_pred)\nprint(f\"Mean Squared Error on Test Set: {mse }\")\nr2=r2_score(y_test, y_pred)\nprint(\"R2 without using cross validation: \",r2)\n35"},{"page":328,"sentence":"# Plot the decision tree\nplt"},{"page":328,"sentence":"figure(figsize =(20,10))\nplot_tree(dt_model, feature_names =X"},{"page":328,"sentence":"columns, filled =True, rounded =True,␣\n↪fontsize =10)\nplt"},{"page":328,"sentence":"title(\"Decision Tree for Predicting Purchase Frequency \")\nplt"},{"page":328,"sentence":"show()\n# Display feature importance\nfeature_importance =pd"},{"page":328,"sentence":"Series(dt_model"},{"page":328,"sentence":"feature_importances_, index =X"},{"page":328,"sentence":"columns)"},{"page":328,"sentence":"↪sort_values(ascending =False)\nplt"},{"page":328,"sentence":"figure(figsize =(10,6))\nfeature_importance"},{"page":328,"sentence":"plot(kind ='bar', color='skyblue')\nplt"},{"page":328,"sentence":"xlabel('Features ')\nplt"},{"page":328,"sentence":"ylabel('Importance ')\nplt"},{"page":328,"sentence":"title('Feature Importance from Decision Tree Model ')\nplt"},{"page":328,"sentence":"show()\n# Perform cross-validation\ncv_scores =cross_val_score(dt_model, X, y, cv =5, scoring ='r2')\ncv_mean_score =cv_scores"},{"page":328,"sentence":"mean()\nprint(f\"R² using cross-validation: {cv_mean_score }\")\n# Evaluate the model\nmse=mean_squared_error(y_test, y_pred)\nr2=r2_score(y_test, y_pred)\nprint(f\"Mean Squared Error on Test Set: {mse }\")\nprint(f\"R² on Test Set: {r2}\")\nR2 using cross validation: 0"},{"page":328,"sentence":"14369418162564318\nMean Squared Error on Test Set: 0"},{"page":328,"sentence":"2606988662131519\nR2 without using cross validation: 0"},{"page":328,"sentence":"48496077650572433\n36"},{"page":329,"sentence":"37"},{"page":330,"sentence":"R² using cross-validation: 0"},{"page":330,"sentence":"14369418162564318\nMean Squared Error on Test Set: 0"},{"page":330,"sentence":"2606988662131519\nR² on Test Set: 0"},{"page":330,"sentence":"48496077650572433\n1"},{"page":330,"sentence":"7"},{"page":330,"sentence":"6 Decision T ree Analysis\nThe decision tree analysis revealed that advertisements are the highest importance feature in pre-\ndicting purchase frequency , but they show a negative correlation in the OLS regression"},{"page":330,"sentence":"Peer\nreviews and influencer posts positively influence purchase frequency , while detailed unsponsored\nreviews, brand posts, and discounts have moderate influence"},{"page":330,"sentence":"In terms of feature importance from\nthe decision tree model, advertisements have the highest feature importance and play a significant\nrole in predicting purchase frequency , yet they negatively correlate in the OLS regression"},{"page":330,"sentence":"Peer\nreviews significantly enhance trust and credibility , thus positively impacting purchase frequency"},{"page":330,"sentence":"Influencer posts are important, but they are less influential than advertisements and peer reviews"},{"page":330,"sentence":"1"},{"page":330,"sentence":"7"},{"page":330,"sentence":"7 Key Insights from the Analysis\nKey insights from the analysis indicate that advertisements have a negative impact on purchase fre-\nquency , as shown by both the OLS regression and decision tree models"},{"page":330,"sentence":"Peer reviews are positively\ncorrelated with purchase frequency and significantly enhance trust and credibility"},{"page":330,"sentence":"Influencer posts\nalso positively impact purchase frequency , especially when combined with peer reviews"},{"page":330,"sentence":"While\ndetailed unsponsored reviews, brand posts, and discounts do not show statistically significant in-\ndividual effects, they may still play a role when combined with other factors"},{"page":330,"sentence":"1"},{"page":330,"sentence":"7"},{"page":330,"sentence":"8 Prediction Examples\n• Example 1 :\n– Content Types : Advertisements: 1, Peer Reviews: 1, Detailed Unsponsored Reviews:\n1\n– OLS Regression : Moderate purchase frequency (negative impact of advertisements)"},{"page":330,"sentence":"– Decision T ree : Higher purchase frequency (influenced by advertisements, peer reviews,\nand unsponsored reviews)"},{"page":330,"sentence":"• Example 2 :\n– Content Types : Peer Reviews: 1, Influencer Posts: 1, Brand Posts: 1, Discount: 1\n– OLS Regression : Higher purchase frequency (positive impact of peer reviews and\ninfluencer posts)"},{"page":330,"sentence":"– Decision T ree : Moderate purchase frequency (influenced by peer reviews, influencer\nposts, brand posts, and discount)"},{"page":330,"sentence":"In Summary , the analysis suggests that advertisements tend to have a negative impact on purchase\nfrequency , while peer reviews and influencer posts positively influence consumer purchasing behav-\nior"},{"page":330,"sentence":"The OLS regression model highlights the negative impact of advertisements and the positive\ninfluence of peer reviews"},{"page":330,"sentence":"In contrast, the Decision T ree model underscores that advertisements,\npeer reviews, and influencer posts are the key factors affecting purchase frequency"},{"page":330,"sentence":"Therefore, a\nbalanced and optimized content strategy that leverages various content types, particularly peer\nreviews and influencer posts, can enhance marketing effectiveness and drive consumer engagement"},{"page":330,"sentence":"38"},{"page":331,"sentence":"1"},{"page":331,"sentence":"7"},{"page":331,"sentence":"9 5"},{"page":331,"sentence":"Association Between Ad F requency and Platform Usage F requency\nThis analysis aims to explore the relationship between how frequently individuals are exposed to\nads on social media and how often they use specific platforms"},{"page":331,"sentence":"Understanding this association can\nprovide insights into whether higher ad exposure correlates with more frequent platform usage,\nhelping to optimize advertising strategies and platform engagement"},{"page":331,"sentence":"Hypothesis\n• Null Hypothesis (H￿) : There is no association between ad frequency and platform usage\nfrequency; they are independent of each other"},{"page":331,"sentence":"• Alternative Hypothesis (H￿) : Ad frequency and platform usage frequency are dependent\non each other; an association exists between them"},{"page":331,"sentence":"T o test the hypothesis, we conducted an independent t-test ( stats"},{"page":331,"sentence":"ttest_ind ) to\ncompare the means of the encoded variables: ad_frequency_on_social_media and\nplatform_usage_frequency"},{"page":331,"sentence":"The t-test evaluates whether there is a statistically significant dif-\nference between the means of the two groups, helping to determine if ad frequency is associated\nwith platform usage frequency"},{"page":331,"sentence":"[53]:df_copy_test =df"},{"page":331,"sentence":"copy()\nlabel_encoder =LabelEncoder()\ndf_copy_test[ 'ad_frequency_on_social_media ']=label_encoder"},{"page":331,"sentence":"↪fit_transform(df[ 'ad_frequency_on_social_media '])\ndf_copy_test[ 'platform_usage_frequency ']=label_encoder"},{"page":331,"sentence":"↪fit_transform(df[ 'platform_usage_frequency '])\nt_stat, p_value =stats"},{"page":331,"sentence":"ttest_ind(df_copy_test[ \"ad_frequency_on_social_media \"],␣\n↪df_copy_test[ \"platform_usage_frequency \"])\nprint(f\"P-value: {p_value }\")\nP-value: 4"},{"page":331,"sentence":"5129915523926704e-05\nConclusion: Since the p-value = 0"},{"page":331,"sentence":"0002 is less than 0"},{"page":331,"sentence":"05, we reject the null hypothesis, which\nindicates that there is a statistically significant relationship between ad frequency and\nplatform usage frequency"},{"page":331,"sentence":"This suggests that the frequency with which individuals encounter\nads on social media is dependent on how often they use specific platforms"},{"page":331,"sentence":"The results imply that\nmore frequent platform usage may lead to greater exposure to ads, or vice versa, pointing to a\npotential influence of ad exposure on user engagement with social media platforms"},{"page":331,"sentence":"1"},{"page":331,"sentence":"8 Conclusion and F uture Scope\nConclusion\nSurveys and statistical analysis supported the hypothesis that social media influences purchasing\nbehavior"},{"page":331,"sentence":"The t-test showed that advertisement frequency is dependent on platform usage frequency\n(p < 0"},{"page":331,"sentence":"05)"},{"page":331,"sentence":"Linear Regression (R²: 0"},{"page":331,"sentence":"4085) outperformed the Decision T ree Regressor (R²: 0"},{"page":331,"sentence":"2881)\nin predicting consumer spending"},{"page":331,"sentence":"Both models indicated that influencer promotions are more\neffective than brand advertisements in driving purchases, highlighting the importance of targeted\nand personalized marketing strategies"},{"page":331,"sentence":"39"},{"page":332,"sentence":"F uture Scope 1"},{"page":332,"sentence":"Long-term Impact : Study the long-term effects of social media engagement\non brand loyalty and repeat purchases"},{"page":332,"sentence":"2"},{"page":332,"sentence":"Cultural and Geographical F actors : Explore how\ndifferent cultural and geographical factors influence social media’s impact on consumer behavior"},{"page":332,"sentence":"3"},{"page":332,"sentence":"Dynamic Content Optimization : Optimize influencer promotions and advertisements using\nreal-time data analysis"},{"page":332,"sentence":"4"},{"page":332,"sentence":"Advanced Analytics : Use machine learning and AI for more accurate\nconsumer behavior predictions"},{"page":332,"sentence":"Limitations 1"},{"page":332,"sentence":"Sample Size and Demographics : Findings may not be representative of the\nbroader population; a larger, more diverse sample is needed"},{"page":332,"sentence":"2"},{"page":332,"sentence":"Self-Reported Data : Potential\nbiases such as social desirability and recall bias may affect data accuracy"},{"page":332,"sentence":"3"},{"page":332,"sentence":"T emporal Scope :\nImmediate impacts were studied; long-term effects need further exploration"},{"page":332,"sentence":"4"},{"page":332,"sentence":"Platform-Specific\nAnalysis : Different social media platforms were not differentiated; future studies should explore\nplatform-specific impacts"},{"page":332,"sentence":"5"},{"page":332,"sentence":"External Influences : External factors like economic conditions and\nseasonal trends were not accounted for; including these variables would provide a more comprehen-\nsive understanding"},{"page":332,"sentence":"1"},{"page":332,"sentence":"9 T ask Division and Group Collaboration\nT ask Division for 606 Project\nRole Assignments\nRole Assigned Member Responsibilities\nProject Manager Hritvik Gaind Oversees project\nprogress, ensures\ndeadlines are met,\nand re-assigns\ntasks as needed"},{"page":332,"sentence":"Meeting Scheduler A yush Senthil Nelli Schedules team\nmeetings using the\nTFDL website\nscheduler"},{"page":332,"sentence":"Meeting Chair V enkateshwaran Balu Soundararajan Sets agendas for\nmeetings,\naddresses\nexpectations, and\nfacilitates\ndecision-making"},{"page":332,"sentence":"Documentation Rehan Chanegaon T akes meeting\nminutes,\nmaintains project\ndocumentation,\nand compiles the\nREADME file"},{"page":332,"sentence":"40"},{"page":333,"sentence":"Role Assigned Member Responsibilities\nQuality Assurance Satyam Kapoor Ensures the code\nquality meets\nproject\nexpectations and\nstreamlines it\nwhere needed"},{"page":333,"sentence":"W orkload Distribution for Deliverables\nDeliverable Assigned Member(s) Description\nGoogle F orms Survey Creation Hritvik Gaind, A yush Senthil Nelli,\nV enkateshwaran Balu\nSoundararajanDesigned the\nsurvey and\nensured\nappropriate\nquestion\nformatting"},{"page":333,"sentence":"Guiding Questions (1 each) All Members (1 each) Each member\ncontributed\none guiding\nquestion"},{"page":333,"sentence":"Exploratory Data Analysis\n(EDA)Hritvik Gaind, Satyam Kapoor,\nV enkateshwaran Balu\nSoundararajanConducted\nEDA to derive\ninsights and\nprepare\nvisuals"},{"page":333,"sentence":"PowerPoint Presentation A yush Senthil Nelli, Rehan\nChanegaon, Satyam KapoorCompiled\nfindings into a\nstructured\npresentation"},{"page":333,"sentence":"Report W riting All Members Collaborative\neffort to draft\nand finalize the\nproject report"},{"page":333,"sentence":"1"},{"page":333,"sentence":"10 References\n[1] Google, “The Influence of Social Media Usage on Consumer Purchasing Deci-\nsions,”GoogleF orms"},{"page":333,"sentence":"[Online]"},{"page":333,"sentence":"A vailable:https:\/\/docs"},{"page":333,"sentence":"google"},{"page":333,"sentence":"com\/forms\/d\/e\/1F AIpQLSfN6FVKhkTBqA_7D8FMbNO17M7GtQrUU5yqwmsBgPK vUTV moA\/viewform"},{"page":333,"sentence":"[Accessed: 17-F eb-2025]"},{"page":333,"sentence":"[2] Nielsen, J"},{"page":333,"sentence":"and Budiu, R"},{"page":333,"sentence":", “Survey Best Practices,” Nielsen Norman Group, 2012"},{"page":333,"sentence":"[Online]"},{"page":333,"sentence":"A vailable: https:\/\/www"},{"page":333,"sentence":"nngroup"},{"page":333,"sentence":"com\/articles\/survey-best-practices\/"},{"page":333,"sentence":"[Accessed: 15-Jan-2025]"},{"page":333,"sentence":"[3] Wikipedia contributors, “Binomial distribution,” Wikipedia, The F ree Encyclope-\ndia"},{"page":333,"sentence":"[Online]"},{"page":333,"sentence":"A vailable: https:\/\/en"},{"page":333,"sentence":"wikipedia"},{"page":333,"sentence":"org\/wiki\/Binomial_distribution"},{"page":333,"sentence":"[Accessed: 15-Jan-\n2025]\n41"},{"page":334,"sentence":"[4] Wikipedia contributors, “Poisson distribution,” Wikipedia, The F ree Encyclope-\ndia"},{"page":334,"sentence":"[Online]"},{"page":334,"sentence":"A vailable: https:\/\/en"},{"page":334,"sentence":"wikipedia"},{"page":334,"sentence":"org\/wiki\/Poisson_distribution"},{"page":334,"sentence":"[Accessed: 15-\nJan-2025]"},{"page":334,"sentence":"[5] DASCA, “What is statistical modelling in data science,” DASCA - W orld of Data Sci-\nence"},{"page":334,"sentence":"[Online]"},{"page":334,"sentence":"A vailable: https:\/\/www"},{"page":334,"sentence":"dasca"},{"page":334,"sentence":"org\/world-of-data-science\/article\/what-is-statistical-\nmodeling-in-data-science"},{"page":334,"sentence":"[Accessed: 20-Jan-2025]\n42"},{"page":335,"sentence":"Weather Prediction and Forecasting  \nProject Report  \n \nSubmitted By:  \n30262995  Ayush Senthil  Nelli  \n30239 509 Venkatesh  \n30248059 Hritvik Gaind  \n30255909 Satyam Kapoor  \n \n \nDATA 608: Developing Big Data Applications"},{"page":336,"sentence":"Table of Contents:  \n \nTable of Contents:"},{"page":336,"sentence":"2 \n1"},{"page":336,"sentence":"0 Problem Statement"},{"page":336,"sentence":"2 \n1"},{"page":336,"sentence":"1 Summary of Results"},{"page":336,"sentence":"3 \n2"},{"page":336,"sentence":"0 Pipeline Diagram"},{"page":336,"sentence":"3 \n2"},{"page":336,"sentence":"1 Data Generation"},{"page":336,"sentence":"4 \n2"},{"page":336,"sentence":"2 Data Ingestion"},{"page":336,"sentence":"5 \n2"},{"page":336,"sentence":"3 Data Storage"},{"page":336,"sentence":"6 \n2"},{"page":336,"sentence":"4 Data Transformation"},{"page":336,"sentence":"8 \n2"},{"page":336,"sentence":"5 Data Serving"},{"page":336,"sentence":"10 \n2"},{"page":336,"sentence":"6 Data Outputs"},{"page":336,"sentence":"10 \n3"},{"page":336,"sentence":"0 Limitations and Possible Next Steps"},{"page":336,"sentence":"12 \n3"},{"page":336,"sentence":"1 Project Limitations"},{"page":336,"sentence":"12 \n3"},{"page":336,"sentence":"1 Future Expansions"},{"page":336,"sentence":"13 \n4"},{"page":336,"sentence":"0 Conclusions"},{"page":336,"sentence":"14 \n5"},{"page":336,"sentence":"Code"},{"page":336,"sentence":"15 \nEvidence that the application takes data through all the lifecycle"},{"page":336,"sentence":"15 \nEvidence of Application Optimization"},{"page":336,"sentence":"16 \nStatic Link to the Project"},{"page":336,"sentence":"16 \n \n \n \n \n \n1"},{"page":336,"sentence":"0 Problem Statement \nThis project aims to analy ze short -term weather variations across ten major Canadian cities \nusing weather data from 2024 and 2025"},{"page":336,"sentence":"Understanding these variations is critical for"},{"page":337,"sentence":"industries such as agriculture and transportation, which depend on accurate and timely \nweather forecasts for decision -making and risk management"},{"page":337,"sentence":"By identifying trends, \nanomalies, and regional differences, the project seeks to improve forecast accuracy and  \nprovide insights into seasonal and regional weather patterns"},{"page":337,"sentence":"These findings will assist \npolicymakers and businesses in planning for weather -related risks and optimizing resource \nmanagement"},{"page":337,"sentence":"1"},{"page":337,"sentence":"1 Summary of Results  \n \nThe Weather Analytics Dashboard offers an in -depth analysis of the city’s climate patterns \nthrough an interactive and visually rich interface powered by data from the Open -Meteo \nHistorical Weather API"},{"page":337,"sentence":"The dashboard presents monthly and daily temperature t rends \nusing line charts that effectively capture seasonal variations and hourly fluctuations"},{"page":337,"sentence":"A pie \nchart outlines the distribution of weather conditions"},{"page":337,"sentence":"Precipitation and snowfall patterns \nare depicted through grouped bar charts, while a dual -axis visual ization integrates average \nhumidity with monthly precipitation, enabling comparative insights"},{"page":337,"sentence":"Additionally, the \ndashboard includes statistical insights revealing a strong negative correlation between \ntemperature and humidity, as well as weaker relationshi ps with snowfall, wind speed, and \nprecipitation"},{"page":337,"sentence":"The temperature forecast module further enhances utility by providing short -\nterm temperature predictions with upper and lower confidence bounds"},{"page":337,"sentence":"Altogether, the \ndashboard serves as a comprehensive tool for u nderstanding 10 canadian cities  weather \ndynamics throughout the year"},{"page":337,"sentence":"2"},{"page":337,"sentence":"0 Pipeline Diagram  \n \n \nThe above pipeline represents a comprehensive weather analytics system designed to \ncollect, process, analyze, and visualize meteorological data"},{"page":337,"sentence":"The system begins with data \ningestion from the Open Meteo data source through a RESTful API, which is handled using"},{"page":338,"sentence":"AWS Lambda functions to enable efficient and serverless data processing"},{"page":338,"sentence":"The ingested \ndata is then stored in Amazon DynamoDB, a highly scalable NoSQL database, ensuring fast \nand reliable data access"},{"page":338,"sentence":"This stored data supports two primary components: machin e \nlearning models for temperature forecasting and model comparison, and analytics \nfunctions for identifying weather patterns and generating visualizations"},{"page":338,"sentence":"Both the machine \nlearning outputs and analytical insights are served through an interactive Streamli t \napplication hosted on Amazon EC2, providing users with real -time, accessible, and \ninterpretable weather insights"},{"page":338,"sentence":"2"},{"page":338,"sentence":"1 Data Generation  \nThe data for this project is sourced from the Open -Meteo Historical Weather API , which \naggregates weather information from multiple authoritative sources, including reanalysis \ndatasets and national meteorological services"},{"page":338,"sentence":"For this analysis, we utilize time series \nweather data from January 1st, 2024 to the current date  for various cities across Canada, \nretrieved using their respective longitude and latitude  coordinates"},{"page":338,"sentence":"A key source of this data is the ECMWF IFS (Integrated Forecasting System) , a global \nreanalysis dataset available from 2017 to present  and updated daily with a 2 -day delay"},{"page":338,"sentence":"The dataset integrates observations from weather stations, satellites, aircraft, and radar, \nusing advanced numerical models to reconstruct historical weather conditions, even in \nremote or sparsely monitored areas"},{"page":338,"sentence":"In addition, Open -Meteo incorporates weather data from the GEM (Global Environmental \nMultiscale) model  by the Canadian Weather Service, which is updated every 6 hours , \nenhancing the temporal resolution and accuracy of the data retrieved"},{"page":338,"sentence":"The historical weather data includes a wide array of hourly variables such as temperature \nat 2 meters, apparent temperature, relative humidity, dewpoint, precipitation \nprobability, total precipitation (including rain and snow), snowfall, snow depth, \nsunshine duration, UV index, and daylight duration"},{"page":338,"sentence":"Other details, such as sunrise and \nsunset times  and WMO (World Meteorological Organization) weather codes , are also \nincluded to support more meaningful interpretation of weather conditions"},{"page":338,"sentence":"For this project, \nonly the most relevant parameters were selected to ensure the analysis remains focused \nand efficient"},{"page":339,"sentence":"2"},{"page":339,"sentence":"2 Data Ingestion  \n \nThe data ingestion process was carefully designed to establish a reliable foundation for our \nweather prediction system"},{"page":339,"sentence":"After evaluating several weather data sources, we selected the \nOpen -Meteo API for its comprehensive coverage of essential meteorological  variables \nincluding temperature, precipitation, wind speed, and weather codes"},{"page":339,"sentence":"The API's consistent \ndata formatting and reliable uptime made it particularly suitable for our needs"},{"page":339,"sentence":"To implement an efficient ingestion pipeline, we adopted a serverless architecture using \nAWS Lambda"},{"page":339,"sentence":"This approach allowed us to focus on data processing rather than \ninfrastructure management, while automatically scaling to handle varying workloads"},{"page":339,"sentence":"The \nLambda functions were configured to run on a scheduled basis, ensuring fresh data is \nalways available for analysis"},{"page":339,"sentence":"For daily weather updates, we developed an automated process that fetches the previous \nday's data, accounting for the API's natural latency in data availability"},{"page":339,"sentence":"This decision came"},{"page":340,"sentence":"after observing that real -time data sometimes contained incomplete measurements"},{"page":340,"sentence":"The \nsystem now consistently delivers verified, complete weather records ready for processing"},{"page":340,"sentence":"Historical data collection presented its own challenges"},{"page":340,"sentence":"We implemented a batch \nprocessing solution that retrieves comprehensive weather records spanning from January \n2024 to March 2025"},{"page":340,"sentence":"This historical dataset proved invaluable for identifying long -term \nweather patterns and training our predictive models"},{"page":340,"sentence":"Key features of our ingestion system include:  \n• Lambda -based data fetching  that provides serverless, scalable API integration  \n• Automated validation checks  implemented within Lambda functions to verify data \ncompleteness  \n• Comprehensive error handling  in Lambda to manage API rate limits and temporary \noutages  \n• EventBridge -triggered Lambda executions  that ensure timely data updates  \n• Cost -effective processing  through Lambda's pay -per-use pricing model  \nThe implementation process taught us valuable lessons about working with cloud services \nand handling real -world data inconsistencies"},{"page":340,"sentence":"These insights directly informed our system \ndesign, resulting in a robust ingestion framework that forms the cornerstone o f our weather \nprediction capabilities"},{"page":340,"sentence":"2"},{"page":340,"sentence":"3 Data Storage  \n \nOur storage architecture implements a carefully designed two -tier system to balance \nperformance, cost, and reliability"},{"page":340,"sentence":"The primary data store utilizes AWS DynamoDB, chosen"},{"page":341,"sentence":"specifically for its high velocity read\/write capabilities, flexible schema architecture, and \nautomatic scaling properties"},{"page":341,"sentence":"As a purpose -built NoSQL database, DynamoDB delivers the \nsingle -digit millisecond latency we require for real -time weather data oper ations and \ndashboard visualizations"},{"page":341,"sentence":"To ensure comprehensive data protection and enable different access patterns, we \nimplemented Amazon S3 as our secondary storage layer with three key functions:  \n1"},{"page":341,"sentence":"Primary API Data Backup : All ingested weather data from Open -Meteo is \nautomatically written to S3 as a protective measure"},{"page":341,"sentence":"2"},{"page":341,"sentence":"Forecast Output Repository : Model predictions are systematically serialized to \nCSV format and archived in S3 buckets  \n3"},{"page":341,"sentence":"Analysis Ready Storage : S3 houses processed datasets optimized for batch \nanalytics jobs"},{"page":341,"sentence":"The strategic advantages of this architecture include:  \n• Real -Time Performance : DynamoDB serves operational queries with consistent \n<10ms response times"},{"page":341,"sentence":"• Data Safeguarding : S3's extreme durability protects against any potential data loss \nscenarios"},{"page":341,"sentence":"• Cost Optimization : High -performance DynamoDB handles frequent access \npatterns while S3 economically stores less -active data"},{"page":341,"sentence":"• Model Versioning : Forecast outputs in S3 create timestamped records of all \nprediction runs"},{"page":341,"sentence":"Implementation highlights:  \n• DynamoDB tables configured with optimized partition keys matching our primary \naccess patterns"},{"page":342,"sentence":"• S3 bucket organization using clear naming conventions"},{"page":342,"sentence":"This storage framework has demonstrated excellent performance during load testing, \ncapably handling both the velocity of real -time data ingestion and the volume of historical \nweather records"},{"page":342,"sentence":"The combination of DynamoDB's low -latency performance with S3's \nmassive storage capacity creates a future -proof foundation that can scale with our growing \ndata needs"},{"page":342,"sentence":"2"},{"page":342,"sentence":"4 Data Transformation  \n \nThe transformation process converts raw API data into a clean, analysis -ready format \nthrough a series of carefully designed operations executed within AWS Lambda functions"},{"page":342,"sentence":"Our goal was to enhance data quality while preserving the original information's integrity \nand meaning, ensuring all transformations occur before storage in DynamoDB"},{"page":342,"sentence":"Upon fetching data from the Open -Meteo API, our Lambda functions immediately process \nit through these transformation stages:  \n \nData Quality Foundations:  \n• Standardizing timestamp formats into consistent datetime objects for reliable time -\nseries analysis"},{"page":342,"sentence":"• Intelligently handling missing values (e"},{"page":342,"sentence":"g"},{"page":342,"sentence":", substituting zeros for absent snowfall \nmeasurements)"},{"page":342,"sentence":"• Validating all measurement ranges to identify and flag potential anomalies"},{"page":343,"sentence":"Value -Added Feature Engineering:  \n• Extracting temporal features (month, year) from timestamps"},{"page":343,"sentence":"• Applying accurate seasonal classifications (winter, spring, summer, fall) based on \nmeteorological standards"},{"page":343,"sentence":"• Translating numeric weather codes into human -readable descriptions (e"},{"page":343,"sentence":"g"},{"page":343,"sentence":", \n\"sunny\", \"rainy \")"},{"page":343,"sentence":"These transformations are efficiently implemented using pandas operations within \nLambda, achieving an optimal balance between processing thoroughness and \ncomputational efficiency"},{"page":343,"sentence":"The EventBridge scheduler ensures new daily data undergoes \nthe same transformation pipeline before being appended to DynamoDB"},{"page":343,"sentence":"Key advantages of this pre -storage transformation approach:  \n• Dashboard Efficiency : Streamlit visualizations work with ready -to-use data, \neliminating transformation overhead during rendering  \n• Data Consistency : All records in DynamoDB maintain uniform formatting and \nenrichment  \n• Processing Isolation : Transformation logic is encapsulated in Lambda functions, \nseparate from storage and visualization layers  \n• Temporal Integrity : Historical and new data receive identical processing, ensuring \nanalytical continuity  \nPerformance metrics confirm the transformations add minimal latency while significantly \nenhancing data usability"},{"page":343,"sentence":"The system's modular design allows for future optimization \nshould processing requirements evolve, though current benchmarks show the Lambda \nfunctions comfortably handle our daily data volumes within allocated resource limits"},{"page":344,"sentence":"By completing all transformations before storage, we've created a streamlined pipeline \nwhere DynamoDB contains analysis -ready data, and our Streamlit dashboard can focus \nsolely on visualization without additional processing burdens"},{"page":344,"sentence":"2"},{"page":344,"sentence":"5 Data Serving  \n \nTransformed data is presented via a Streamlit dashboard , which provides an interactive \nand user -friendly interface for displaying and interacting with data insights"},{"page":344,"sentence":"The dashboard \nserves multiple roles, including visualizing trends, providing forecasts, and displaying \nessential weather data to the user"},{"page":344,"sentence":"The data is served and processed on an EC2 instance , which hosts the Streamlit app"},{"page":344,"sentence":"The \nEC2 instance retrieves weather data from DynamoDB , and for temperature forecasts, it \npulls relevant data from S3 storage"},{"page":344,"sentence":"The transformed data and forecasts are then \ndisplayed in the dashboard, which includes various visualizations and provides a \nprediction of the temperature for the next 24 hours"},{"page":344,"sentence":"• Streamlit : This technology is used for creating an interactive and user -friendly \ndashboard"},{"page":344,"sentence":"It allows the user to view visualizations and interact with data in real -\ntime"},{"page":344,"sentence":"Streamlit makes it easy to generate plots, charts, and other elements that are \ncritical for di splaying weather -related information"},{"page":344,"sentence":"• EC2 Instance : The EC2 instance serves as the cloud -based server that hosts the \nStreamlit app"},{"page":344,"sentence":"It also handles the retrieval of data from DynamoDB  for historical \nweather information and from S3 for the temperature forecast data"},{"page":344,"sentence":"The EC2 \ninstance ensures that the app remains accessible, scalable, and efficient for \nprocessing large datasets and generating predictions"},{"page":344,"sentence":"2"},{"page":344,"sentence":"6 Data Outputs  \n \nVisualizations in the Dashboard  \nThe dashboard presents multiple visualizations to help users understand the weather \ntrends, variations, and predictions"},{"page":344,"sentence":"Below are the key visualizations provided in the \nStreamlit app:  \n1"},{"page":344,"sentence":"Temperature Trends :"},{"page":345,"sentence":"• Graphical Representation : Displays how the temperature varies across \ndifferent months and times of the day"},{"page":345,"sentence":"• Purpose : Helps users understand the seasonal and daily temperature \nfluctuations, enabling them to identify patterns and trends in temperature \nover time"},{"page":345,"sentence":"This insight can assist in making decisions related to outdoor \nactivities, clothing choices, or energy consump tion"},{"page":345,"sentence":"2"},{"page":345,"sentence":"Weather Distribution : \n• Pie Chart : Visualizes the distribution of different weather conditions (e"},{"page":345,"sentence":"g"},{"page":345,"sentence":", \nsunny, cloudy, snowy, rainy)"},{"page":345,"sentence":"• Purpose : Provides a quick overview of the overall weather trends over a \nspecified period, helping users assess the frequency of various weather \nconditions"},{"page":345,"sentence":"3"},{"page":345,"sentence":"Rain & Snow Levels : \n• Chart : Illustrates the monthly distribution of rain and snow levels"},{"page":345,"sentence":"• Purpose : This helps users understand seasonal variations in precipitation \nand snow accumulation, providing insights into overall weather patterns"},{"page":345,"sentence":"4"},{"page":345,"sentence":"Precipitation & Humidity Trends : \n• Chart : Displays trends of precipitation and humidity over the months"},{"page":345,"sentence":"• Purpose : Offers insights into seasonal changes in humidity and \nprecipitation, allowing users to correlate weather changes with specific \nmonths"},{"page":345,"sentence":"5"},{"page":345,"sentence":"Temperature Correlations in Calgary : \n• Graphical Representation : Displays the relationships between temperature \nand various weather features, including humidity , snowfall , precipitation , \nand wind speed  in Calgary"},{"page":345,"sentence":"• Purpose : This visualization helps users understand how different weather \nfactors correlate with temperature variations in Calgary"},{"page":345,"sentence":"By exploring these \ncorrelations, users can gain insights into how conditions like humidity or \nwind speed may influence temperature p atterns, assisting with more \ninformed weather -related decisions"},{"page":345,"sentence":"Machine Learning Model – Temperature Prediction  \nA temperature prediction model, utilizing historical weather data, contributes to the \nforecast section of the dashboard"},{"page":345,"sentence":"The model used for this prediction is the ARIMA model \nfrom the statsmodels library"},{"page":345,"sentence":"1"},{"page":345,"sentence":"ARIMA Model :"},{"page":346,"sentence":"• Purpose : The ARIMA (AutoRegressive Integrated Moving Average) model is \nemployed to forecast the temperature for the next 24 hours based on \nhistorical time series data"},{"page":346,"sentence":"• Implementation : The model takes into account past temperature values \nand uses statistical methods to predict future temperatures"},{"page":346,"sentence":"2"},{"page":346,"sentence":"Temperature Plot : \n• Output : A visual representation of the predicted temperature for the next \nday"},{"page":346,"sentence":"• Purpose : Users can easily visualize how the temperature is expected to \nchange throughout the day, helping with planning and decision -making"},{"page":346,"sentence":"3"},{"page":346,"sentence":"0 Limitation s and Po ssible Next  Steps  \n \n3"},{"page":346,"sentence":"1 Project Limitations  \n \nDuring the course of this  project, we encountered several limitations that shaped our \nimplementation decisions and influenced the outcome"},{"page":346,"sentence":"One of the key constraints was the \nusage restrictions imposed by the free weather API we selected"},{"page":346,"sentence":"The API allowed for a \nmaximum of 600 calls per minute, 5,000 per hour, and 10,000 per day"},{"page":346,"sentence":"To stay within these \nlimits, we restricted the data collection t o just one year of historical weather data"},{"page":346,"sentence":"This \nlimited volume of data, while sufficient for a basic proof of concept, may reduce the \ngeneraliz ability and accuracy of our model under more complex or long -term forecasting \nscenarios"},{"page":346,"sentence":"Another significant limitation was the delayed availability of data"},{"page":346,"sentence":"The API did not provide \naccess to real -time or same -day weather data, only allowing data retrieval up to two days \nbefore the current date"},{"page":346,"sentence":"This delay restricted our ability to validate fo recasts promptly and \nlimited the dashboard’s ability to display the most current weather information"},{"page":346,"sentence":"Using a \nmore real -time API in the future could address this shor tcoming and improve system \nresponsiveness"},{"page":346,"sentence":"To further manage API usage and complexity, we limited our geographic scope to 10 major \ncities in Canada"},{"page":346,"sentence":"While this approach kept the data manageable, it also reduced the scale \nand potential applications of the tool, especially for users interested in bro ader or more \nlocalized coverage"},{"page":346,"sentence":"Additionally, we limited our forecasting horizon to a single day (24 -hour"},{"page":347,"sentence":"prediction), which, although useful for immediate insights, does not support medium - or \nlong -term  planning"},{"page":347,"sentence":"Initially, the system was designed to utilize Amazon RDS along with AWS Lambda and \nEventBridge Scheduler to automate data ingestion and structured storage"},{"page":347,"sentence":"However, due \nto restricted IAM roles and limited access within the AWS educational lab environment, we \nhad to pivot and use AWS DynamoDB"},{"page":347,"sentence":"While DynamoDB offered simplicity and easy \nintegration, it came with trade -offs in terms of querying capabili ties and relational data \nsupport"},{"page":347,"sentence":"3"},{"page":347,"sentence":"1 Future Expansio ns \nLooking ahead, we see multiple opportunities to expand and enhance our project"},{"page":347,"sentence":"A key \npriority is to experiment with more advanced time -series models beyond ARIMA"},{"page":347,"sentence":"We plan \nto evaluate SARIMA for handling seasonal trends, Prophet for its flexible forecasting \ncapabilities, and LSTM networ ks for their ability to model complex temporal relationships \nin the data"},{"page":347,"sentence":"These models could allow us to generate forecasts for longer periods, such as \n7 to 15 days, and offer more accurate predictions"},{"page":347,"sentence":"We also plan to broaden the geographic scope of the project by including more cities \nacross Canada, and potentially other countries, to improve the system’s reach and \nusefulness"},{"page":347,"sentence":"To further support scalability and timeliness, integrating real -time or near -real -\ntime weather data sources will be critical"},{"page":347,"sentence":"Thi s would enable real -time forecasting and \nallow us to validate predictions as new data comes in"},{"page":347,"sentence":"Another major area of enhancement is the dashboard"},{"page":347,"sentence":"At present, the Streamlit dashboard \nprovides a 1 -day temperature forecast for a selected city using basic v isualizations"},{"page":347,"sentence":"In the \nfuture, we aim to incorporate geospatial visualizations and live heatmaps using tools like \nPlotly, Folium, or Deck"},{"page":347,"sentence":"gl"},{"page":347,"sentence":"These enhancements will offer a more interactive and visually \ninformative user experience, allowing users to explor e temperature trends across regions \nin an intuitive way"},{"page":347,"sentence":"Additionally, we hope to revisit our original architecture  if we get a n account with AWS \nadditional featured roles"},{"page":347,"sentence":"This would involve transitioning back to Amazon RDS for \nstructured data storage an d using Lambda functions and Event Bridge  for orchestration"},{"page":347,"sentence":"Finally, implementing CI\/CD pipelines using GitHub Actions or AWS Code Pipeline , as well \nas infrastructure automation tools like Terraform, would further improve the project’s \nmaintainability, scalability, and deployment process"},{"page":348,"sentence":"4"},{"page":348,"sentence":"0 Conclusion s \n \nThis project demonstrates the successful development of a weather data analytics and \nforecasting pipeline using AWS cloud services and ARIMA modeling"},{"page":348,"sentence":"By integrating \nLambda, S3, and DynamoDB, we automated the retrieval and storage of weather data and \nvisualized 24 -hour temperature forecasts for ten Canadian cities through a Streamlit \ndashboard"},{"page":348,"sentence":"While we met our initial goals, we faced limitations such as API call restrictions, delayed \ndata access, and limited AWS lab permissions"},{"page":348,"sentence":"These influenced our design choices and \nrevealed opportunities for future improvements, including real -time data integ ration, \nlonger -term forecasting, expanded geographic coverage, and enhanced dashboard \nfeatures"},{"page":348,"sentence":"Overall, this project serves as a strong foundation for scalable weather analytics using \ncloud infrastructure and machine learning"},{"page":348,"sentence":"Key Learnings  \nThrough this project, we gained practical experience in:  \n• Building a full data pipeline with AWS services like Lambda, S3, and DynamoDB  \n• Managing event -driven workflows and overcoming infrastructure constraints  \n• Applying ARIMA for time -series forecasting and tuning models with real -world \nweather data  \n• Developing an interactive dashboard in Streamlit to present insights clearly  \n• Adapting to API limitations and planning for scalability and automation  \n \nThis hands -on experience deepened our understanding of data engineering and taught us \nhow to deliver insights by combining data science with thoughtful system design"},{"page":349,"sentence":"5"},{"page":349,"sentence":"Code  \nhttps:\/\/github"},{"page":349,"sentence":"com\/ayushnelli03\/Data608  \nEvidence that the application takes data through all the lifecycle  \nThe application demonstrates the complete data lifecycle —from data collection to \ntransformation, storage, and serving —through a series of interconnected scripts and \nprocesses"},{"page":349,"sentence":"Below are the key components that show how the data flows through the \nlifecycle:  \n• db_lambda_fetchHisData"},{"page":349,"sentence":"py : \no Purpose : This Lambda function is responsible for fetching weather data from \nan external API and storing it in DynamoDB"},{"page":349,"sentence":"o Data Lifecycle : It initiates the lifecycle by retrieving raw weather data, \npreprocessing it (such as cleaning and transformation), and then storing it in \nDynamoDB for future use"},{"page":349,"sentence":"This is the first step in the process of transforming \nraw data into usable insights"},{"page":349,"sentence":"• db_lambda_automate"},{"page":349,"sentence":"py : \no Purpose : This function automates the process of fetching updated weather \ndata from the API via an EventBridge scheduler"},{"page":349,"sentence":"o Data Lifecycle : It runs on a scheduled basis to fetch fresh data, transforming \nand cleaning it before appending the new records to the existing data in \nDynamoDB"},{"page":349,"sentence":"This ensures the data stays current, and the application \nmaintains an up -to-date repository for future analy sis and forecasting"},{"page":349,"sentence":"• ec2_dbConnect"},{"page":349,"sentence":"py : \no Purpose : This script tests the connectivity between the EC2 instance  and \nDynamoDB , fetching paginated data for validation"},{"page":349,"sentence":"o Data Lifecycle : It ensures that data stored in DynamoDB is accessible from \nthe EC2 instance, which is an essential part of serving data to the Streamlit \ndashboard for visualization"},{"page":349,"sentence":"This step validates that the data can be fetched \nreliably from the database for further processing and serving"},{"page":349,"sentence":"• streamlitdb"},{"page":349,"sentence":"py : \no Purpose : This Python script serves as the core of the Streamlit dashboard"},{"page":349,"sentence":"It \nfetches data from DynamoDB , processes it, and visualizes the insights \nthrough interactive components in the Streamlit application"},{"page":349,"sentence":"o Data Lifecycle : It retrieves processed and cleaned data from DynamoDB and \npresents it to the user in an intuitive, interactive format"},{"page":349,"sentence":"This is the final step"},{"page":350,"sentence":"in the lifecycle where users can explore the data through various \nvisualizations (e"},{"page":350,"sentence":"g"},{"page":350,"sentence":", temperature trends, weather distribution, and forecasts)"},{"page":350,"sentence":"Together, these scripts ensure that data is effectively ingested, processed, stored, and \nmade available for visualization, completing the data engineering lifecycle"},{"page":350,"sentence":"Evidence of Application Optimization  \nThe application has been optimized to ensure efficient data processing and serving, with \narchitectural choices and parallel processing techniques aimed at improving performance"},{"page":350,"sentence":"• Lambda Functions : \nBoth db_lambda_fetchHisData"},{"page":350,"sentence":"py  and db_lambda_automate"},{"page":350,"sentence":"py  utilize AWS \nLambda functions, which allow for serverless execution of code"},{"page":350,"sentence":"This ensures that \nthe data -fetching and transformation tasks are executed efficiently without the \nneed for dedicated servers"},{"page":350,"sentence":"Lambda also supports parallel processing —if \nnecessary, multiple invocations can be handled simultaneously, making the \nprocess more scalable and reducing the time required to process and store data"},{"page":350,"sentence":"• EC2 Instance : \nThe EC2 instance is utilized for running the Streamlit  application and for performing \nthe heavy lifting of connecting to the DynamoDB database and fetching data"},{"page":350,"sentence":"The \nEC2 instance is optimized for higher performance , meaning it is likely provisioned \nwith more computational power to handle larger volumes of data and perform data \nprocessing tasks more efficiently"},{"page":350,"sentence":"In this case, higher -powered EC2 instances can \nensure that visualizations load quickly and that forecasts are generated with \nminimal l atency"},{"page":350,"sentence":"Static Link to the Project  \nYou can access the Streamlit dashboard at the following static URL:  \nhttp:\/\/streamlit -dashboard -launcher"},{"page":350,"sentence":"s3 -website -us-east -1"},{"page":350,"sentence":"amazonaws"},{"page":350,"sentence":"com"}]